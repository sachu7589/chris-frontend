function j_(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var N_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $0={exports:{}},Kl={},U0={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oo=Symbol.for("react.element"),k_=Symbol.for("react.portal"),C_=Symbol.for("react.fragment"),S_=Symbol.for("react.strict_mode"),P_=Symbol.for("react.profiler"),T_=Symbol.for("react.provider"),L_=Symbol.for("react.context"),E_=Symbol.for("react.forward_ref"),A_=Symbol.for("react.suspense"),M_=Symbol.for("react.memo"),D_=Symbol.for("react.lazy"),Gm=Symbol.iterator;function R_(e){return e===null||typeof e!="object"?null:(e=Gm&&e[Gm]||e["@@iterator"],typeof e=="function"?e:null)}var W0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H0=Object.assign,Z0={};function ri(e,t,n){this.props=e,this.context=t,this.refs=Z0,this.updater=n||W0}ri.prototype.isReactComponent={};ri.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ri.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function K0(){}K0.prototype=ri.prototype;function wh(e,t,n){this.props=e,this.context=t,this.refs=Z0,this.updater=n||W0}var _h=wh.prototype=new K0;_h.constructor=wh;H0(_h,ri.prototype);_h.isPureReactComponent=!0;var qm=Array.isArray,G0=Object.prototype.hasOwnProperty,bh={current:null},q0={key:!0,ref:!0,__self:!0,__source:!0};function Y0(e,t,n){var s,o={},l=null,c=null;if(t!=null)for(s in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(l=""+t.key),t)G0.call(t,s)&&!q0.hasOwnProperty(s)&&(o[s]=t[s]);var d=arguments.length-2;if(d===1)o.children=n;else if(1<d){for(var h=Array(d),m=0;m<d;m++)h[m]=arguments[m+2];o.children=h}if(e&&e.defaultProps)for(s in d=e.defaultProps,d)o[s]===void 0&&(o[s]=d[s]);return{$$typeof:Oo,type:e,key:l,ref:c,props:o,_owner:bh.current}}function O_(e,t){return{$$typeof:Oo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jh(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oo}function I_(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ym=/\/+/g;function nu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?I_(""+e.key):t.toString(36)}function qa(e,t,n,s,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(l){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Oo:case k_:c=!0}}if(c)return c=e,o=o(c),e=s===""?"."+nu(c,0):s,qm(o)?(n="",e!=null&&(n=e.replace(Ym,"$&/")+"/"),qa(o,t,n,"",function(m){return m})):o!=null&&(jh(o)&&(o=O_(o,n+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(Ym,"$&/")+"/")+e)),t.push(o)),1;if(c=0,s=s===""?".":s+":",qm(e))for(var d=0;d<e.length;d++){l=e[d];var h=s+nu(l,d);c+=qa(l,t,n,h,o)}else if(h=R_(e),typeof h=="function")for(e=h.call(e),d=0;!(l=e.next()).done;)l=l.value,h=s+nu(l,d++),c+=qa(l,t,n,h,o);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function Ca(e,t,n){if(e==null)return e;var s=[],o=0;return qa(e,s,"","",function(l){return t.call(n,l,o++)}),s}function z_(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Et={current:null},Ya={transition:null},B_={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:Ya,ReactCurrentOwner:bh};function X0(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Ca,forEach:function(e,t,n){Ca(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ca(e,function(){t++}),t},toArray:function(e){return Ca(e,function(t){return t})||[]},only:function(e){if(!jh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=ri;Se.Fragment=C_;Se.Profiler=P_;Se.PureComponent=wh;Se.StrictMode=S_;Se.Suspense=A_;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B_;Se.act=X0;Se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=H0({},e.props),o=e.key,l=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,c=bh.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(h in t)G0.call(t,h)&&!q0.hasOwnProperty(h)&&(s[h]=t[h]===void 0&&d!==void 0?d[h]:t[h])}var h=arguments.length-2;if(h===1)s.children=n;else if(1<h){d=Array(h);for(var m=0;m<h;m++)d[m]=arguments[m+2];s.children=d}return{$$typeof:Oo,type:e.type,key:o,ref:l,props:s,_owner:c}};Se.createContext=function(e){return e={$$typeof:L_,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:T_,_context:e},e.Consumer=e};Se.createElement=Y0;Se.createFactory=function(e){var t=Y0.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:E_,render:e}};Se.isValidElement=jh;Se.lazy=function(e){return{$$typeof:D_,_payload:{_status:-1,_result:e},_init:z_}};Se.memo=function(e,t){return{$$typeof:M_,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=Ya.transition;Ya.transition={};try{e()}finally{Ya.transition=t}};Se.unstable_act=X0;Se.useCallback=function(e,t){return Et.current.useCallback(e,t)};Se.useContext=function(e){return Et.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return Et.current.useDeferredValue(e)};Se.useEffect=function(e,t){return Et.current.useEffect(e,t)};Se.useId=function(){return Et.current.useId()};Se.useImperativeHandle=function(e,t,n){return Et.current.useImperativeHandle(e,t,n)};Se.useInsertionEffect=function(e,t){return Et.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return Et.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return Et.current.useMemo(e,t)};Se.useReducer=function(e,t,n){return Et.current.useReducer(e,t,n)};Se.useRef=function(e){return Et.current.useRef(e)};Se.useState=function(e){return Et.current.useState(e)};Se.useSyncExternalStore=function(e,t,n){return Et.current.useSyncExternalStore(e,t,n)};Se.useTransition=function(){return Et.current.useTransition()};Se.version="18.3.1";U0.exports=Se;var b=U0.exports;const J0=F0(b),V_=j_({__proto__:null,default:J0},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_=b,$_=Symbol.for("react.element"),U_=Symbol.for("react.fragment"),W_=Object.prototype.hasOwnProperty,H_=F_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Z_={key:!0,ref:!0,__self:!0,__source:!0};function Q0(e,t,n){var s,o={},l=null,c=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(c=t.ref);for(s in t)W_.call(t,s)&&!Z_.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)o[s]===void 0&&(o[s]=t[s]);return{$$typeof:$_,type:e,key:l,ref:c,props:o,_owner:H_.current}}Kl.Fragment=U_;Kl.jsx=Q0;Kl.jsxs=Q0;$0.exports=Kl;var i=$0.exports,Ku={},ex={exports:{}},Gt={},tx={exports:{}},nx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,T){var F=j.length;j.push(T);e:for(;0<F;){var X=F-1>>>1,ie=j[X];if(0<o(ie,T))j[X]=T,j[F]=ie,F=X;else break e}}function n(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var T=j[0],F=j.pop();if(F!==T){j[0]=F;e:for(var X=0,ie=j.length,we=ie>>>1;X<we;){var fe=2*(X+1)-1,me=j[fe],ce=fe+1,Q=j[ce];if(0>o(me,F))ce<ie&&0>o(Q,me)?(j[X]=Q,j[ce]=F,X=ce):(j[X]=me,j[fe]=F,X=fe);else if(ce<ie&&0>o(Q,F))j[X]=Q,j[ce]=F,X=ce;else break e}}return T}function o(j,T){var F=j.sortIndex-T.sortIndex;return F!==0?F:j.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var h=[],m=[],p=1,g=null,y=3,P=!1,w=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(j){for(var T=n(m);T!==null;){if(T.callback===null)s(m);else if(T.startTime<=j)s(m),T.sortIndex=T.expirationTime,t(h,T);else break;T=n(m)}}function E(j){if(N=!1,C(j),!w)if(n(h)!==null)w=!0,D(M);else{var T=n(m);T!==null&&B(E,T.startTime-j)}}function M(j,T){w=!1,N&&(N=!1,k(z),z=-1),P=!0;var F=y;try{for(C(T),g=n(h);g!==null&&(!(g.expirationTime>T)||j&&!W());){var X=g.callback;if(typeof X=="function"){g.callback=null,y=g.priorityLevel;var ie=X(g.expirationTime<=T);T=e.unstable_now(),typeof ie=="function"?g.callback=ie:g===n(h)&&s(h),C(T)}else s(h);g=n(h)}if(g!==null)var we=!0;else{var fe=n(m);fe!==null&&B(E,fe.startTime-T),we=!1}return we}finally{g=null,y=F,P=!1}}var V=!1,O=null,z=-1,ee=5,J=-1;function W(){return!(e.unstable_now()-J<ee)}function te(){if(O!==null){var j=e.unstable_now();J=j;var T=!0;try{T=O(!0,j)}finally{T?R():(V=!1,O=null)}}else V=!1}var R;if(typeof _=="function")R=function(){_(te)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,I=U.port2;U.port1.onmessage=te,R=function(){I.postMessage(null)}}else R=function(){S(te,0)};function D(j){O=j,V||(V=!0,R())}function B(j,T){z=S(function(){j(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){w||P||(w=!0,D(M))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(j){switch(y){case 1:case 2:case 3:var T=3;break;default:T=y}var F=y;y=T;try{return j()}finally{y=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,T){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var F=y;y=j;try{return T()}finally{y=F}},e.unstable_scheduleCallback=function(j,T,F){var X=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?X+F:X):F=X,j){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=F+ie,j={id:p++,callback:T,priorityLevel:j,startTime:F,expirationTime:ie,sortIndex:-1},F>X?(j.sortIndex=F,t(m,j),n(h)===null&&j===n(m)&&(N?(k(z),z=-1):N=!0,B(E,F-X))):(j.sortIndex=ie,t(h,j),w||P||(w=!0,D(M))),j},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(j){var T=y;return function(){var F=y;y=T;try{return j.apply(this,arguments)}finally{y=F}}}})(nx);tx.exports=nx;var K_=tx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_=b,Kt=K_;function ne(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rx=new Set,uo={};function cs(e,t){Ks(e,t),Ks(e+"Capture",t)}function Ks(e,t){for(uo[e]=t,e=0;e<t.length;e++)rx.add(t[e])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gu=Object.prototype.hasOwnProperty,q_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xm={},Jm={};function Y_(e){return Gu.call(Jm,e)?!0:Gu.call(Xm,e)?!1:q_.test(e)?Jm[e]=!0:(Xm[e]=!0,!1)}function X_(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function J_(e,t,n,s){if(t===null||typeof t>"u"||X_(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function At(e,t,n,s,o,l,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=c}var yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yt[e]=new At(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yt[t]=new At(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yt[e]=new At(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yt[e]=new At(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yt[e]=new At(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yt[e]=new At(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yt[e]=new At(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yt[e]=new At(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yt[e]=new At(e,5,!1,e.toLowerCase(),null,!1,!1)});var Nh=/[\-:]([a-z])/g;function kh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Nh,kh);yt[t]=new At(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Nh,kh);yt[t]=new At(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Nh,kh);yt[t]=new At(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yt[e]=new At(e,1,!1,e.toLowerCase(),null,!1,!1)});yt.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yt[e]=new At(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ch(e,t,n,s){var o=yt.hasOwnProperty(t)?yt[t]:null;(o!==null?o.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(J_(t,n,o,s)&&(n=null),s||o===null?Y_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,s=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var tr=G_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sa=Symbol.for("react.element"),js=Symbol.for("react.portal"),Ns=Symbol.for("react.fragment"),Sh=Symbol.for("react.strict_mode"),qu=Symbol.for("react.profiler"),sx=Symbol.for("react.provider"),ix=Symbol.for("react.context"),Ph=Symbol.for("react.forward_ref"),Yu=Symbol.for("react.suspense"),Xu=Symbol.for("react.suspense_list"),Th=Symbol.for("react.memo"),ar=Symbol.for("react.lazy"),ox=Symbol.for("react.offscreen"),Qm=Symbol.iterator;function Ri(e){return e===null||typeof e!="object"?null:(e=Qm&&e[Qm]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,ru;function Hi(e){if(ru===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ru=t&&t[1]||""}return`
`+ru+e}var su=!1;function iu(e,t){if(!e||su)return"";su=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var s=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){s=m}e.call(t.prototype)}else{try{throw Error()}catch(m){s=m}e()}}catch(m){if(m&&s&&typeof m.stack=="string"){for(var o=m.stack.split(`
`),l=s.stack.split(`
`),c=o.length-1,d=l.length-1;1<=c&&0<=d&&o[c]!==l[d];)d--;for(;1<=c&&0<=d;c--,d--)if(o[c]!==l[d]){if(c!==1||d!==1)do if(c--,d--,0>d||o[c]!==l[d]){var h=`
`+o[c].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=c&&0<=d);break}}}finally{su=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Hi(e):""}function Q_(e){switch(e.tag){case 5:return Hi(e.type);case 16:return Hi("Lazy");case 13:return Hi("Suspense");case 19:return Hi("SuspenseList");case 0:case 2:case 15:return e=iu(e.type,!1),e;case 11:return e=iu(e.type.render,!1),e;case 1:return e=iu(e.type,!0),e;default:return""}}function Ju(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ns:return"Fragment";case js:return"Portal";case qu:return"Profiler";case Sh:return"StrictMode";case Yu:return"Suspense";case Xu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ix:return(e.displayName||"Context")+".Consumer";case sx:return(e._context.displayName||"Context")+".Provider";case Ph:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Th:return t=e.displayName||null,t!==null?t:Ju(e.type)||"Memo";case ar:t=e._payload,e=e._init;try{return Ju(e(t))}catch{}}return null}function eb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ju(t);case 8:return t===Sh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ax(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function tb(e){var t=ax(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(c){s=""+c,l.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(c){s=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pa(e){e._valueTracker||(e._valueTracker=tb(e))}function lx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=ax(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function pl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Qu(e,t){var n=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ep(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Nr(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cx(e,t){t=t.checked,t!=null&&Ch(e,"checked",t,!1)}function ed(e,t){cx(e,t);var n=Nr(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?td(e,t.type,n):t.hasOwnProperty("defaultValue")&&td(e,t.type,Nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function td(e,t,n){(t!=="number"||pl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zi=Array.isArray;function Vs(e,t,n,s){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Nr(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function nd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ne(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function np(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ne(92));if(Zi(n)){if(1<n.length)throw Error(ne(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nr(n)}}function ux(e,t){var n=Nr(t.value),s=Nr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function rp(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function dx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?dx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ta,hx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ta=Ta||document.createElement("div"),Ta.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ta.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ho(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nb=["Webkit","ms","Moz","O"];Object.keys(Yi).forEach(function(e){nb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yi[t]=Yi[e]})});function fx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Yi.hasOwnProperty(e)&&Yi[e]?(""+t).trim():t+"px"}function mx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,o=fx(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,o):e[n]=o}}var rb=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sd(e,t){if(t){if(rb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ne(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ne(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ne(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ne(62))}}function id(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var od=null;function Lh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ad=null,Fs=null,$s=null;function sp(e){if(e=Bo(e)){if(typeof ad!="function")throw Error(ne(280));var t=e.stateNode;t&&(t=Jl(t),ad(e.stateNode,e.type,t))}}function px(e){Fs?$s?$s.push(e):$s=[e]:Fs=e}function gx(){if(Fs){var e=Fs,t=$s;if($s=Fs=null,sp(e),t)for(e=0;e<t.length;e++)sp(t[e])}}function xx(e,t){return e(t)}function yx(){}var ou=!1;function vx(e,t,n){if(ou)return e(t,n);ou=!0;try{return xx(e,t,n)}finally{ou=!1,(Fs!==null||$s!==null)&&(yx(),gx())}}function fo(e,t){var n=e.stateNode;if(n===null)return null;var s=Jl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ne(231,t,typeof n));return n}var ld=!1;if(Gn)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){ld=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{ld=!1}function sb(e,t,n,s,o,l,c,d,h){var m=Array.prototype.slice.call(arguments,3);try{t.apply(n,m)}catch(p){this.onError(p)}}var Xi=!1,gl=null,xl=!1,cd=null,ib={onError:function(e){Xi=!0,gl=e}};function ob(e,t,n,s,o,l,c,d,h){Xi=!1,gl=null,sb.apply(ib,arguments)}function ab(e,t,n,s,o,l,c,d,h){if(ob.apply(this,arguments),Xi){if(Xi){var m=gl;Xi=!1,gl=null}else throw Error(ne(198));xl||(xl=!0,cd=m)}}function us(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ip(e){if(us(e)!==e)throw Error(ne(188))}function lb(e){var t=e.alternate;if(!t){if(t=us(e),t===null)throw Error(ne(188));return t!==e?null:e}for(var n=e,s=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(s=o.return,s!==null){n=s;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return ip(o),e;if(l===s)return ip(o),t;l=l.sibling}throw Error(ne(188))}if(n.return!==s.return)n=o,s=l;else{for(var c=!1,d=o.child;d;){if(d===n){c=!0,n=o,s=l;break}if(d===s){c=!0,s=o,n=l;break}d=d.sibling}if(!c){for(d=l.child;d;){if(d===n){c=!0,n=l,s=o;break}if(d===s){c=!0,s=l,n=o;break}d=d.sibling}if(!c)throw Error(ne(189))}}if(n.alternate!==s)throw Error(ne(190))}if(n.tag!==3)throw Error(ne(188));return n.stateNode.current===n?e:t}function _x(e){return e=lb(e),e!==null?bx(e):null}function bx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bx(e);if(t!==null)return t;e=e.sibling}return null}var jx=Kt.unstable_scheduleCallback,op=Kt.unstable_cancelCallback,cb=Kt.unstable_shouldYield,ub=Kt.unstable_requestPaint,et=Kt.unstable_now,db=Kt.unstable_getCurrentPriorityLevel,Eh=Kt.unstable_ImmediatePriority,Nx=Kt.unstable_UserBlockingPriority,yl=Kt.unstable_NormalPriority,hb=Kt.unstable_LowPriority,kx=Kt.unstable_IdlePriority,Gl=null,Mn=null;function fb(e){if(Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Gl,e,void 0,(e.current.flags&128)===128)}catch{}}var vn=Math.clz32?Math.clz32:gb,mb=Math.log,pb=Math.LN2;function gb(e){return e>>>=0,e===0?32:31-(mb(e)/pb|0)|0}var La=64,Ea=4194304;function Ki(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vl(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,o=e.suspendedLanes,l=e.pingedLanes,c=n&268435455;if(c!==0){var d=c&~o;d!==0?s=Ki(d):(l&=c,l!==0&&(s=Ki(l)))}else c=n&~o,c!==0?s=Ki(c):l!==0&&(s=Ki(l));if(s===0)return 0;if(t!==0&&t!==s&&!(t&o)&&(o=s&-s,l=t&-t,o>=l||o===16&&(l&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-vn(t),o=1<<n,s|=e[n],t&=~o;return s}function xb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yb(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes;0<l;){var c=31-vn(l),d=1<<c,h=o[c];h===-1?(!(d&n)||d&s)&&(o[c]=xb(d,t)):h<=t&&(e.expiredLanes|=d),l&=~d}}function ud(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Cx(){var e=La;return La<<=1,!(La&4194240)&&(La=64),e}function au(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Io(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-vn(t),e[t]=n}function vb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-vn(n),l=1<<o;t[o]=0,s[o]=-1,e[o]=-1,n&=~l}}function Ah(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-vn(n),o=1<<s;o&t|e[s]&t&&(e[s]|=t),n&=~o}}var Me=0;function Sx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Px,Mh,Tx,Lx,Ex,dd=!1,Aa=[],pr=null,gr=null,xr=null,mo=new Map,po=new Map,cr=[],wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ap(e,t){switch(e){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":xr=null;break;case"pointerover":case"pointerout":mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(t.pointerId)}}function Ii(e,t,n,s,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Bo(t),t!==null&&Mh(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function _b(e,t,n,s,o){switch(t){case"focusin":return pr=Ii(pr,e,t,n,s,o),!0;case"dragenter":return gr=Ii(gr,e,t,n,s,o),!0;case"mouseover":return xr=Ii(xr,e,t,n,s,o),!0;case"pointerover":var l=o.pointerId;return mo.set(l,Ii(mo.get(l)||null,e,t,n,s,o)),!0;case"gotpointercapture":return l=o.pointerId,po.set(l,Ii(po.get(l)||null,e,t,n,s,o)),!0}return!1}function Ax(e){var t=Zr(e.target);if(t!==null){var n=us(t);if(n!==null){if(t=n.tag,t===13){if(t=wx(n),t!==null){e.blockedOn=t,Ex(e.priority,function(){Tx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);od=s,n.target.dispatchEvent(s),od=null}else return t=Bo(n),t!==null&&Mh(t),e.blockedOn=n,!1;t.shift()}return!0}function lp(e,t,n){Xa(e)&&n.delete(t)}function bb(){dd=!1,pr!==null&&Xa(pr)&&(pr=null),gr!==null&&Xa(gr)&&(gr=null),xr!==null&&Xa(xr)&&(xr=null),mo.forEach(lp),po.forEach(lp)}function zi(e,t){e.blockedOn===t&&(e.blockedOn=null,dd||(dd=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,bb)))}function go(e){function t(o){return zi(o,e)}if(0<Aa.length){zi(Aa[0],e);for(var n=1;n<Aa.length;n++){var s=Aa[n];s.blockedOn===e&&(s.blockedOn=null)}}for(pr!==null&&zi(pr,e),gr!==null&&zi(gr,e),xr!==null&&zi(xr,e),mo.forEach(t),po.forEach(t),n=0;n<cr.length;n++)s=cr[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<cr.length&&(n=cr[0],n.blockedOn===null);)Ax(n),n.blockedOn===null&&cr.shift()}var Us=tr.ReactCurrentBatchConfig,wl=!0;function jb(e,t,n,s){var o=Me,l=Us.transition;Us.transition=null;try{Me=1,Dh(e,t,n,s)}finally{Me=o,Us.transition=l}}function Nb(e,t,n,s){var o=Me,l=Us.transition;Us.transition=null;try{Me=4,Dh(e,t,n,s)}finally{Me=o,Us.transition=l}}function Dh(e,t,n,s){if(wl){var o=hd(e,t,n,s);if(o===null)xu(e,t,s,_l,n),ap(e,s);else if(_b(o,e,t,n,s))s.stopPropagation();else if(ap(e,s),t&4&&-1<wb.indexOf(e)){for(;o!==null;){var l=Bo(o);if(l!==null&&Px(l),l=hd(e,t,n,s),l===null&&xu(e,t,s,_l,n),l===o)break;o=l}o!==null&&s.stopPropagation()}else xu(e,t,s,null,n)}}var _l=null;function hd(e,t,n,s){if(_l=null,e=Lh(s),e=Zr(e),e!==null)if(t=us(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _l=e,null}function Mx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(db()){case Eh:return 1;case Nx:return 4;case yl:case hb:return 16;case kx:return 536870912;default:return 16}default:return 16}}var hr=null,Rh=null,Ja=null;function Dx(){if(Ja)return Ja;var e,t=Rh,n=t.length,s,o="value"in hr?hr.value:hr.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var c=n-e;for(s=1;s<=c&&t[n-s]===o[l-s];s++);return Ja=o.slice(e,1<s?1-s:void 0)}function Qa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ma(){return!0}function cp(){return!1}function qt(e){function t(n,s,o,l,c){this._reactName=n,this._targetInst=o,this.type=s,this.nativeEvent=l,this.target=c,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(l):l[d]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ma:cp,this.isPropagationStopped=cp,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ma)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ma)},persist:function(){},isPersistent:Ma}),t}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oh=qt(si),zo=He({},si,{view:0,detail:0}),kb=qt(zo),lu,cu,Bi,ql=He({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ih,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bi&&(Bi&&e.type==="mousemove"?(lu=e.screenX-Bi.screenX,cu=e.screenY-Bi.screenY):cu=lu=0,Bi=e),lu)},movementY:function(e){return"movementY"in e?e.movementY:cu}}),up=qt(ql),Cb=He({},ql,{dataTransfer:0}),Sb=qt(Cb),Pb=He({},zo,{relatedTarget:0}),uu=qt(Pb),Tb=He({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),Lb=qt(Tb),Eb=He({},si,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ab=qt(Eb),Mb=He({},si,{data:0}),dp=qt(Mb),Db={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ob={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ib(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ob[e])?!!t[e]:!1}function Ih(){return Ib}var zb=He({},zo,{key:function(e){if(e.key){var t=Db[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ih,charCode:function(e){return e.type==="keypress"?Qa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bb=qt(zb),Vb=He({},ql,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hp=qt(Vb),Fb=He({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ih}),$b=qt(Fb),Ub=He({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wb=qt(Ub),Hb=He({},ql,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zb=qt(Hb),Kb=[9,13,27,32],zh=Gn&&"CompositionEvent"in window,Ji=null;Gn&&"documentMode"in document&&(Ji=document.documentMode);var Gb=Gn&&"TextEvent"in window&&!Ji,Rx=Gn&&(!zh||Ji&&8<Ji&&11>=Ji),fp=" ",mp=!1;function Ox(e,t){switch(e){case"keyup":return Kb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ix(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ks=!1;function qb(e,t){switch(e){case"compositionend":return Ix(t);case"keypress":return t.which!==32?null:(mp=!0,fp);case"textInput":return e=t.data,e===fp&&mp?null:e;default:return null}}function Yb(e,t){if(ks)return e==="compositionend"||!zh&&Ox(e,t)?(e=Dx(),Ja=Rh=hr=null,ks=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rx&&t.locale!=="ko"?null:t.data;default:return null}}var Xb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Xb[e.type]:t==="textarea"}function zx(e,t,n,s){px(s),t=bl(t,"onChange"),0<t.length&&(n=new Oh("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Qi=null,xo=null;function Jb(e){qx(e,0)}function Yl(e){var t=Ps(e);if(lx(t))return e}function Qb(e,t){if(e==="change")return t}var Bx=!1;if(Gn){var du;if(Gn){var hu="oninput"in document;if(!hu){var gp=document.createElement("div");gp.setAttribute("oninput","return;"),hu=typeof gp.oninput=="function"}du=hu}else du=!1;Bx=du&&(!document.documentMode||9<document.documentMode)}function xp(){Qi&&(Qi.detachEvent("onpropertychange",Vx),xo=Qi=null)}function Vx(e){if(e.propertyName==="value"&&Yl(xo)){var t=[];zx(t,xo,e,Lh(e)),vx(Jb,t)}}function e2(e,t,n){e==="focusin"?(xp(),Qi=t,xo=n,Qi.attachEvent("onpropertychange",Vx)):e==="focusout"&&xp()}function t2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yl(xo)}function n2(e,t){if(e==="click")return Yl(t)}function r2(e,t){if(e==="input"||e==="change")return Yl(t)}function s2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _n=typeof Object.is=="function"?Object.is:s2;function yo(e,t){if(_n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var o=n[s];if(!Gu.call(t,o)||!_n(e[o],t[o]))return!1}return!0}function yp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vp(e,t){var n=yp(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=yp(n)}}function Fx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $x(){for(var e=window,t=pl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=pl(e.document)}return t}function Bh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function i2(e){var t=$x(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fx(n.ownerDocument.documentElement,n)){if(s!==null&&Bh(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,l=Math.min(s.start,o);s=s.end===void 0?l:Math.min(s.end,o),!e.extend&&l>s&&(o=s,s=l,l=o),o=vp(n,l);var c=vp(n,s);o&&c&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),l>s?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var o2=Gn&&"documentMode"in document&&11>=document.documentMode,Cs=null,fd=null,eo=null,md=!1;function wp(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;md||Cs==null||Cs!==pl(s)||(s=Cs,"selectionStart"in s&&Bh(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),eo&&yo(eo,s)||(eo=s,s=bl(fd,"onSelect"),0<s.length&&(t=new Oh("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Cs)))}function Da(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ss={animationend:Da("Animation","AnimationEnd"),animationiteration:Da("Animation","AnimationIteration"),animationstart:Da("Animation","AnimationStart"),transitionend:Da("Transition","TransitionEnd")},fu={},Ux={};Gn&&(Ux=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);function Xl(e){if(fu[e])return fu[e];if(!Ss[e])return e;var t=Ss[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ux)return fu[e]=t[n];return e}var Wx=Xl("animationend"),Hx=Xl("animationiteration"),Zx=Xl("animationstart"),Kx=Xl("transitionend"),Gx=new Map,_p="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Gx.set(e,t),cs(t,[e])}for(var mu=0;mu<_p.length;mu++){var pu=_p[mu],a2=pu.toLowerCase(),l2=pu[0].toUpperCase()+pu.slice(1);Pr(a2,"on"+l2)}Pr(Wx,"onAnimationEnd");Pr(Hx,"onAnimationIteration");Pr(Zx,"onAnimationStart");Pr("dblclick","onDoubleClick");Pr("focusin","onFocus");Pr("focusout","onBlur");Pr(Kx,"onTransitionEnd");Ks("onMouseEnter",["mouseout","mouseover"]);Ks("onMouseLeave",["mouseout","mouseover"]);Ks("onPointerEnter",["pointerout","pointerover"]);Ks("onPointerLeave",["pointerout","pointerover"]);cs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cs("onBeforeInput",["compositionend","keypress","textInput","paste"]);cs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gi));function bp(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,ab(s,t,void 0,e),e.currentTarget=null}function qx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],o=s.event;s=s.listeners;e:{var l=void 0;if(t)for(var c=s.length-1;0<=c;c--){var d=s[c],h=d.instance,m=d.currentTarget;if(d=d.listener,h!==l&&o.isPropagationStopped())break e;bp(o,d,m),l=h}else for(c=0;c<s.length;c++){if(d=s[c],h=d.instance,m=d.currentTarget,d=d.listener,h!==l&&o.isPropagationStopped())break e;bp(o,d,m),l=h}}}if(xl)throw e=cd,xl=!1,cd=null,e}function Ie(e,t){var n=t[vd];n===void 0&&(n=t[vd]=new Set);var s=e+"__bubble";n.has(s)||(Yx(t,e,2,!1),n.add(s))}function gu(e,t,n){var s=0;t&&(s|=4),Yx(n,e,s,t)}var Ra="_reactListening"+Math.random().toString(36).slice(2);function vo(e){if(!e[Ra]){e[Ra]=!0,rx.forEach(function(n){n!=="selectionchange"&&(c2.has(n)||gu(n,!1,e),gu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ra]||(t[Ra]=!0,gu("selectionchange",!1,t))}}function Yx(e,t,n,s){switch(Mx(t)){case 1:var o=jb;break;case 4:o=Nb;break;default:o=Dh}n=o.bind(null,t,n,e),o=void 0,!ld||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function xu(e,t,n,s,o){var l=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var c=s.tag;if(c===3||c===4){var d=s.stateNode.containerInfo;if(d===o||d.nodeType===8&&d.parentNode===o)break;if(c===4)for(c=s.return;c!==null;){var h=c.tag;if((h===3||h===4)&&(h=c.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;c=c.return}for(;d!==null;){if(c=Zr(d),c===null)return;if(h=c.tag,h===5||h===6){s=l=c;continue e}d=d.parentNode}}s=s.return}vx(function(){var m=l,p=Lh(n),g=[];e:{var y=Gx.get(e);if(y!==void 0){var P=Oh,w=e;switch(e){case"keypress":if(Qa(n)===0)break e;case"keydown":case"keyup":P=Bb;break;case"focusin":w="focus",P=uu;break;case"focusout":w="blur",P=uu;break;case"beforeblur":case"afterblur":P=uu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=up;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Sb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=$b;break;case Wx:case Hx:case Zx:P=Lb;break;case Kx:P=Wb;break;case"scroll":P=kb;break;case"wheel":P=Zb;break;case"copy":case"cut":case"paste":P=Ab;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=hp}var N=(t&4)!==0,S=!N&&e==="scroll",k=N?y!==null?y+"Capture":null:y;N=[];for(var _=m,C;_!==null;){C=_;var E=C.stateNode;if(C.tag===5&&E!==null&&(C=E,k!==null&&(E=fo(_,k),E!=null&&N.push(wo(_,E,C)))),S)break;_=_.return}0<N.length&&(y=new P(y,w,null,n,p),g.push({event:y,listeners:N}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",y&&n!==od&&(w=n.relatedTarget||n.fromElement)&&(Zr(w)||w[qn]))break e;if((P||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,P?(w=n.relatedTarget||n.toElement,P=m,w=w?Zr(w):null,w!==null&&(S=us(w),w!==S||w.tag!==5&&w.tag!==6)&&(w=null)):(P=null,w=m),P!==w)){if(N=up,E="onMouseLeave",k="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(N=hp,E="onPointerLeave",k="onPointerEnter",_="pointer"),S=P==null?y:Ps(P),C=w==null?y:Ps(w),y=new N(E,_+"leave",P,n,p),y.target=S,y.relatedTarget=C,E=null,Zr(p)===m&&(N=new N(k,_+"enter",w,n,p),N.target=C,N.relatedTarget=S,E=N),S=E,P&&w)t:{for(N=P,k=w,_=0,C=N;C;C=_s(C))_++;for(C=0,E=k;E;E=_s(E))C++;for(;0<_-C;)N=_s(N),_--;for(;0<C-_;)k=_s(k),C--;for(;_--;){if(N===k||k!==null&&N===k.alternate)break t;N=_s(N),k=_s(k)}N=null}else N=null;P!==null&&jp(g,y,P,N,!1),w!==null&&S!==null&&jp(g,S,w,N,!0)}}e:{if(y=m?Ps(m):window,P=y.nodeName&&y.nodeName.toLowerCase(),P==="select"||P==="input"&&y.type==="file")var M=Qb;else if(pp(y))if(Bx)M=r2;else{M=t2;var V=e2}else(P=y.nodeName)&&P.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(M=n2);if(M&&(M=M(e,m))){zx(g,M,n,p);break e}V&&V(e,y,m),e==="focusout"&&(V=y._wrapperState)&&V.controlled&&y.type==="number"&&td(y,"number",y.value)}switch(V=m?Ps(m):window,e){case"focusin":(pp(V)||V.contentEditable==="true")&&(Cs=V,fd=m,eo=null);break;case"focusout":eo=fd=Cs=null;break;case"mousedown":md=!0;break;case"contextmenu":case"mouseup":case"dragend":md=!1,wp(g,n,p);break;case"selectionchange":if(o2)break;case"keydown":case"keyup":wp(g,n,p)}var O;if(zh)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else ks?Ox(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(Rx&&n.locale!=="ko"&&(ks||z!=="onCompositionStart"?z==="onCompositionEnd"&&ks&&(O=Dx()):(hr=p,Rh="value"in hr?hr.value:hr.textContent,ks=!0)),V=bl(m,z),0<V.length&&(z=new dp(z,e,null,n,p),g.push({event:z,listeners:V}),O?z.data=O:(O=Ix(n),O!==null&&(z.data=O)))),(O=Gb?qb(e,n):Yb(e,n))&&(m=bl(m,"onBeforeInput"),0<m.length&&(p=new dp("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:m}),p.data=O))}qx(g,t)})}function wo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bl(e,t){for(var n=t+"Capture",s=[];e!==null;){var o=e,l=o.stateNode;o.tag===5&&l!==null&&(o=l,l=fo(e,n),l!=null&&s.unshift(wo(e,l,o)),l=fo(e,t),l!=null&&s.push(wo(e,l,o))),e=e.return}return s}function _s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function jp(e,t,n,s,o){for(var l=t._reactName,c=[];n!==null&&n!==s;){var d=n,h=d.alternate,m=d.stateNode;if(h!==null&&h===s)break;d.tag===5&&m!==null&&(d=m,o?(h=fo(n,l),h!=null&&c.unshift(wo(n,h,d))):o||(h=fo(n,l),h!=null&&c.push(wo(n,h,d)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var u2=/\r\n?/g,d2=/\u0000|\uFFFD/g;function Np(e){return(typeof e=="string"?e:""+e).replace(u2,`
`).replace(d2,"")}function Oa(e,t,n){if(t=Np(t),Np(e)!==t&&n)throw Error(ne(425))}function jl(){}var pd=null,gd=null;function xd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yd=typeof setTimeout=="function"?setTimeout:void 0,h2=typeof clearTimeout=="function"?clearTimeout:void 0,kp=typeof Promise=="function"?Promise:void 0,f2=typeof queueMicrotask=="function"?queueMicrotask:typeof kp<"u"?function(e){return kp.resolve(null).then(e).catch(m2)}:yd;function m2(e){setTimeout(function(){throw e})}function yu(e,t){var n=t,s=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(s===0){e.removeChild(o),go(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=o}while(n);go(t)}function yr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ii=Math.random().toString(36).slice(2),En="__reactFiber$"+ii,_o="__reactProps$"+ii,qn="__reactContainer$"+ii,vd="__reactEvents$"+ii,p2="__reactListeners$"+ii,g2="__reactHandles$"+ii;function Zr(e){var t=e[En];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qn]||n[En]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Cp(e);e!==null;){if(n=e[En])return n;e=Cp(e)}return t}e=n,n=e.parentNode}return null}function Bo(e){return e=e[En]||e[qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ps(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ne(33))}function Jl(e){return e[_o]||null}var wd=[],Ts=-1;function Tr(e){return{current:e}}function ze(e){0>Ts||(e.current=wd[Ts],wd[Ts]=null,Ts--)}function Oe(e,t){Ts++,wd[Ts]=e.current,e.current=t}var kr={},kt=Tr(kr),zt=Tr(!1),rs=kr;function Gs(e,t){var n=e.type.contextTypes;if(!n)return kr;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var o={},l;for(l in n)o[l]=t[l];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Bt(e){return e=e.childContextTypes,e!=null}function Nl(){ze(zt),ze(kt)}function Sp(e,t,n){if(kt.current!==kr)throw Error(ne(168));Oe(kt,t),Oe(zt,n)}function Xx(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var o in s)if(!(o in t))throw Error(ne(108,eb(e)||"Unknown",o));return He({},n,s)}function kl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,rs=kt.current,Oe(kt,e),Oe(zt,zt.current),!0}function Pp(e,t,n){var s=e.stateNode;if(!s)throw Error(ne(169));n?(e=Xx(e,t,rs),s.__reactInternalMemoizedMergedChildContext=e,ze(zt),ze(kt),Oe(kt,e)):ze(zt),Oe(zt,n)}var Wn=null,Ql=!1,vu=!1;function Jx(e){Wn===null?Wn=[e]:Wn.push(e)}function x2(e){Ql=!0,Jx(e)}function Lr(){if(!vu&&Wn!==null){vu=!0;var e=0,t=Me;try{var n=Wn;for(Me=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Wn=null,Ql=!1}catch(o){throw Wn!==null&&(Wn=Wn.slice(e+1)),jx(Eh,Lr),o}finally{Me=t,vu=!1}}return null}var Ls=[],Es=0,Cl=null,Sl=0,nn=[],rn=0,ss=null,Hn=1,Zn="";function $r(e,t){Ls[Es++]=Sl,Ls[Es++]=Cl,Cl=e,Sl=t}function Qx(e,t,n){nn[rn++]=Hn,nn[rn++]=Zn,nn[rn++]=ss,ss=e;var s=Hn;e=Zn;var o=32-vn(s)-1;s&=~(1<<o),n+=1;var l=32-vn(t)+o;if(30<l){var c=o-o%5;l=(s&(1<<c)-1).toString(32),s>>=c,o-=c,Hn=1<<32-vn(t)+o|n<<o|s,Zn=l+e}else Hn=1<<l|n<<o|s,Zn=e}function Vh(e){e.return!==null&&($r(e,1),Qx(e,1,0))}function Fh(e){for(;e===Cl;)Cl=Ls[--Es],Ls[Es]=null,Sl=Ls[--Es],Ls[Es]=null;for(;e===ss;)ss=nn[--rn],nn[rn]=null,Zn=nn[--rn],nn[rn]=null,Hn=nn[--rn],nn[rn]=null}var Zt=null,Ht=null,Be=!1,yn=null;function ey(e,t){var n=sn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Tp(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zt=e,Ht=yr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zt=e,Ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ss!==null?{id:Hn,overflow:Zn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=sn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Zt=e,Ht=null,!0):!1;default:return!1}}function _d(e){return(e.mode&1)!==0&&(e.flags&128)===0}function bd(e){if(Be){var t=Ht;if(t){var n=t;if(!Tp(e,t)){if(_d(e))throw Error(ne(418));t=yr(n.nextSibling);var s=Zt;t&&Tp(e,t)?ey(s,n):(e.flags=e.flags&-4097|2,Be=!1,Zt=e)}}else{if(_d(e))throw Error(ne(418));e.flags=e.flags&-4097|2,Be=!1,Zt=e}}}function Lp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zt=e}function Ia(e){if(e!==Zt)return!1;if(!Be)return Lp(e),Be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xd(e.type,e.memoizedProps)),t&&(t=Ht)){if(_d(e))throw ty(),Error(ne(418));for(;t;)ey(e,t),t=yr(t.nextSibling)}if(Lp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ne(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ht=yr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ht=null}}else Ht=Zt?yr(e.stateNode.nextSibling):null;return!0}function ty(){for(var e=Ht;e;)e=yr(e.nextSibling)}function qs(){Ht=Zt=null,Be=!1}function $h(e){yn===null?yn=[e]:yn.push(e)}var y2=tr.ReactCurrentBatchConfig;function Vi(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ne(309));var s=n.stateNode}if(!s)throw Error(ne(147,e));var o=s,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(c){var d=o.refs;c===null?delete d[l]:d[l]=c},t._stringRef=l,t)}if(typeof e!="string")throw Error(ne(284));if(!n._owner)throw Error(ne(290,e))}return e}function za(e,t){throw e=Object.prototype.toString.call(t),Error(ne(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ep(e){var t=e._init;return t(e._payload)}function ny(e){function t(k,_){if(e){var C=k.deletions;C===null?(k.deletions=[_],k.flags|=16):C.push(_)}}function n(k,_){if(!e)return null;for(;_!==null;)t(k,_),_=_.sibling;return null}function s(k,_){for(k=new Map;_!==null;)_.key!==null?k.set(_.key,_):k.set(_.index,_),_=_.sibling;return k}function o(k,_){return k=br(k,_),k.index=0,k.sibling=null,k}function l(k,_,C){return k.index=C,e?(C=k.alternate,C!==null?(C=C.index,C<_?(k.flags|=2,_):C):(k.flags|=2,_)):(k.flags|=1048576,_)}function c(k){return e&&k.alternate===null&&(k.flags|=2),k}function d(k,_,C,E){return _===null||_.tag!==6?(_=Cu(C,k.mode,E),_.return=k,_):(_=o(_,C),_.return=k,_)}function h(k,_,C,E){var M=C.type;return M===Ns?p(k,_,C.props.children,E,C.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ar&&Ep(M)===_.type)?(E=o(_,C.props),E.ref=Vi(k,_,C),E.return=k,E):(E=ol(C.type,C.key,C.props,null,k.mode,E),E.ref=Vi(k,_,C),E.return=k,E)}function m(k,_,C,E){return _===null||_.tag!==4||_.stateNode.containerInfo!==C.containerInfo||_.stateNode.implementation!==C.implementation?(_=Su(C,k.mode,E),_.return=k,_):(_=o(_,C.children||[]),_.return=k,_)}function p(k,_,C,E,M){return _===null||_.tag!==7?(_=Qr(C,k.mode,E,M),_.return=k,_):(_=o(_,C),_.return=k,_)}function g(k,_,C){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Cu(""+_,k.mode,C),_.return=k,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Sa:return C=ol(_.type,_.key,_.props,null,k.mode,C),C.ref=Vi(k,null,_),C.return=k,C;case js:return _=Su(_,k.mode,C),_.return=k,_;case ar:var E=_._init;return g(k,E(_._payload),C)}if(Zi(_)||Ri(_))return _=Qr(_,k.mode,C,null),_.return=k,_;za(k,_)}return null}function y(k,_,C,E){var M=_!==null?_.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return M!==null?null:d(k,_,""+C,E);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Sa:return C.key===M?h(k,_,C,E):null;case js:return C.key===M?m(k,_,C,E):null;case ar:return M=C._init,y(k,_,M(C._payload),E)}if(Zi(C)||Ri(C))return M!==null?null:p(k,_,C,E,null);za(k,C)}return null}function P(k,_,C,E,M){if(typeof E=="string"&&E!==""||typeof E=="number")return k=k.get(C)||null,d(_,k,""+E,M);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Sa:return k=k.get(E.key===null?C:E.key)||null,h(_,k,E,M);case js:return k=k.get(E.key===null?C:E.key)||null,m(_,k,E,M);case ar:var V=E._init;return P(k,_,C,V(E._payload),M)}if(Zi(E)||Ri(E))return k=k.get(C)||null,p(_,k,E,M,null);za(_,E)}return null}function w(k,_,C,E){for(var M=null,V=null,O=_,z=_=0,ee=null;O!==null&&z<C.length;z++){O.index>z?(ee=O,O=null):ee=O.sibling;var J=y(k,O,C[z],E);if(J===null){O===null&&(O=ee);break}e&&O&&J.alternate===null&&t(k,O),_=l(J,_,z),V===null?M=J:V.sibling=J,V=J,O=ee}if(z===C.length)return n(k,O),Be&&$r(k,z),M;if(O===null){for(;z<C.length;z++)O=g(k,C[z],E),O!==null&&(_=l(O,_,z),V===null?M=O:V.sibling=O,V=O);return Be&&$r(k,z),M}for(O=s(k,O);z<C.length;z++)ee=P(O,k,z,C[z],E),ee!==null&&(e&&ee.alternate!==null&&O.delete(ee.key===null?z:ee.key),_=l(ee,_,z),V===null?M=ee:V.sibling=ee,V=ee);return e&&O.forEach(function(W){return t(k,W)}),Be&&$r(k,z),M}function N(k,_,C,E){var M=Ri(C);if(typeof M!="function")throw Error(ne(150));if(C=M.call(C),C==null)throw Error(ne(151));for(var V=M=null,O=_,z=_=0,ee=null,J=C.next();O!==null&&!J.done;z++,J=C.next()){O.index>z?(ee=O,O=null):ee=O.sibling;var W=y(k,O,J.value,E);if(W===null){O===null&&(O=ee);break}e&&O&&W.alternate===null&&t(k,O),_=l(W,_,z),V===null?M=W:V.sibling=W,V=W,O=ee}if(J.done)return n(k,O),Be&&$r(k,z),M;if(O===null){for(;!J.done;z++,J=C.next())J=g(k,J.value,E),J!==null&&(_=l(J,_,z),V===null?M=J:V.sibling=J,V=J);return Be&&$r(k,z),M}for(O=s(k,O);!J.done;z++,J=C.next())J=P(O,k,z,J.value,E),J!==null&&(e&&J.alternate!==null&&O.delete(J.key===null?z:J.key),_=l(J,_,z),V===null?M=J:V.sibling=J,V=J);return e&&O.forEach(function(te){return t(k,te)}),Be&&$r(k,z),M}function S(k,_,C,E){if(typeof C=="object"&&C!==null&&C.type===Ns&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Sa:e:{for(var M=C.key,V=_;V!==null;){if(V.key===M){if(M=C.type,M===Ns){if(V.tag===7){n(k,V.sibling),_=o(V,C.props.children),_.return=k,k=_;break e}}else if(V.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ar&&Ep(M)===V.type){n(k,V.sibling),_=o(V,C.props),_.ref=Vi(k,V,C),_.return=k,k=_;break e}n(k,V);break}else t(k,V);V=V.sibling}C.type===Ns?(_=Qr(C.props.children,k.mode,E,C.key),_.return=k,k=_):(E=ol(C.type,C.key,C.props,null,k.mode,E),E.ref=Vi(k,_,C),E.return=k,k=E)}return c(k);case js:e:{for(V=C.key;_!==null;){if(_.key===V)if(_.tag===4&&_.stateNode.containerInfo===C.containerInfo&&_.stateNode.implementation===C.implementation){n(k,_.sibling),_=o(_,C.children||[]),_.return=k,k=_;break e}else{n(k,_);break}else t(k,_);_=_.sibling}_=Su(C,k.mode,E),_.return=k,k=_}return c(k);case ar:return V=C._init,S(k,_,V(C._payload),E)}if(Zi(C))return w(k,_,C,E);if(Ri(C))return N(k,_,C,E);za(k,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,_!==null&&_.tag===6?(n(k,_.sibling),_=o(_,C),_.return=k,k=_):(n(k,_),_=Cu(C,k.mode,E),_.return=k,k=_),c(k)):n(k,_)}return S}var Ys=ny(!0),ry=ny(!1),Pl=Tr(null),Tl=null,As=null,Uh=null;function Wh(){Uh=As=Tl=null}function Hh(e){var t=Pl.current;ze(Pl),e._currentValue=t}function jd(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Ws(e,t){Tl=e,Uh=As=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ot=!0),e.firstContext=null)}function cn(e){var t=e._currentValue;if(Uh!==e)if(e={context:e,memoizedValue:t,next:null},As===null){if(Tl===null)throw Error(ne(308));As=e,Tl.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return t}var Kr=null;function Zh(e){Kr===null?Kr=[e]:Kr.push(e)}function sy(e,t,n,s){var o=t.interleaved;return o===null?(n.next=n,Zh(t)):(n.next=o.next,o.next=n),t.interleaved=n,Yn(e,s)}function Yn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var lr=!1;function Kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vr(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Le&2){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,Yn(e,n)}return o=s.interleaved,o===null?(t.next=t,Zh(s)):(t.next=o.next,o.next=t),s.interleaved=t,Yn(e,n)}function el(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ah(e,n)}}function Ap(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?o=l=c:l=l.next=c,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ll(e,t,n,s){var o=e.updateQueue;lr=!1;var l=o.firstBaseUpdate,c=o.lastBaseUpdate,d=o.shared.pending;if(d!==null){o.shared.pending=null;var h=d,m=h.next;h.next=null,c===null?l=m:c.next=m,c=h;var p=e.alternate;p!==null&&(p=p.updateQueue,d=p.lastBaseUpdate,d!==c&&(d===null?p.firstBaseUpdate=m:d.next=m,p.lastBaseUpdate=h))}if(l!==null){var g=o.baseState;c=0,p=m=h=null,d=l;do{var y=d.lane,P=d.eventTime;if((s&y)===y){p!==null&&(p=p.next={eventTime:P,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var w=e,N=d;switch(y=t,P=n,N.tag){case 1:if(w=N.payload,typeof w=="function"){g=w.call(P,g,y);break e}g=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=N.payload,y=typeof w=="function"?w.call(P,g,y):w,y==null)break e;g=He({},g,y);break e;case 2:lr=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,y=o.effects,y===null?o.effects=[d]:y.push(d))}else P={eventTime:P,lane:y,tag:d.tag,payload:d.payload,callback:d.callback,next:null},p===null?(m=p=P,h=g):p=p.next=P,c|=y;if(d=d.next,d===null){if(d=o.shared.pending,d===null)break;y=d,d=y.next,y.next=null,o.lastBaseUpdate=y,o.shared.pending=null}}while(!0);if(p===null&&(h=g),o.baseState=h,o.firstBaseUpdate=m,o.lastBaseUpdate=p,t=o.shared.interleaved,t!==null){o=t;do c|=o.lane,o=o.next;while(o!==t)}else l===null&&(o.shared.lanes=0);os|=c,e.lanes=c,e.memoizedState=g}}function Mp(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],o=s.callback;if(o!==null){if(s.callback=null,s=n,typeof o!="function")throw Error(ne(191,o));o.call(s)}}}var Vo={},Dn=Tr(Vo),bo=Tr(Vo),jo=Tr(Vo);function Gr(e){if(e===Vo)throw Error(ne(174));return e}function Gh(e,t){switch(Oe(jo,t),Oe(bo,e),Oe(Dn,Vo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rd(t,e)}ze(Dn),Oe(Dn,t)}function Xs(){ze(Dn),ze(bo),ze(jo)}function oy(e){Gr(jo.current);var t=Gr(Dn.current),n=rd(t,e.type);t!==n&&(Oe(bo,e),Oe(Dn,n))}function qh(e){bo.current===e&&(ze(Dn),ze(bo))}var $e=Tr(0);function El(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wu=[];function Yh(){for(var e=0;e<wu.length;e++)wu[e]._workInProgressVersionPrimary=null;wu.length=0}var tl=tr.ReactCurrentDispatcher,_u=tr.ReactCurrentBatchConfig,is=0,We=null,ot=null,ut=null,Al=!1,to=!1,No=0,v2=0;function vt(){throw Error(ne(321))}function Xh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_n(e[n],t[n]))return!1;return!0}function Jh(e,t,n,s,o,l){if(is=l,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tl.current=e===null||e.memoizedState===null?j2:N2,e=n(s,o),to){l=0;do{if(to=!1,No=0,25<=l)throw Error(ne(301));l+=1,ut=ot=null,t.updateQueue=null,tl.current=k2,e=n(s,o)}while(to)}if(tl.current=Ml,t=ot!==null&&ot.next!==null,is=0,ut=ot=We=null,Al=!1,t)throw Error(ne(300));return e}function Qh(){var e=No!==0;return No=0,e}function Ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?We.memoizedState=ut=e:ut=ut.next=e,ut}function un(){if(ot===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=ot.next;var t=ut===null?We.memoizedState:ut.next;if(t!==null)ut=t,ot=e;else{if(e===null)throw Error(ne(310));ot=e,e={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},ut===null?We.memoizedState=ut=e:ut=ut.next=e}return ut}function ko(e,t){return typeof t=="function"?t(e):t}function bu(e){var t=un(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var s=ot,o=s.baseQueue,l=n.pending;if(l!==null){if(o!==null){var c=o.next;o.next=l.next,l.next=c}s.baseQueue=o=l,n.pending=null}if(o!==null){l=o.next,s=s.baseState;var d=c=null,h=null,m=l;do{var p=m.lane;if((is&p)===p)h!==null&&(h=h.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),s=m.hasEagerState?m.eagerState:e(s,m.action);else{var g={lane:p,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};h===null?(d=h=g,c=s):h=h.next=g,We.lanes|=p,os|=p}m=m.next}while(m!==null&&m!==l);h===null?c=s:h.next=d,_n(s,t.memoizedState)||(Ot=!0),t.memoizedState=s,t.baseState=c,t.baseQueue=h,n.lastRenderedState=s}if(e=n.interleaved,e!==null){o=e;do l=o.lane,We.lanes|=l,os|=l,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ju(e){var t=un(),n=t.queue;if(n===null)throw Error(ne(311));n.lastRenderedReducer=e;var s=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var c=o=o.next;do l=e(l,c.action),c=c.next;while(c!==o);_n(l,t.memoizedState)||(Ot=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,s]}function ay(){}function ly(e,t){var n=We,s=un(),o=t(),l=!_n(s.memoizedState,o);if(l&&(s.memoizedState=o,Ot=!0),s=s.queue,ef(dy.bind(null,n,s,e),[e]),s.getSnapshot!==t||l||ut!==null&&ut.memoizedState.tag&1){if(n.flags|=2048,Co(9,uy.bind(null,n,s,o,t),void 0,null),ht===null)throw Error(ne(349));is&30||cy(n,t,o)}return o}function cy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function uy(e,t,n,s){t.value=n,t.getSnapshot=s,hy(t)&&fy(e)}function dy(e,t,n){return n(function(){hy(t)&&fy(e)})}function hy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_n(e,n)}catch{return!0}}function fy(e){var t=Yn(e,1);t!==null&&wn(t,e,1,-1)}function Dp(e){var t=Ln();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},t.queue=e,e=e.dispatch=b2.bind(null,We,e),[t.memoizedState,e]}function Co(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=We.updateQueue,t===null?(t={lastEffect:null,stores:null},We.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function my(){return un().memoizedState}function nl(e,t,n,s){var o=Ln();We.flags|=e,o.memoizedState=Co(1|t,n,void 0,s===void 0?null:s)}function ec(e,t,n,s){var o=un();s=s===void 0?null:s;var l=void 0;if(ot!==null){var c=ot.memoizedState;if(l=c.destroy,s!==null&&Xh(s,c.deps)){o.memoizedState=Co(t,n,l,s);return}}We.flags|=e,o.memoizedState=Co(1|t,n,l,s)}function Rp(e,t){return nl(8390656,8,e,t)}function ef(e,t){return ec(2048,8,e,t)}function py(e,t){return ec(4,2,e,t)}function gy(e,t){return ec(4,4,e,t)}function xy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yy(e,t,n){return n=n!=null?n.concat([e]):null,ec(4,4,xy.bind(null,t,e),n)}function tf(){}function vy(e,t){var n=un();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Xh(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function wy(e,t){var n=un();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Xh(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function _y(e,t,n){return is&21?(_n(n,t)||(n=Cx(),We.lanes|=n,os|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ot=!0),e.memoizedState=n)}function w2(e,t){var n=Me;Me=n!==0&&4>n?n:4,e(!0);var s=_u.transition;_u.transition={};try{e(!1),t()}finally{Me=n,_u.transition=s}}function by(){return un().memoizedState}function _2(e,t,n){var s=_r(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},jy(e))Ny(t,n);else if(n=sy(e,t,n,s),n!==null){var o=Lt();wn(n,e,s,o),ky(n,t,s)}}function b2(e,t,n){var s=_r(e),o={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(jy(e))Ny(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var c=t.lastRenderedState,d=l(c,n);if(o.hasEagerState=!0,o.eagerState=d,_n(d,c)){var h=t.interleaved;h===null?(o.next=o,Zh(t)):(o.next=h.next,h.next=o),t.interleaved=o;return}}catch{}finally{}n=sy(e,t,o,s),n!==null&&(o=Lt(),wn(n,e,s,o),ky(n,t,s))}}function jy(e){var t=e.alternate;return e===We||t!==null&&t===We}function Ny(e,t){to=Al=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ky(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Ah(e,n)}}var Ml={readContext:cn,useCallback:vt,useContext:vt,useEffect:vt,useImperativeHandle:vt,useInsertionEffect:vt,useLayoutEffect:vt,useMemo:vt,useReducer:vt,useRef:vt,useState:vt,useDebugValue:vt,useDeferredValue:vt,useTransition:vt,useMutableSource:vt,useSyncExternalStore:vt,useId:vt,unstable_isNewReconciler:!1},j2={readContext:cn,useCallback:function(e,t){return Ln().memoizedState=[e,t===void 0?null:t],e},useContext:cn,useEffect:Rp,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,nl(4194308,4,xy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nl(4194308,4,e,t)},useInsertionEffect:function(e,t){return nl(4,2,e,t)},useMemo:function(e,t){var n=Ln();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Ln();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=_2.bind(null,We,e),[s.memoizedState,e]},useRef:function(e){var t=Ln();return e={current:e},t.memoizedState=e},useState:Dp,useDebugValue:tf,useDeferredValue:function(e){return Ln().memoizedState=e},useTransition:function(){var e=Dp(!1),t=e[0];return e=w2.bind(null,e[1]),Ln().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=We,o=Ln();if(Be){if(n===void 0)throw Error(ne(407));n=n()}else{if(n=t(),ht===null)throw Error(ne(349));is&30||cy(s,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,Rp(dy.bind(null,s,l,e),[e]),s.flags|=2048,Co(9,uy.bind(null,s,l,n,t),void 0,null),n},useId:function(){var e=Ln(),t=ht.identifierPrefix;if(Be){var n=Zn,s=Hn;n=(s&~(1<<32-vn(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=No++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=v2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},N2={readContext:cn,useCallback:vy,useContext:cn,useEffect:ef,useImperativeHandle:yy,useInsertionEffect:py,useLayoutEffect:gy,useMemo:wy,useReducer:bu,useRef:my,useState:function(){return bu(ko)},useDebugValue:tf,useDeferredValue:function(e){var t=un();return _y(t,ot.memoizedState,e)},useTransition:function(){var e=bu(ko)[0],t=un().memoizedState;return[e,t]},useMutableSource:ay,useSyncExternalStore:ly,useId:by,unstable_isNewReconciler:!1},k2={readContext:cn,useCallback:vy,useContext:cn,useEffect:ef,useImperativeHandle:yy,useInsertionEffect:py,useLayoutEffect:gy,useMemo:wy,useReducer:ju,useRef:my,useState:function(){return ju(ko)},useDebugValue:tf,useDeferredValue:function(e){var t=un();return ot===null?t.memoizedState=e:_y(t,ot.memoizedState,e)},useTransition:function(){var e=ju(ko)[0],t=un().memoizedState;return[e,t]},useMutableSource:ay,useSyncExternalStore:ly,useId:by,unstable_isNewReconciler:!1};function gn(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Nd(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:He({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var tc={isMounted:function(e){return(e=e._reactInternals)?us(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Lt(),o=_r(e),l=Kn(s,o);l.payload=t,n!=null&&(l.callback=n),t=vr(e,l,o),t!==null&&(wn(t,e,o,s),el(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Lt(),o=_r(e),l=Kn(s,o);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=vr(e,l,o),t!==null&&(wn(t,e,o,s),el(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lt(),s=_r(e),o=Kn(n,s);o.tag=2,t!=null&&(o.callback=t),t=vr(e,o,s),t!==null&&(wn(t,e,s,n),el(t,e,s))}};function Op(e,t,n,s,o,l,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,l,c):t.prototype&&t.prototype.isPureReactComponent?!yo(n,s)||!yo(o,l):!0}function Cy(e,t,n){var s=!1,o=kr,l=t.contextType;return typeof l=="object"&&l!==null?l=cn(l):(o=Bt(t)?rs:kt.current,s=t.contextTypes,l=(s=s!=null)?Gs(e,o):kr),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tc,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=l),t}function Ip(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&tc.enqueueReplaceState(t,t.state,null)}function kd(e,t,n,s){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Kh(e);var l=t.contextType;typeof l=="object"&&l!==null?o.context=cn(l):(l=Bt(t)?rs:kt.current,o.context=Gs(e,l)),o.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Nd(e,t,l,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&tc.enqueueReplaceState(o,o.state,null),Ll(e,n,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Js(e,t){try{var n="",s=t;do n+=Q_(s),s=s.return;while(s);var o=n}catch(l){o=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:o,digest:null}}function Nu(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Cd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var C2=typeof WeakMap=="function"?WeakMap:Map;function Sy(e,t,n){n=Kn(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Rl||(Rl=!0,Od=s),Cd(e,t)},n}function Py(e,t,n){n=Kn(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=t.value;n.payload=function(){return s(o)},n.callback=function(){Cd(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Cd(e,t),typeof s!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function zp(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new C2;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(n)||(o.add(n),e=V2.bind(null,e,t,n),t.then(e,e))}function Bp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vp(e,t,n,s,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kn(-1,1),t.tag=2,vr(n,t,1))),n.lanes|=1),e)}var S2=tr.ReactCurrentOwner,Ot=!1;function Pt(e,t,n,s){t.child=e===null?ry(t,null,n,s):Ys(t,e.child,n,s)}function Fp(e,t,n,s,o){n=n.render;var l=t.ref;return Ws(t,o),s=Jh(e,t,n,s,l,o),n=Qh(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Xn(e,t,o)):(Be&&n&&Vh(t),t.flags|=1,Pt(e,t,s,o),t.child)}function $p(e,t,n,s,o){if(e===null){var l=n.type;return typeof l=="function"&&!uf(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Ty(e,t,l,s,o)):(e=ol(n.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&o)){var c=l.memoizedProps;if(n=n.compare,n=n!==null?n:yo,n(c,s)&&e.ref===t.ref)return Xn(e,t,o)}return t.flags|=1,e=br(l,s),e.ref=t.ref,e.return=t,t.child=e}function Ty(e,t,n,s,o){if(e!==null){var l=e.memoizedProps;if(yo(l,s)&&e.ref===t.ref)if(Ot=!1,t.pendingProps=s=l,(e.lanes&o)!==0)e.flags&131072&&(Ot=!0);else return t.lanes=e.lanes,Xn(e,t,o)}return Sd(e,t,n,s,o)}function Ly(e,t,n){var s=t.pendingProps,o=s.children,l=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Ds,Wt),Wt|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(Ds,Wt),Wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=l!==null?l.baseLanes:n,Oe(Ds,Wt),Wt|=s}else l!==null?(s=l.baseLanes|n,t.memoizedState=null):s=n,Oe(Ds,Wt),Wt|=s;return Pt(e,t,o,n),t.child}function Ey(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sd(e,t,n,s,o){var l=Bt(n)?rs:kt.current;return l=Gs(t,l),Ws(t,o),n=Jh(e,t,n,s,l,o),s=Qh(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Xn(e,t,o)):(Be&&s&&Vh(t),t.flags|=1,Pt(e,t,n,o),t.child)}function Up(e,t,n,s,o){if(Bt(n)){var l=!0;kl(t)}else l=!1;if(Ws(t,o),t.stateNode===null)rl(e,t),Cy(t,n,s),kd(t,n,s,o),s=!0;else if(e===null){var c=t.stateNode,d=t.memoizedProps;c.props=d;var h=c.context,m=n.contextType;typeof m=="object"&&m!==null?m=cn(m):(m=Bt(n)?rs:kt.current,m=Gs(t,m));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof c.getSnapshotBeforeUpdate=="function";g||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==s||h!==m)&&Ip(t,c,s,m),lr=!1;var y=t.memoizedState;c.state=y,Ll(t,s,c,o),h=t.memoizedState,d!==s||y!==h||zt.current||lr?(typeof p=="function"&&(Nd(t,n,p,s),h=t.memoizedState),(d=lr||Op(t,n,d,s,y,h,m))?(g||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=h),c.props=s,c.state=h,c.context=m,s=d):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{c=t.stateNode,iy(e,t),d=t.memoizedProps,m=t.type===t.elementType?d:gn(t.type,d),c.props=m,g=t.pendingProps,y=c.context,h=n.contextType,typeof h=="object"&&h!==null?h=cn(h):(h=Bt(n)?rs:kt.current,h=Gs(t,h));var P=n.getDerivedStateFromProps;(p=typeof P=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==g||y!==h)&&Ip(t,c,s,h),lr=!1,y=t.memoizedState,c.state=y,Ll(t,s,c,o);var w=t.memoizedState;d!==g||y!==w||zt.current||lr?(typeof P=="function"&&(Nd(t,n,P,s),w=t.memoizedState),(m=lr||Op(t,n,m,s,y,w,h)||!1)?(p||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(s,w,h),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(s,w,h)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=w),c.props=s,c.state=w,c.context=h,s=m):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),s=!1)}return Pd(e,t,n,s,l,o)}function Pd(e,t,n,s,o,l){Ey(e,t);var c=(t.flags&128)!==0;if(!s&&!c)return o&&Pp(t,n,!1),Xn(e,t,l);s=t.stateNode,S2.current=t;var d=c&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&c?(t.child=Ys(t,e.child,null,l),t.child=Ys(t,null,d,l)):Pt(e,t,d,l),t.memoizedState=s.state,o&&Pp(t,n,!0),t.child}function Ay(e){var t=e.stateNode;t.pendingContext?Sp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sp(e,t.context,!1),Gh(e,t.containerInfo)}function Wp(e,t,n,s,o){return qs(),$h(o),t.flags|=256,Pt(e,t,n,s),t.child}var Td={dehydrated:null,treeContext:null,retryLane:0};function Ld(e){return{baseLanes:e,cachePool:null,transitions:null}}function My(e,t,n){var s=t.pendingProps,o=$e.current,l=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(o&2)!==0),d?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Oe($e,o&1),e===null)return bd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=s.children,e=s.fallback,l?(s=t.mode,l=t.child,c={mode:"hidden",children:c},!(s&1)&&l!==null?(l.childLanes=0,l.pendingProps=c):l=sc(c,s,0,null),e=Qr(e,s,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ld(n),t.memoizedState=Td,e):nf(t,c));if(o=e.memoizedState,o!==null&&(d=o.dehydrated,d!==null))return P2(e,t,c,s,d,o,n);if(l){l=s.fallback,c=t.mode,o=e.child,d=o.sibling;var h={mode:"hidden",children:s.children};return!(c&1)&&t.child!==o?(s=t.child,s.childLanes=0,s.pendingProps=h,t.deletions=null):(s=br(o,h),s.subtreeFlags=o.subtreeFlags&14680064),d!==null?l=br(d,l):(l=Qr(l,c,n,null),l.flags|=2),l.return=t,s.return=t,s.sibling=l,t.child=s,s=l,l=t.child,c=e.child.memoizedState,c=c===null?Ld(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},l.memoizedState=c,l.childLanes=e.childLanes&~n,t.memoizedState=Td,s}return l=e.child,e=l.sibling,s=br(l,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function nf(e,t){return t=sc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ba(e,t,n,s){return s!==null&&$h(s),Ys(t,e.child,null,n),e=nf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function P2(e,t,n,s,o,l,c){if(n)return t.flags&256?(t.flags&=-257,s=Nu(Error(ne(422))),Ba(e,t,c,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=s.fallback,o=t.mode,s=sc({mode:"visible",children:s.children},o,0,null),l=Qr(l,o,c,null),l.flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,t.mode&1&&Ys(t,e.child,null,c),t.child.memoizedState=Ld(c),t.memoizedState=Td,l);if(!(t.mode&1))return Ba(e,t,c,null);if(o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var d=s.dgst;return s=d,l=Error(ne(419)),s=Nu(l,s,void 0),Ba(e,t,c,s)}if(d=(c&e.childLanes)!==0,Ot||d){if(s=ht,s!==null){switch(c&-c){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(s.suspendedLanes|c)?0:o,o!==0&&o!==l.retryLane&&(l.retryLane=o,Yn(e,o),wn(s,e,o,-1))}return cf(),s=Nu(Error(ne(421))),Ba(e,t,c,s)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=F2.bind(null,e),o._reactRetry=t,null):(e=l.treeContext,Ht=yr(o.nextSibling),Zt=t,Be=!0,yn=null,e!==null&&(nn[rn++]=Hn,nn[rn++]=Zn,nn[rn++]=ss,Hn=e.id,Zn=e.overflow,ss=t),t=nf(t,s.children),t.flags|=4096,t)}function Hp(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),jd(e.return,t,n)}function ku(e,t,n,s,o){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:o}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=n,l.tailMode=o)}function Dy(e,t,n){var s=t.pendingProps,o=s.revealOrder,l=s.tail;if(Pt(e,t,s.children,n),s=$e.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hp(e,n,t);else if(e.tag===19)Hp(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Oe($e,s),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&El(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ku(t,!1,o,n,l);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&El(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ku(t,!0,n,null,l);break;case"together":ku(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Xn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),os|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ne(153));if(t.child!==null){for(e=t.child,n=br(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=br(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function T2(e,t,n){switch(t.tag){case 3:Ay(t),qs();break;case 5:oy(t);break;case 1:Bt(t.type)&&kl(t);break;case 4:Gh(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,o=t.memoizedProps.value;Oe(Pl,s._currentValue),s._currentValue=o;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Oe($e,$e.current&1),t.flags|=128,null):n&t.child.childLanes?My(e,t,n):(Oe($e,$e.current&1),e=Xn(e,t,n),e!==null?e.sibling:null);Oe($e,$e.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Dy(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Oe($e,$e.current),s)break;return null;case 22:case 23:return t.lanes=0,Ly(e,t,n)}return Xn(e,t,n)}var Ry,Ed,Oy,Iy;Ry=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ed=function(){};Oy=function(e,t,n,s){var o=e.memoizedProps;if(o!==s){e=t.stateNode,Gr(Dn.current);var l=null;switch(n){case"input":o=Qu(e,o),s=Qu(e,s),l=[];break;case"select":o=He({},o,{value:void 0}),s=He({},s,{value:void 0}),l=[];break;case"textarea":o=nd(e,o),s=nd(e,s),l=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=jl)}sd(n,s);var c;n=null;for(m in o)if(!s.hasOwnProperty(m)&&o.hasOwnProperty(m)&&o[m]!=null)if(m==="style"){var d=o[m];for(c in d)d.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(uo.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in s){var h=s[m];if(d=o!=null?o[m]:void 0,s.hasOwnProperty(m)&&h!==d&&(h!=null||d!=null))if(m==="style")if(d){for(c in d)!d.hasOwnProperty(c)||h&&h.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in h)h.hasOwnProperty(c)&&d[c]!==h[c]&&(n||(n={}),n[c]=h[c])}else n||(l||(l=[]),l.push(m,n)),n=h;else m==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,d=d?d.__html:void 0,h!=null&&d!==h&&(l=l||[]).push(m,h)):m==="children"?typeof h!="string"&&typeof h!="number"||(l=l||[]).push(m,""+h):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(uo.hasOwnProperty(m)?(h!=null&&m==="onScroll"&&Ie("scroll",e),l||d===h||(l=[])):(l=l||[]).push(m,h))}n&&(l=l||[]).push("style",n);var m=l;(t.updateQueue=m)&&(t.flags|=4)}};Iy=function(e,t,n,s){n!==s&&(t.flags|=4)};function Fi(e,t){if(!Be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags&14680064,s|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function L2(e,t,n){var s=t.pendingProps;switch(Fh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Bt(t.type)&&Nl(),wt(t),null;case 3:return s=t.stateNode,Xs(),ze(zt),ze(kt),Yh(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ia(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yn!==null&&(Bd(yn),yn=null))),Ed(e,t),wt(t),null;case 5:qh(t);var o=Gr(jo.current);if(n=t.type,e!==null&&t.stateNode!=null)Oy(e,t,n,s,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(ne(166));return wt(t),null}if(e=Gr(Dn.current),Ia(t)){s=t.stateNode,n=t.type;var l=t.memoizedProps;switch(s[En]=t,s[_o]=l,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",s),Ie("close",s);break;case"iframe":case"object":case"embed":Ie("load",s);break;case"video":case"audio":for(o=0;o<Gi.length;o++)Ie(Gi[o],s);break;case"source":Ie("error",s);break;case"img":case"image":case"link":Ie("error",s),Ie("load",s);break;case"details":Ie("toggle",s);break;case"input":ep(s,l),Ie("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!l.multiple},Ie("invalid",s);break;case"textarea":np(s,l),Ie("invalid",s)}sd(n,l),o=null;for(var c in l)if(l.hasOwnProperty(c)){var d=l[c];c==="children"?typeof d=="string"?s.textContent!==d&&(l.suppressHydrationWarning!==!0&&Oa(s.textContent,d,e),o=["children",d]):typeof d=="number"&&s.textContent!==""+d&&(l.suppressHydrationWarning!==!0&&Oa(s.textContent,d,e),o=["children",""+d]):uo.hasOwnProperty(c)&&d!=null&&c==="onScroll"&&Ie("scroll",s)}switch(n){case"input":Pa(s),tp(s,l,!0);break;case"textarea":Pa(s),rp(s);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(s.onclick=jl)}s=o,t.updateQueue=s,s!==null&&(t.flags|=4)}else{c=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=dx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=c.createElement(n,{is:s.is}):(e=c.createElement(n),n==="select"&&(c=e,s.multiple?c.multiple=!0:s.size&&(c.size=s.size))):e=c.createElementNS(e,n),e[En]=t,e[_o]=s,Ry(e,t,!1,!1),t.stateNode=e;e:{switch(c=id(n,s),n){case"dialog":Ie("cancel",e),Ie("close",e),o=s;break;case"iframe":case"object":case"embed":Ie("load",e),o=s;break;case"video":case"audio":for(o=0;o<Gi.length;o++)Ie(Gi[o],e);o=s;break;case"source":Ie("error",e),o=s;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),o=s;break;case"details":Ie("toggle",e),o=s;break;case"input":ep(e,s),o=Qu(e,s),Ie("invalid",e);break;case"option":o=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=He({},s,{value:void 0}),Ie("invalid",e);break;case"textarea":np(e,s),o=nd(e,s),Ie("invalid",e);break;default:o=s}sd(n,o),d=o;for(l in d)if(d.hasOwnProperty(l)){var h=d[l];l==="style"?mx(e,h):l==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&hx(e,h)):l==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&ho(e,h):typeof h=="number"&&ho(e,""+h):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(uo.hasOwnProperty(l)?h!=null&&l==="onScroll"&&Ie("scroll",e):h!=null&&Ch(e,l,h,c))}switch(n){case"input":Pa(e),tp(e,s,!1);break;case"textarea":Pa(e),rp(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Nr(s.value));break;case"select":e.multiple=!!s.multiple,l=s.value,l!=null?Vs(e,!!s.multiple,l,!1):s.defaultValue!=null&&Vs(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=jl)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)Iy(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(ne(166));if(n=Gr(jo.current),Gr(Dn.current),Ia(t)){if(s=t.stateNode,n=t.memoizedProps,s[En]=t,(l=s.nodeValue!==n)&&(e=Zt,e!==null))switch(e.tag){case 3:Oa(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Oa(s.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[En]=t,t.stateNode=s}return wt(t),null;case 13:if(ze($e),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Be&&Ht!==null&&t.mode&1&&!(t.flags&128))ty(),qs(),t.flags|=98560,l=!1;else if(l=Ia(t),s!==null&&s.dehydrated!==null){if(e===null){if(!l)throw Error(ne(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(ne(317));l[En]=t}else qs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),l=!1}else yn!==null&&(Bd(yn),yn=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||$e.current&1?lt===0&&(lt=3):cf())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return Xs(),Ed(e,t),e===null&&vo(t.stateNode.containerInfo),wt(t),null;case 10:return Hh(t.type._context),wt(t),null;case 17:return Bt(t.type)&&Nl(),wt(t),null;case 19:if(ze($e),l=t.memoizedState,l===null)return wt(t),null;if(s=(t.flags&128)!==0,c=l.rendering,c===null)if(s)Fi(l,!1);else{if(lt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=El(e),c!==null){for(t.flags|=128,Fi(l,!1),s=c.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)l=n,e=s,l.flags&=14680066,c=l.alternate,c===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=c.childLanes,l.lanes=c.lanes,l.child=c.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=c.memoizedProps,l.memoizedState=c.memoizedState,l.updateQueue=c.updateQueue,l.type=c.type,e=c.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Oe($e,$e.current&1|2),t.child}e=e.sibling}l.tail!==null&&et()>Qs&&(t.flags|=128,s=!0,Fi(l,!1),t.lanes=4194304)}else{if(!s)if(e=El(c),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fi(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!Be)return wt(t),null}else 2*et()-l.renderingStartTime>Qs&&n!==1073741824&&(t.flags|=128,s=!0,Fi(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(n=l.last,n!==null?n.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=et(),t.sibling=null,n=$e.current,Oe($e,s?n&1|2:n&1),t):(wt(t),null);case 22:case 23:return lf(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Wt&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(ne(156,t.tag))}function E2(e,t){switch(Fh(t),t.tag){case 1:return Bt(t.type)&&Nl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xs(),ze(zt),ze(kt),Yh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return qh(t),null;case 13:if(ze($e),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ne(340));qs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze($e),null;case 4:return Xs(),null;case 10:return Hh(t.type._context),null;case 22:case 23:return lf(),null;case 24:return null;default:return null}}var Va=!1,_t=!1,A2=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ms(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Ge(e,t,s)}else n.current=null}function Ad(e,t,n){try{n()}catch(s){Ge(e,t,s)}}var Zp=!1;function M2(e,t){if(pd=wl,e=$x(),Bh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var o=s.anchorOffset,l=s.focusNode;s=s.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var c=0,d=-1,h=-1,m=0,p=0,g=e,y=null;t:for(;;){for(var P;g!==n||o!==0&&g.nodeType!==3||(d=c+o),g!==l||s!==0&&g.nodeType!==3||(h=c+s),g.nodeType===3&&(c+=g.nodeValue.length),(P=g.firstChild)!==null;)y=g,g=P;for(;;){if(g===e)break t;if(y===n&&++m===o&&(d=c),y===l&&++p===s&&(h=c),(P=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=P}n=d===-1||h===-1?null:{start:d,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},wl=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var N=w.memoizedProps,S=w.memoizedState,k=t.stateNode,_=k.getSnapshotBeforeUpdate(t.elementType===t.type?N:gn(t.type,N),S);k.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ne(163))}}catch(E){Ge(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return w=Zp,Zp=!1,w}function no(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&e)===e){var l=o.destroy;o.destroy=void 0,l!==void 0&&Ad(t,n,l)}o=o.next}while(o!==s)}}function nc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function Md(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function zy(e){var t=e.alternate;t!==null&&(e.alternate=null,zy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[En],delete t[_o],delete t[vd],delete t[p2],delete t[g2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function By(e){return e.tag===5||e.tag===3||e.tag===4}function Kp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||By(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Dd(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jl));else if(s!==4&&(e=e.child,e!==null))for(Dd(e,t,n),e=e.sibling;e!==null;)Dd(e,t,n),e=e.sibling}function Rd(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Rd(e,t,n),e=e.sibling;e!==null;)Rd(e,t,n),e=e.sibling}var pt=null,xn=!1;function ir(e,t,n){for(n=n.child;n!==null;)Vy(e,t,n),n=n.sibling}function Vy(e,t,n){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Gl,n)}catch{}switch(n.tag){case 5:_t||Ms(n,t);case 6:var s=pt,o=xn;pt=null,ir(e,t,n),pt=s,xn=o,pt!==null&&(xn?(e=pt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):pt.removeChild(n.stateNode));break;case 18:pt!==null&&(xn?(e=pt,n=n.stateNode,e.nodeType===8?yu(e.parentNode,n):e.nodeType===1&&yu(e,n),go(e)):yu(pt,n.stateNode));break;case 4:s=pt,o=xn,pt=n.stateNode.containerInfo,xn=!0,ir(e,t,n),pt=s,xn=o;break;case 0:case 11:case 14:case 15:if(!_t&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){o=s=s.next;do{var l=o,c=l.destroy;l=l.tag,c!==void 0&&(l&2||l&4)&&Ad(n,t,c),o=o.next}while(o!==s)}ir(e,t,n);break;case 1:if(!_t&&(Ms(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(d){Ge(n,t,d)}ir(e,t,n);break;case 21:ir(e,t,n);break;case 22:n.mode&1?(_t=(s=_t)||n.memoizedState!==null,ir(e,t,n),_t=s):ir(e,t,n);break;default:ir(e,t,n)}}function Gp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new A2),t.forEach(function(s){var o=$2.bind(null,e,s);n.has(s)||(n.add(s),s.then(o,o))})}}function mn(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];try{var l=e,c=t,d=c;e:for(;d!==null;){switch(d.tag){case 5:pt=d.stateNode,xn=!1;break e;case 3:pt=d.stateNode.containerInfo,xn=!0;break e;case 4:pt=d.stateNode.containerInfo,xn=!0;break e}d=d.return}if(pt===null)throw Error(ne(160));Vy(l,c,o),pt=null,xn=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(m){Ge(o,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Fy(t,e),t=t.sibling}function Fy(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mn(t,e),Pn(e),s&4){try{no(3,e,e.return),nc(3,e)}catch(N){Ge(e,e.return,N)}try{no(5,e,e.return)}catch(N){Ge(e,e.return,N)}}break;case 1:mn(t,e),Pn(e),s&512&&n!==null&&Ms(n,n.return);break;case 5:if(mn(t,e),Pn(e),s&512&&n!==null&&Ms(n,n.return),e.flags&32){var o=e.stateNode;try{ho(o,"")}catch(N){Ge(e,e.return,N)}}if(s&4&&(o=e.stateNode,o!=null)){var l=e.memoizedProps,c=n!==null?n.memoizedProps:l,d=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{d==="input"&&l.type==="radio"&&l.name!=null&&cx(o,l),id(d,c);var m=id(d,l);for(c=0;c<h.length;c+=2){var p=h[c],g=h[c+1];p==="style"?mx(o,g):p==="dangerouslySetInnerHTML"?hx(o,g):p==="children"?ho(o,g):Ch(o,p,g,m)}switch(d){case"input":ed(o,l);break;case"textarea":ux(o,l);break;case"select":var y=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!l.multiple;var P=l.value;P!=null?Vs(o,!!l.multiple,P,!1):y!==!!l.multiple&&(l.defaultValue!=null?Vs(o,!!l.multiple,l.defaultValue,!0):Vs(o,!!l.multiple,l.multiple?[]:"",!1))}o[_o]=l}catch(N){Ge(e,e.return,N)}}break;case 6:if(mn(t,e),Pn(e),s&4){if(e.stateNode===null)throw Error(ne(162));o=e.stateNode,l=e.memoizedProps;try{o.nodeValue=l}catch(N){Ge(e,e.return,N)}}break;case 3:if(mn(t,e),Pn(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{go(t.containerInfo)}catch(N){Ge(e,e.return,N)}break;case 4:mn(t,e),Pn(e);break;case 13:mn(t,e),Pn(e),o=e.child,o.flags&8192&&(l=o.memoizedState!==null,o.stateNode.isHidden=l,!l||o.alternate!==null&&o.alternate.memoizedState!==null||(of=et())),s&4&&Gp(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(_t=(m=_t)||p,mn(t,e),_t=m):mn(t,e),Pn(e),s&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!p&&e.mode&1)for(oe=e,p=e.child;p!==null;){for(g=oe=p;oe!==null;){switch(y=oe,P=y.child,y.tag){case 0:case 11:case 14:case 15:no(4,y,y.return);break;case 1:Ms(y,y.return);var w=y.stateNode;if(typeof w.componentWillUnmount=="function"){s=y,n=y.return;try{t=s,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(N){Ge(s,n,N)}}break;case 5:Ms(y,y.return);break;case 22:if(y.memoizedState!==null){Yp(g);continue}}P!==null?(P.return=y,oe=P):Yp(g)}p=p.sibling}e:for(p=null,g=e;;){if(g.tag===5){if(p===null){p=g;try{o=g.stateNode,m?(l=o.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(d=g.stateNode,h=g.memoizedProps.style,c=h!=null&&h.hasOwnProperty("display")?h.display:null,d.style.display=fx("display",c))}catch(N){Ge(e,e.return,N)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=m?"":g.memoizedProps}catch(N){Ge(e,e.return,N)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:mn(t,e),Pn(e),s&4&&Gp(e);break;case 21:break;default:mn(t,e),Pn(e)}}function Pn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(By(n)){var s=n;break e}n=n.return}throw Error(ne(160))}switch(s.tag){case 5:var o=s.stateNode;s.flags&32&&(ho(o,""),s.flags&=-33);var l=Kp(e);Rd(e,l,o);break;case 3:case 4:var c=s.stateNode.containerInfo,d=Kp(e);Dd(e,d,c);break;default:throw Error(ne(161))}}catch(h){Ge(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function D2(e,t,n){oe=e,$y(e)}function $y(e,t,n){for(var s=(e.mode&1)!==0;oe!==null;){var o=oe,l=o.child;if(o.tag===22&&s){var c=o.memoizedState!==null||Va;if(!c){var d=o.alternate,h=d!==null&&d.memoizedState!==null||_t;d=Va;var m=_t;if(Va=c,(_t=h)&&!m)for(oe=o;oe!==null;)c=oe,h=c.child,c.tag===22&&c.memoizedState!==null?Xp(o):h!==null?(h.return=c,oe=h):Xp(o);for(;l!==null;)oe=l,$y(l),l=l.sibling;oe=o,Va=d,_t=m}qp(e)}else o.subtreeFlags&8772&&l!==null?(l.return=o,oe=l):qp(e)}}function qp(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_t||nc(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!_t)if(n===null)s.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:gn(t.type,n.memoizedProps);s.componentDidUpdate(o,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Mp(t,l,s);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Mp(t,c,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var p=m.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&go(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ne(163))}_t||t.flags&512&&Md(t)}catch(y){Ge(t,t.return,y)}}if(t===e){oe=null;break}if(n=t.sibling,n!==null){n.return=t.return,oe=n;break}oe=t.return}}function Yp(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var n=t.sibling;if(n!==null){n.return=t.return,oe=n;break}oe=t.return}}function Xp(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{nc(4,t)}catch(h){Ge(t,n,h)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var o=t.return;try{s.componentDidMount()}catch(h){Ge(t,o,h)}}var l=t.return;try{Md(t)}catch(h){Ge(t,l,h)}break;case 5:var c=t.return;try{Md(t)}catch(h){Ge(t,c,h)}}}catch(h){Ge(t,t.return,h)}if(t===e){oe=null;break}var d=t.sibling;if(d!==null){d.return=t.return,oe=d;break}oe=t.return}}var R2=Math.ceil,Dl=tr.ReactCurrentDispatcher,rf=tr.ReactCurrentOwner,an=tr.ReactCurrentBatchConfig,Le=0,ht=null,it=null,xt=0,Wt=0,Ds=Tr(0),lt=0,So=null,os=0,rc=0,sf=0,ro=null,Rt=null,of=0,Qs=1/0,Un=null,Rl=!1,Od=null,wr=null,Fa=!1,fr=null,Ol=0,so=0,Id=null,sl=-1,il=0;function Lt(){return Le&6?et():sl!==-1?sl:sl=et()}function _r(e){return e.mode&1?Le&2&&xt!==0?xt&-xt:y2.transition!==null?(il===0&&(il=Cx()),il):(e=Me,e!==0||(e=window.event,e=e===void 0?16:Mx(e.type)),e):1}function wn(e,t,n,s){if(50<so)throw so=0,Id=null,Error(ne(185));Io(e,n,s),(!(Le&2)||e!==ht)&&(e===ht&&(!(Le&2)&&(rc|=n),lt===4&&ur(e,xt)),Vt(e,s),n===1&&Le===0&&!(t.mode&1)&&(Qs=et()+500,Ql&&Lr()))}function Vt(e,t){var n=e.callbackNode;yb(e,t);var s=vl(e,e===ht?xt:0);if(s===0)n!==null&&op(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&op(n),t===1)e.tag===0?x2(Jp.bind(null,e)):Jx(Jp.bind(null,e)),f2(function(){!(Le&6)&&Lr()}),n=null;else{switch(Sx(s)){case 1:n=Eh;break;case 4:n=Nx;break;case 16:n=yl;break;case 536870912:n=kx;break;default:n=yl}n=Yy(n,Uy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Uy(e,t){if(sl=-1,il=0,Le&6)throw Error(ne(327));var n=e.callbackNode;if(Hs()&&e.callbackNode!==n)return null;var s=vl(e,e===ht?xt:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Il(e,s);else{t=s;var o=Le;Le|=2;var l=Hy();(ht!==e||xt!==t)&&(Un=null,Qs=et()+500,Jr(e,t));do try{z2();break}catch(d){Wy(e,d)}while(!0);Wh(),Dl.current=l,Le=o,it!==null?t=0:(ht=null,xt=0,t=lt)}if(t!==0){if(t===2&&(o=ud(e),o!==0&&(s=o,t=zd(e,o))),t===1)throw n=So,Jr(e,0),ur(e,s),Vt(e,et()),n;if(t===6)ur(e,s);else{if(o=e.current.alternate,!(s&30)&&!O2(o)&&(t=Il(e,s),t===2&&(l=ud(e),l!==0&&(s=l,t=zd(e,l))),t===1))throw n=So,Jr(e,0),ur(e,s),Vt(e,et()),n;switch(e.finishedWork=o,e.finishedLanes=s,t){case 0:case 1:throw Error(ne(345));case 2:Ur(e,Rt,Un);break;case 3:if(ur(e,s),(s&130023424)===s&&(t=of+500-et(),10<t)){if(vl(e,0)!==0)break;if(o=e.suspendedLanes,(o&s)!==s){Lt(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=yd(Ur.bind(null,e,Rt,Un),t);break}Ur(e,Rt,Un);break;case 4:if(ur(e,s),(s&4194240)===s)break;for(t=e.eventTimes,o=-1;0<s;){var c=31-vn(s);l=1<<c,c=t[c],c>o&&(o=c),s&=~l}if(s=o,s=et()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*R2(s/1960))-s,10<s){e.timeoutHandle=yd(Ur.bind(null,e,Rt,Un),s);break}Ur(e,Rt,Un);break;case 5:Ur(e,Rt,Un);break;default:throw Error(ne(329))}}}return Vt(e,et()),e.callbackNode===n?Uy.bind(null,e):null}function zd(e,t){var n=ro;return e.current.memoizedState.isDehydrated&&(Jr(e,t).flags|=256),e=Il(e,t),e!==2&&(t=Rt,Rt=n,t!==null&&Bd(t)),e}function Bd(e){Rt===null?Rt=e:Rt.push.apply(Rt,e)}function O2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var o=n[s],l=o.getSnapshot;o=o.value;try{if(!_n(l(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ur(e,t){for(t&=~sf,t&=~rc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-vn(t),s=1<<n;e[n]=-1,t&=~s}}function Jp(e){if(Le&6)throw Error(ne(327));Hs();var t=vl(e,0);if(!(t&1))return Vt(e,et()),null;var n=Il(e,t);if(e.tag!==0&&n===2){var s=ud(e);s!==0&&(t=s,n=zd(e,s))}if(n===1)throw n=So,Jr(e,0),ur(e,t),Vt(e,et()),n;if(n===6)throw Error(ne(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ur(e,Rt,Un),Vt(e,et()),null}function af(e,t){var n=Le;Le|=1;try{return e(t)}finally{Le=n,Le===0&&(Qs=et()+500,Ql&&Lr())}}function as(e){fr!==null&&fr.tag===0&&!(Le&6)&&Hs();var t=Le;Le|=1;var n=an.transition,s=Me;try{if(an.transition=null,Me=1,e)return e()}finally{Me=s,an.transition=n,Le=t,!(Le&6)&&Lr()}}function lf(){Wt=Ds.current,ze(Ds)}function Jr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,h2(n)),it!==null)for(n=it.return;n!==null;){var s=n;switch(Fh(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Nl();break;case 3:Xs(),ze(zt),ze(kt),Yh();break;case 5:qh(s);break;case 4:Xs();break;case 13:ze($e);break;case 19:ze($e);break;case 10:Hh(s.type._context);break;case 22:case 23:lf()}n=n.return}if(ht=e,it=e=br(e.current,null),xt=Wt=t,lt=0,So=null,sf=rc=os=0,Rt=ro=null,Kr!==null){for(t=0;t<Kr.length;t++)if(n=Kr[t],s=n.interleaved,s!==null){n.interleaved=null;var o=s.next,l=n.pending;if(l!==null){var c=l.next;l.next=o,s.next=c}n.pending=s}Kr=null}return e}function Wy(e,t){do{var n=it;try{if(Wh(),tl.current=Ml,Al){for(var s=We.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Al=!1}if(is=0,ut=ot=We=null,to=!1,No=0,rf.current=null,n===null||n.return===null){lt=1,So=t,it=null;break}e:{var l=e,c=n.return,d=n,h=t;if(t=xt,d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var m=h,p=d,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var P=Bp(c);if(P!==null){P.flags&=-257,Vp(P,c,d,l,t),P.mode&1&&zp(l,m,t),t=P,h=m;var w=t.updateQueue;if(w===null){var N=new Set;N.add(h),t.updateQueue=N}else w.add(h);break e}else{if(!(t&1)){zp(l,m,t),cf();break e}h=Error(ne(426))}}else if(Be&&d.mode&1){var S=Bp(c);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Vp(S,c,d,l,t),$h(Js(h,d));break e}}l=h=Js(h,d),lt!==4&&(lt=2),ro===null?ro=[l]:ro.push(l),l=c;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var k=Sy(l,h,t);Ap(l,k);break e;case 1:d=h;var _=l.type,C=l.stateNode;if(!(l.flags&128)&&(typeof _.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(wr===null||!wr.has(C)))){l.flags|=65536,t&=-t,l.lanes|=t;var E=Py(l,d,t);Ap(l,E);break e}}l=l.return}while(l!==null)}Ky(n)}catch(M){t=M,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function Hy(){var e=Dl.current;return Dl.current=Ml,e===null?Ml:e}function cf(){(lt===0||lt===3||lt===2)&&(lt=4),ht===null||!(os&268435455)&&!(rc&268435455)||ur(ht,xt)}function Il(e,t){var n=Le;Le|=2;var s=Hy();(ht!==e||xt!==t)&&(Un=null,Jr(e,t));do try{I2();break}catch(o){Wy(e,o)}while(!0);if(Wh(),Le=n,Dl.current=s,it!==null)throw Error(ne(261));return ht=null,xt=0,lt}function I2(){for(;it!==null;)Zy(it)}function z2(){for(;it!==null&&!cb();)Zy(it)}function Zy(e){var t=qy(e.alternate,e,Wt);e.memoizedProps=e.pendingProps,t===null?Ky(e):it=t,rf.current=null}function Ky(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=E2(n,t),n!==null){n.flags&=32767,it=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,it=null;return}}else if(n=L2(n,t,Wt),n!==null){it=n;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);lt===0&&(lt=5)}function Ur(e,t,n){var s=Me,o=an.transition;try{an.transition=null,Me=1,B2(e,t,n,s)}finally{an.transition=o,Me=s}return null}function B2(e,t,n,s){do Hs();while(fr!==null);if(Le&6)throw Error(ne(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ne(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(vb(e,l),e===ht&&(it=ht=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fa||(Fa=!0,Yy(yl,function(){return Hs(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=an.transition,an.transition=null;var c=Me;Me=1;var d=Le;Le|=4,rf.current=null,M2(e,n),Fy(n,e),i2(gd),wl=!!pd,gd=pd=null,e.current=n,D2(n),ub(),Le=d,Me=c,an.transition=l}else e.current=n;if(Fa&&(Fa=!1,fr=e,Ol=o),l=e.pendingLanes,l===0&&(wr=null),fb(n.stateNode),Vt(e,et()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],s(o.value,{componentStack:o.stack,digest:o.digest});if(Rl)throw Rl=!1,e=Od,Od=null,e;return Ol&1&&e.tag!==0&&Hs(),l=e.pendingLanes,l&1?e===Id?so++:(so=0,Id=e):so=0,Lr(),null}function Hs(){if(fr!==null){var e=Sx(Ol),t=an.transition,n=Me;try{if(an.transition=null,Me=16>e?16:e,fr===null)var s=!1;else{if(e=fr,fr=null,Ol=0,Le&6)throw Error(ne(331));var o=Le;for(Le|=4,oe=e.current;oe!==null;){var l=oe,c=l.child;if(oe.flags&16){var d=l.deletions;if(d!==null){for(var h=0;h<d.length;h++){var m=d[h];for(oe=m;oe!==null;){var p=oe;switch(p.tag){case 0:case 11:case 15:no(8,p,l)}var g=p.child;if(g!==null)g.return=p,oe=g;else for(;oe!==null;){p=oe;var y=p.sibling,P=p.return;if(zy(p),p===m){oe=null;break}if(y!==null){y.return=P,oe=y;break}oe=P}}}var w=l.alternate;if(w!==null){var N=w.child;if(N!==null){w.child=null;do{var S=N.sibling;N.sibling=null,N=S}while(N!==null)}}oe=l}}if(l.subtreeFlags&2064&&c!==null)c.return=l,oe=c;else e:for(;oe!==null;){if(l=oe,l.flags&2048)switch(l.tag){case 0:case 11:case 15:no(9,l,l.return)}var k=l.sibling;if(k!==null){k.return=l.return,oe=k;break e}oe=l.return}}var _=e.current;for(oe=_;oe!==null;){c=oe;var C=c.child;if(c.subtreeFlags&2064&&C!==null)C.return=c,oe=C;else e:for(c=_;oe!==null;){if(d=oe,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:nc(9,d)}}catch(M){Ge(d,d.return,M)}if(d===c){oe=null;break e}var E=d.sibling;if(E!==null){E.return=d.return,oe=E;break e}oe=d.return}}if(Le=o,Lr(),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Gl,e)}catch{}s=!0}return s}finally{Me=n,an.transition=t}}return!1}function Qp(e,t,n){t=Js(n,t),t=Sy(e,t,1),e=vr(e,t,1),t=Lt(),e!==null&&(Io(e,1,t),Vt(e,t))}function Ge(e,t,n){if(e.tag===3)Qp(e,e,n);else for(;t!==null;){if(t.tag===3){Qp(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(wr===null||!wr.has(s))){e=Js(n,e),e=Py(t,e,1),t=vr(t,e,1),e=Lt(),t!==null&&(Io(t,1,e),Vt(t,e));break}}t=t.return}}function V2(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&n,ht===e&&(xt&n)===n&&(lt===4||lt===3&&(xt&130023424)===xt&&500>et()-of?Jr(e,0):sf|=n),Vt(e,t)}function Gy(e,t){t===0&&(e.mode&1?(t=Ea,Ea<<=1,!(Ea&130023424)&&(Ea=4194304)):t=1);var n=Lt();e=Yn(e,t),e!==null&&(Io(e,t,n),Vt(e,n))}function F2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Gy(e,n)}function $2(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(ne(314))}s!==null&&s.delete(t),Gy(e,n)}var qy;qy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||zt.current)Ot=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ot=!1,T2(e,t,n);Ot=!!(e.flags&131072)}else Ot=!1,Be&&t.flags&1048576&&Qx(t,Sl,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;rl(e,t),e=t.pendingProps;var o=Gs(t,kt.current);Ws(t,n),o=Jh(null,t,s,e,o,n);var l=Qh();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bt(s)?(l=!0,kl(t)):l=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Kh(t),o.updater=tc,t.stateNode=o,o._reactInternals=t,kd(t,s,e,n),t=Pd(null,t,s,!0,l,n)):(t.tag=0,Be&&l&&Vh(t),Pt(null,t,o,n),t=t.child),t;case 16:s=t.elementType;e:{switch(rl(e,t),e=t.pendingProps,o=s._init,s=o(s._payload),t.type=s,o=t.tag=W2(s),e=gn(s,e),o){case 0:t=Sd(null,t,s,e,n);break e;case 1:t=Up(null,t,s,e,n);break e;case 11:t=Fp(null,t,s,e,n);break e;case 14:t=$p(null,t,s,gn(s.type,e),n);break e}throw Error(ne(306,s,""))}return t;case 0:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:gn(s,o),Sd(e,t,s,o,n);case 1:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:gn(s,o),Up(e,t,s,o,n);case 3:e:{if(Ay(t),e===null)throw Error(ne(387));s=t.pendingProps,l=t.memoizedState,o=l.element,iy(e,t),Ll(t,s,null,n);var c=t.memoizedState;if(s=c.element,l.isDehydrated)if(l={element:s,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){o=Js(Error(ne(423)),t),t=Wp(e,t,s,n,o);break e}else if(s!==o){o=Js(Error(ne(424)),t),t=Wp(e,t,s,n,o);break e}else for(Ht=yr(t.stateNode.containerInfo.firstChild),Zt=t,Be=!0,yn=null,n=ry(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qs(),s===o){t=Xn(e,t,n);break e}Pt(e,t,s,n)}t=t.child}return t;case 5:return oy(t),e===null&&bd(t),s=t.type,o=t.pendingProps,l=e!==null?e.memoizedProps:null,c=o.children,xd(s,o)?c=null:l!==null&&xd(s,l)&&(t.flags|=32),Ey(e,t),Pt(e,t,c,n),t.child;case 6:return e===null&&bd(t),null;case 13:return My(e,t,n);case 4:return Gh(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ys(t,null,s,n):Pt(e,t,s,n),t.child;case 11:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:gn(s,o),Fp(e,t,s,o,n);case 7:return Pt(e,t,t.pendingProps,n),t.child;case 8:return Pt(e,t,t.pendingProps.children,n),t.child;case 12:return Pt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,o=t.pendingProps,l=t.memoizedProps,c=o.value,Oe(Pl,s._currentValue),s._currentValue=c,l!==null)if(_n(l.value,c)){if(l.children===o.children&&!zt.current){t=Xn(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var d=l.dependencies;if(d!==null){c=l.child;for(var h=d.firstContext;h!==null;){if(h.context===s){if(l.tag===1){h=Kn(-1,n&-n),h.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var p=m.pending;p===null?h.next=h:(h.next=p.next,p.next=h),m.pending=h}}l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),jd(l.return,n,t),d.lanes|=n;break}h=h.next}}else if(l.tag===10)c=l.type===t.type?null:l.child;else if(l.tag===18){if(c=l.return,c===null)throw Error(ne(341));c.lanes|=n,d=c.alternate,d!==null&&(d.lanes|=n),jd(c,n,t),c=l.sibling}else c=l.child;if(c!==null)c.return=l;else for(c=l;c!==null;){if(c===t){c=null;break}if(l=c.sibling,l!==null){l.return=c.return,c=l;break}c=c.return}l=c}Pt(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps.children,Ws(t,n),o=cn(o),s=s(o),t.flags|=1,Pt(e,t,s,n),t.child;case 14:return s=t.type,o=gn(s,t.pendingProps),o=gn(s.type,o),$p(e,t,s,o,n);case 15:return Ty(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:gn(s,o),rl(e,t),t.tag=1,Bt(s)?(e=!0,kl(t)):e=!1,Ws(t,n),Cy(t,s,o),kd(t,s,o,n),Pd(null,t,s,!0,e,n);case 19:return Dy(e,t,n);case 22:return Ly(e,t,n)}throw Error(ne(156,t.tag))};function Yy(e,t){return jx(e,t)}function U2(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(e,t,n,s){return new U2(e,t,n,s)}function uf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function W2(e){if(typeof e=="function")return uf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ph)return 11;if(e===Th)return 14}return 2}function br(e,t){var n=e.alternate;return n===null?(n=sn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ol(e,t,n,s,o,l){var c=2;if(s=e,typeof e=="function")uf(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case Ns:return Qr(n.children,o,l,t);case Sh:c=8,o|=8;break;case qu:return e=sn(12,n,t,o|2),e.elementType=qu,e.lanes=l,e;case Yu:return e=sn(13,n,t,o),e.elementType=Yu,e.lanes=l,e;case Xu:return e=sn(19,n,t,o),e.elementType=Xu,e.lanes=l,e;case ox:return sc(n,o,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sx:c=10;break e;case ix:c=9;break e;case Ph:c=11;break e;case Th:c=14;break e;case ar:c=16,s=null;break e}throw Error(ne(130,e==null?e:typeof e,""))}return t=sn(c,n,t,o),t.elementType=e,t.type=s,t.lanes=l,t}function Qr(e,t,n,s){return e=sn(7,e,s,t),e.lanes=n,e}function sc(e,t,n,s){return e=sn(22,e,s,t),e.elementType=ox,e.lanes=n,e.stateNode={isHidden:!1},e}function Cu(e,t,n){return e=sn(6,e,null,t),e.lanes=n,e}function Su(e,t,n){return t=sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function H2(e,t,n,s,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=au(0),this.expirationTimes=au(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=au(0),this.identifierPrefix=s,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function df(e,t,n,s,o,l,c,d,h){return e=new H2(e,t,n,d,h),t===1?(t=1,l===!0&&(t|=8)):t=0,l=sn(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kh(l),e}function Z2(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Xy(e){if(!e)return kr;e=e._reactInternals;e:{if(us(e)!==e||e.tag!==1)throw Error(ne(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ne(171))}if(e.tag===1){var n=e.type;if(Bt(n))return Xx(e,n,t)}return t}function Jy(e,t,n,s,o,l,c,d,h){return e=df(n,s,!0,e,o,l,c,d,h),e.context=Xy(null),n=e.current,s=Lt(),o=_r(n),l=Kn(s,o),l.callback=t??null,vr(n,l,o),e.current.lanes=o,Io(e,o,s),Vt(e,s),e}function ic(e,t,n,s){var o=t.current,l=Lt(),c=_r(o);return n=Xy(n),t.context===null?t.context=n:t.pendingContext=n,t=Kn(l,c),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=vr(o,t,c),e!==null&&(wn(e,o,c,l),el(e,o,c)),c}function zl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function hf(e,t){eg(e,t),(e=e.alternate)&&eg(e,t)}function K2(){return null}var Qy=typeof reportError=="function"?reportError:function(e){console.error(e)};function ff(e){this._internalRoot=e}oc.prototype.render=ff.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ne(409));ic(e,t,null,null)};oc.prototype.unmount=ff.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;as(function(){ic(null,e,null,null)}),t[qn]=null}};function oc(e){this._internalRoot=e}oc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<cr.length&&t!==0&&t<cr[n].priority;n++);cr.splice(n,0,e),n===0&&Ax(e)}};function mf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ac(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tg(){}function G2(e,t,n,s,o){if(o){if(typeof s=="function"){var l=s;s=function(){var m=zl(c);l.call(m)}}var c=Jy(t,s,e,0,null,!1,!1,"",tg);return e._reactRootContainer=c,e[qn]=c.current,vo(e.nodeType===8?e.parentNode:e),as(),c}for(;o=e.lastChild;)e.removeChild(o);if(typeof s=="function"){var d=s;s=function(){var m=zl(h);d.call(m)}}var h=df(e,0,!1,null,null,!1,!1,"",tg);return e._reactRootContainer=h,e[qn]=h.current,vo(e.nodeType===8?e.parentNode:e),as(function(){ic(t,h,n,s)}),h}function lc(e,t,n,s,o){var l=n._reactRootContainer;if(l){var c=l;if(typeof o=="function"){var d=o;o=function(){var h=zl(c);d.call(h)}}ic(t,c,e,o)}else c=G2(n,t,e,o,s);return zl(c)}Px=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ki(t.pendingLanes);n!==0&&(Ah(t,n|1),Vt(t,et()),!(Le&6)&&(Qs=et()+500,Lr()))}break;case 13:as(function(){var s=Yn(e,1);if(s!==null){var o=Lt();wn(s,e,1,o)}}),hf(e,1)}};Mh=function(e){if(e.tag===13){var t=Yn(e,134217728);if(t!==null){var n=Lt();wn(t,e,134217728,n)}hf(e,134217728)}};Tx=function(e){if(e.tag===13){var t=_r(e),n=Yn(e,t);if(n!==null){var s=Lt();wn(n,e,t,s)}hf(e,t)}};Lx=function(){return Me};Ex=function(e,t){var n=Me;try{return Me=e,t()}finally{Me=n}};ad=function(e,t,n){switch(t){case"input":if(ed(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var o=Jl(s);if(!o)throw Error(ne(90));lx(s),ed(s,o)}}}break;case"textarea":ux(e,n);break;case"select":t=n.value,t!=null&&Vs(e,!!n.multiple,t,!1)}};xx=af;yx=as;var q2={usingClientEntryPoint:!1,Events:[Bo,Ps,Jl,px,gx,af]},$i={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Y2={bundleType:$i.bundleType,version:$i.version,rendererPackageName:$i.rendererPackageName,rendererConfig:$i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_x(e),e===null?null:e.stateNode},findFiberByHostInstance:$i.findFiberByHostInstance||K2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $a=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$a.isDisabled&&$a.supportsFiber)try{Gl=$a.inject(Y2),Mn=$a}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q2;Gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mf(t))throw Error(ne(200));return Z2(e,t,null,n)};Gt.createRoot=function(e,t){if(!mf(e))throw Error(ne(299));var n=!1,s="",o=Qy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=df(e,1,!1,null,null,n,!1,s,o),e[qn]=t.current,vo(e.nodeType===8?e.parentNode:e),new ff(t)};Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ne(188)):(e=Object.keys(e).join(","),Error(ne(268,e)));return e=_x(t),e=e===null?null:e.stateNode,e};Gt.flushSync=function(e){return as(e)};Gt.hydrate=function(e,t,n){if(!ac(t))throw Error(ne(200));return lc(null,e,t,!0,n)};Gt.hydrateRoot=function(e,t,n){if(!mf(e))throw Error(ne(405));var s=n!=null&&n.hydratedSources||null,o=!1,l="",c=Qy;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=Jy(t,null,e,1,n??null,o,!1,l,c),e[qn]=t.current,vo(e),s)for(e=0;e<s.length;e++)n=s[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new oc(t)};Gt.render=function(e,t,n){if(!ac(t))throw Error(ne(200));return lc(null,e,t,!1,n)};Gt.unmountComponentAtNode=function(e){if(!ac(e))throw Error(ne(40));return e._reactRootContainer?(as(function(){lc(null,null,e,!1,function(){e._reactRootContainer=null,e[qn]=null})}),!0):!1};Gt.unstable_batchedUpdates=af;Gt.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!ac(n))throw Error(ne(200));if(e==null||e._reactInternals===void 0)throw Error(ne(38));return lc(e,t,n,!1,s)};Gt.version="18.3.1-next-f1338f8080-20240426";function ev(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ev)}catch(e){console.error(e)}}ev(),ex.exports=Gt;var X2=ex.exports,ng=X2;Ku.createRoot=ng.createRoot,Ku.hydrateRoot=ng.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Po.apply(this,arguments)}var mr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(mr||(mr={}));const rg="popstate";function J2(e){e===void 0&&(e={});function t(s,o){let{pathname:l,search:c,hash:d}=s.location;return Vd("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Bl(o)}return ej(t,n,null,e)}function tt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function tv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Q2(){return Math.random().toString(36).substr(2,8)}function sg(e,t){return{usr:e.state,key:e.key,idx:t}}function Vd(e,t,n,s){return n===void 0&&(n=null),Po({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?oi(t):t,{state:n,key:t&&t.key||s||Q2()})}function Bl(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function oi(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function ej(e,t,n,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,c=o.history,d=mr.Pop,h=null,m=p();m==null&&(m=0,c.replaceState(Po({},c.state,{idx:m}),""));function p(){return(c.state||{idx:null}).idx}function g(){d=mr.Pop;let S=p(),k=S==null?null:S-m;m=S,h&&h({action:d,location:N.location,delta:k})}function y(S,k){d=mr.Push;let _=Vd(N.location,S,k);m=p()+1;let C=sg(_,m),E=N.createHref(_);try{c.pushState(C,"",E)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(E)}l&&h&&h({action:d,location:N.location,delta:1})}function P(S,k){d=mr.Replace;let _=Vd(N.location,S,k);m=p();let C=sg(_,m),E=N.createHref(_);c.replaceState(C,"",E),l&&h&&h({action:d,location:N.location,delta:0})}function w(S){let k=o.location.origin!=="null"?o.location.origin:o.location.href,_=typeof S=="string"?S:Bl(S);return _=_.replace(/ $/,"%20"),tt(k,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,k)}let N={get action(){return d},get location(){return e(o,c)},listen(S){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(rg,g),h=S,()=>{o.removeEventListener(rg,g),h=null}},createHref(S){return t(o,S)},createURL:w,encodeLocation(S){let k=w(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:P,go(S){return c.go(S)}};return N}var ig;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ig||(ig={}));function tj(e,t,n){return n===void 0&&(n="/"),nj(e,t,n)}function nj(e,t,n,s){let o=typeof t=="string"?oi(t):t,l=pf(o.pathname||"/",n);if(l==null)return null;let c=nv(e);rj(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let m=pj(l);d=hj(c[h],m)}return d}function nv(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let o=(l,c,d)=>{let h={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};h.relativePath.startsWith("/")&&(tt(h.relativePath.startsWith(s),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(s.length));let m=jr([s,h.relativePath]),p=n.concat(h);l.children&&l.children.length>0&&(tt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),nv(l.children,t,p,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:uj(m,l.index),routesMeta:p})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,c);else for(let h of rv(l.path))o(l,c,h)}),t}function rv(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let c=rv(s.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),o&&d.push(...c),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function rj(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:dj(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const sj=/^:[\w-]+$/,ij=3,oj=2,aj=1,lj=10,cj=-2,og=e=>e==="*";function uj(e,t){let n=e.split("/"),s=n.length;return n.some(og)&&(s+=cj),t&&(s+=oj),n.filter(o=>!og(o)).reduce((o,l)=>o+(sj.test(l)?ij:l===""?aj:lj),s)}function dj(e,t){return e.length===t.length&&e.slice(0,-1).every((s,o)=>s===t[o])?e[e.length-1]-t[t.length-1]:0}function hj(e,t,n){let{routesMeta:s}=e,o={},l="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],m=d===s.length-1,p=l==="/"?t:t.slice(l.length)||"/",g=fj({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},p),y=h.route;if(!g)return null;Object.assign(o,g.params),c.push({params:o,pathname:jr([l,g.pathname]),pathnameBase:vj(jr([l,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(l=jr([l,g.pathnameBase]))}return c}function fj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=mj(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((m,p,g)=>{let{paramName:y,isOptional:P}=p;if(y==="*"){let N=d[g]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const w=d[g];return P&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function mj(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),tv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function pj(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return tv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function pf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}function gj(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:o=""}=typeof e=="string"?oi(e):e;return{pathname:n?n.startsWith("/")?n:xj(n,t):t,search:wj(s),hash:_j(o)}}function xj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Pu(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yj(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function gf(e,t){let n=yj(e);return t?n.map((s,o)=>o===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function xf(e,t,n,s){s===void 0&&(s=!1);let o;typeof e=="string"?o=oi(e):(o=Po({},e),tt(!o.pathname||!o.pathname.includes("?"),Pu("?","pathname","search",o)),tt(!o.pathname||!o.pathname.includes("#"),Pu("#","pathname","hash",o)),tt(!o.search||!o.search.includes("#"),Pu("#","search","hash",o)));let l=e===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=n;else{let g=t.length-1;if(!s&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),g-=1;o.pathname=y.join("/")}d=g>=0?t[g]:"/"}let h=gj(o,d),m=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||p)&&(h.pathname+="/"),h}const jr=e=>e.join("/").replace(/\/\/+/g,"/"),vj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),wj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_j=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function bj(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const sv=["post","put","patch","delete"];new Set(sv);const jj=["get",...sv];new Set(jj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function To(){return To=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},To.apply(this,arguments)}const yf=b.createContext(null),Nj=b.createContext(null),Er=b.createContext(null),cc=b.createContext(null),Ar=b.createContext({outlet:null,matches:[],isDataRoute:!1}),iv=b.createContext(null);function kj(e,t){let{relative:n}=t===void 0?{}:t;ai()||tt(!1);let{basename:s,navigator:o}=b.useContext(Er),{hash:l,pathname:c,search:d}=av(e,{relative:n}),h=c;return s!=="/"&&(h=c==="/"?s:jr([s,c])),o.createHref({pathname:h,search:d,hash:l})}function ai(){return b.useContext(cc)!=null}function Fo(){return ai()||tt(!1),b.useContext(cc).location}function ov(e){b.useContext(Er).static||b.useLayoutEffect(e)}function vf(){let{isDataRoute:e}=b.useContext(Ar);return e?zj():Cj()}function Cj(){ai()||tt(!1);let e=b.useContext(yf),{basename:t,future:n,navigator:s}=b.useContext(Er),{matches:o}=b.useContext(Ar),{pathname:l}=Fo(),c=JSON.stringify(gf(o,n.v7_relativeSplatPath)),d=b.useRef(!1);return ov(()=>{d.current=!0}),b.useCallback(function(m,p){if(p===void 0&&(p={}),!d.current)return;if(typeof m=="number"){s.go(m);return}let g=xf(m,JSON.parse(c),l,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:jr([t,g.pathname])),(p.replace?s.replace:s.push)(g,p.state,p)},[t,s,c,l,e])}function av(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=b.useContext(Er),{matches:o}=b.useContext(Ar),{pathname:l}=Fo(),c=JSON.stringify(gf(o,s.v7_relativeSplatPath));return b.useMemo(()=>xf(e,JSON.parse(c),l,n==="path"),[e,c,l,n])}function Sj(e,t){return Pj(e,t)}function Pj(e,t,n,s){ai()||tt(!1);let{navigator:o}=b.useContext(Er),{matches:l}=b.useContext(Ar),c=l[l.length-1],d=c?c.params:{};c&&c.pathname;let h=c?c.pathnameBase:"/";c&&c.route;let m=Fo(),p;if(t){var g;let S=typeof t=="string"?oi(t):t;h==="/"||(g=S.pathname)!=null&&g.startsWith(h)||tt(!1),p=S}else p=m;let y=p.pathname||"/",P=y;if(h!=="/"){let S=h.replace(/^\//,"").split("/");P="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let w=tj(e,{pathname:P}),N=Mj(w&&w.map(S=>Object.assign({},S,{params:Object.assign({},d,S.params),pathname:jr([h,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:jr([h,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),l,n,s);return t&&N?b.createElement(cc.Provider,{value:{location:To({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:mr.Pop}},N):N}function Tj(){let e=Ij(),t=bj(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:o},n):null,null)}const Lj=b.createElement(Tj,null);class Ej extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?b.createElement(Ar.Provider,{value:this.props.routeContext},b.createElement(iv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Aj(e){let{routeContext:t,match:n,children:s}=e,o=b.useContext(yf);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Ar.Provider,{value:t},s)}function Mj(e,t,n,s){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=s)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let c=e,d=(o=n)==null?void 0:o.errors;if(d!=null){let p=c.findIndex(g=>g.route.id&&(d==null?void 0:d[g.route.id])!==void 0);p>=0||tt(!1),c=c.slice(0,Math.min(c.length,p+1))}let h=!1,m=-1;if(n&&s&&s.v7_partialHydration)for(let p=0;p<c.length;p++){let g=c[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:y,errors:P}=n,w=g.route.loader&&y[g.route.id]===void 0&&(!P||P[g.route.id]===void 0);if(g.route.lazy||w){h=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}return c.reduceRight((p,g,y)=>{let P,w=!1,N=null,S=null;n&&(P=d&&g.route.id?d[g.route.id]:void 0,N=g.route.errorElement||Lj,h&&(m<0&&y===0?(Bj("route-fallback"),w=!0,S=null):m===y&&(w=!0,S=g.route.hydrateFallbackElement||null)));let k=t.concat(c.slice(0,y+1)),_=()=>{let C;return P?C=N:w?C=S:g.route.Component?C=b.createElement(g.route.Component,null):g.route.element?C=g.route.element:C=p,b.createElement(Aj,{match:g,routeContext:{outlet:p,matches:k,isDataRoute:n!=null},children:C})};return n&&(g.route.ErrorBoundary||g.route.errorElement||y===0)?b.createElement(Ej,{location:n.location,revalidation:n.revalidation,component:N,error:P,children:_(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):_()},null)}var lv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(lv||{}),cv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(cv||{});function Dj(e){let t=b.useContext(yf);return t||tt(!1),t}function Rj(e){let t=b.useContext(Nj);return t||tt(!1),t}function Oj(e){let t=b.useContext(Ar);return t||tt(!1),t}function uv(e){let t=Oj(),n=t.matches[t.matches.length-1];return n.route.id||tt(!1),n.route.id}function Ij(){var e;let t=b.useContext(iv),n=Rj(),s=uv();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function zj(){let{router:e}=Dj(lv.UseNavigateStable),t=uv(cv.UseNavigateStable),n=b.useRef(!1);return ov(()=>{n.current=!0}),b.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,To({fromRouteId:t},l)))},[e,t])}const ag={};function Bj(e,t,n){ag[e]||(ag[e]=!0)}function Vj(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function bs(e){let{to:t,replace:n,state:s,relative:o}=e;ai()||tt(!1);let{future:l,static:c}=b.useContext(Er),{matches:d}=b.useContext(Ar),{pathname:h}=Fo(),m=vf(),p=xf(t,gf(d,l.v7_relativeSplatPath),h,o==="path"),g=JSON.stringify(p);return b.useEffect(()=>m(JSON.parse(g),{replace:n,state:s,relative:o}),[m,g,o,n,s]),null}function Wr(e){tt(!1)}function Fj(e){let{basename:t="/",children:n=null,location:s,navigationType:o=mr.Pop,navigator:l,static:c=!1,future:d}=e;ai()&&tt(!1);let h=t.replace(/^\/*/,"/"),m=b.useMemo(()=>({basename:h,navigator:l,static:c,future:To({v7_relativeSplatPath:!1},d)}),[h,d,l,c]);typeof s=="string"&&(s=oi(s));let{pathname:p="/",search:g="",hash:y="",state:P=null,key:w="default"}=s,N=b.useMemo(()=>{let S=pf(p,h);return S==null?null:{location:{pathname:S,search:g,hash:y,state:P,key:w},navigationType:o}},[h,p,g,y,P,w,o]);return N==null?null:b.createElement(Er.Provider,{value:m},b.createElement(cc.Provider,{children:n,value:N}))}function $j(e){let{children:t,location:n}=e;return Sj(Fd(t),n)}new Promise(()=>{});function Fd(e,t){t===void 0&&(t=[]);let n=[];return b.Children.forEach(e,(s,o)=>{if(!b.isValidElement(s))return;let l=[...t,o];if(s.type===b.Fragment){n.push.apply(n,Fd(s.props.children,l));return}s.type!==Wr&&tt(!1),!s.props.index||!s.props.children||tt(!1);let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Fd(s.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $d(){return $d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},$d.apply(this,arguments)}function Uj(e,t){if(e==null)return{};var n={},s=Object.keys(e),o,l;for(l=0;l<s.length;l++)o=s[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Wj(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Hj(e,t){return e.button===0&&(!t||t==="_self")&&!Wj(e)}const Zj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Kj="6";try{window.__reactRouterVersion=Kj}catch{}const Gj="startTransition",lg=V_[Gj];function qj(e){let{basename:t,children:n,future:s,window:o}=e,l=b.useRef();l.current==null&&(l.current=J2({window:o,v5Compat:!0}));let c=l.current,[d,h]=b.useState({action:c.action,location:c.location}),{v7_startTransition:m}=s||{},p=b.useCallback(g=>{m&&lg?lg(()=>h(g)):h(g)},[h,m]);return b.useLayoutEffect(()=>c.listen(p),[c,p]),b.useEffect(()=>Vj(s),[s]),b.createElement(Fj,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:c,future:s})}const Yj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Xj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dv=b.forwardRef(function(t,n){let{onClick:s,relative:o,reloadDocument:l,replace:c,state:d,target:h,to:m,preventScrollReset:p,viewTransition:g}=t,y=Uj(t,Zj),{basename:P}=b.useContext(Er),w,N=!1;if(typeof m=="string"&&Xj.test(m)&&(w=m,Yj))try{let C=new URL(window.location.href),E=m.startsWith("//")?new URL(C.protocol+m):new URL(m),M=pf(E.pathname,P);E.origin===C.origin&&M!=null?m=M+E.search+E.hash:N=!0}catch{}let S=kj(m,{relative:o}),k=Jj(m,{replace:c,state:d,target:h,preventScrollReset:p,relative:o,viewTransition:g});function _(C){s&&s(C),C.defaultPrevented||k(C)}return b.createElement("a",$d({},y,{href:w||S,onClick:N||l?s:_,ref:n,target:h}))});var cg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(cg||(cg={}));var ug;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ug||(ug={}));function Jj(e,t){let{target:n,replace:s,state:o,preventScrollReset:l,relative:c,viewTransition:d}=t===void 0?{}:t,h=vf(),m=Fo(),p=av(e,{relative:c});return b.useCallback(g=>{if(Hj(g,n)){g.preventDefault();let y=s!==void 0?s:Bl(m)===Bl(p);h(e,{replace:y,state:o,preventScrollReset:l,relative:c,viewTransition:d})}},[m,h,p,s,o,n,e,l,c,d])}let Qj={data:""},eN=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||Qj},tN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,nN=/\/\*[^]*?\*\/|  +/g,dg=/\n+/g,dr=(e,t)=>{let n="",s="",o="";for(let l in e){let c=e[l];l[0]=="@"?l[1]=="i"?n=l+" "+c+";":s+=l[1]=="f"?dr(c,l):l+"{"+dr(c,l[1]=="k"?"":t)+"}":typeof c=="object"?s+=dr(c,t?t.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,d):d?d+" "+h:h)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=dr.p?dr.p(l,c):l+":"+c+";")}return n+(t&&o?t+"{"+o+"}":o)+s},$n={},hv=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+hv(e[n]);return t}return e},rN=(e,t,n,s,o)=>{let l=hv(e),c=$n[l]||($n[l]=(h=>{let m=0,p=11;for(;m<h.length;)p=101*p+h.charCodeAt(m++)>>>0;return"go"+p})(l));if(!$n[c]){let h=l!==e?e:(m=>{let p,g,y=[{}];for(;p=tN.exec(m.replace(nN,""));)p[4]?y.shift():p[3]?(g=p[3].replace(dg," ").trim(),y.unshift(y[0][g]=y[0][g]||{})):y[0][p[1]]=p[2].replace(dg," ").trim();return y[0]})(e);$n[c]=dr(o?{["@keyframes "+c]:h}:h,n?"":"."+c)}let d=n&&$n.g?$n.g:null;return n&&($n.g=$n[c]),((h,m,p,g)=>{g?m.data=m.data.replace(g,h):m.data.indexOf(h)===-1&&(m.data=p?h+m.data:m.data+h)})($n[c],t,s,d),c},sN=(e,t,n)=>e.reduce((s,o,l)=>{let c=t[l];if(c&&c.call){let d=c(n),h=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=h?"."+h:d&&typeof d=="object"?d.props?"":dr(d,""):d===!1?"":d}return s+o+(c??"")},"");function uc(e){let t=this||{},n=e.call?e(t.p):e;return rN(n.unshift?n.raw?sN(n,[].slice.call(arguments,1),t.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(t.p):o),{}):n,eN(t.target),t.g,t.o,t.k)}let fv,Ud,Wd;uc.bind({g:1});let Jn=uc.bind({k:1});function iN(e,t,n,s){dr.p=t,fv=e,Ud=n,Wd=s}function Mr(e,t){let n=this||{};return function(){let s=arguments;function o(l,c){let d=Object.assign({},l),h=d.className||o.className;n.p=Object.assign({theme:Ud&&Ud()},d),n.o=/ *go\d+/.test(h),d.className=uc.apply(n,s)+(h?" "+h:"");let m=e;return e[0]&&(m=d.as||e,delete d.as),Wd&&m[0]&&Wd(d),fv(m,d)}return o}}var oN=e=>typeof e=="function",Vl=(e,t)=>oN(e)?e(t):e,aN=(()=>{let e=0;return()=>(++e).toString()})(),mv=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),lN=20,wf="default",pv=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(c=>c.id===t.toast.id?{...c,...t.toast}:c)};case 2:let{toast:s}=t;return pv(e,{type:e.toasts.find(c=>c.id===s.id)?1:0,toast:s});case 3:let{toastId:o}=t;return{...e,toasts:e.toasts.map(c=>c.id===o||o===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(c=>c.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+l}))}}},al=[],gv={toasts:[],pausedAt:void 0,settings:{toastLimit:lN}},An={},xv=(e,t=wf)=>{An[t]=pv(An[t]||gv,e),al.forEach(([n,s])=>{n===t&&s(An[t])})},yv=e=>Object.keys(An).forEach(t=>xv(e,t)),cN=e=>Object.keys(An).find(t=>An[t].toasts.some(n=>n.id===e)),dc=(e=wf)=>t=>{xv(t,e)},uN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},dN=(e={},t=wf)=>{let[n,s]=b.useState(An[t]||gv),o=b.useRef(An[t]);b.useEffect(()=>(o.current!==An[t]&&s(An[t]),al.push([t,s]),()=>{let c=al.findIndex(([d])=>d===t);c>-1&&al.splice(c,1)}),[t]);let l=n.toasts.map(c=>{var d,h,m;return{...e,...e[c.type],...c,removeDelay:c.removeDelay||((d=e[c.type])==null?void 0:d.removeDelay)||(e==null?void 0:e.removeDelay),duration:c.duration||((h=e[c.type])==null?void 0:h.duration)||(e==null?void 0:e.duration)||uN[c.type],style:{...e.style,...(m=e[c.type])==null?void 0:m.style,...c.style}}});return{...n,toasts:l}},hN=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||aN()}),$o=e=>(t,n)=>{let s=hN(t,e,n);return dc(s.toasterId||cN(s.id))({type:2,toast:s}),s.id},at=(e,t)=>$o("blank")(e,t);at.error=$o("error");at.success=$o("success");at.loading=$o("loading");at.custom=$o("custom");at.dismiss=(e,t)=>{let n={type:3,toastId:e};t?dc(t)(n):yv(n)};at.dismissAll=e=>at.dismiss(void 0,e);at.remove=(e,t)=>{let n={type:4,toastId:e};t?dc(t)(n):yv(n)};at.removeAll=e=>at.remove(void 0,e);at.promise=(e,t,n)=>{let s=at.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(o=>{let l=t.success?Vl(t.success,o):void 0;return l?at.success(l,{id:s,...n,...n==null?void 0:n.success}):at.dismiss(s),o}).catch(o=>{let l=t.error?Vl(t.error,o):void 0;l?at.error(l,{id:s,...n,...n==null?void 0:n.error}):at.dismiss(s)}),e};var fN=1e3,mN=(e,t="default")=>{let{toasts:n,pausedAt:s}=dN(e,t),o=b.useRef(new Map).current,l=b.useCallback((g,y=fN)=>{if(o.has(g))return;let P=setTimeout(()=>{o.delete(g),c({type:4,toastId:g})},y);o.set(g,P)},[]);b.useEffect(()=>{if(s)return;let g=Date.now(),y=n.map(P=>{if(P.duration===1/0)return;let w=(P.duration||0)+P.pauseDuration-(g-P.createdAt);if(w<0){P.visible&&at.dismiss(P.id);return}return setTimeout(()=>at.dismiss(P.id,t),w)});return()=>{y.forEach(P=>P&&clearTimeout(P))}},[n,s,t]);let c=b.useCallback(dc(t),[t]),d=b.useCallback(()=>{c({type:5,time:Date.now()})},[c]),h=b.useCallback((g,y)=>{c({type:1,toast:{id:g,height:y}})},[c]),m=b.useCallback(()=>{s&&c({type:6,time:Date.now()})},[s,c]),p=b.useCallback((g,y)=>{let{reverseOrder:P=!1,gutter:w=8,defaultPosition:N}=y||{},S=n.filter(C=>(C.position||N)===(g.position||N)&&C.height),k=S.findIndex(C=>C.id===g.id),_=S.filter((C,E)=>E<k&&C.visible).length;return S.filter(C=>C.visible).slice(...P?[_+1]:[0,_]).reduce((C,E)=>C+(E.height||0)+w,0)},[n]);return b.useEffect(()=>{n.forEach(g=>{if(g.dismissed)l(g.id,g.removeDelay);else{let y=o.get(g.id);y&&(clearTimeout(y),o.delete(g.id))}})},[n,l]),{toasts:n,handlers:{updateHeight:h,startPause:d,endPause:m,calculateOffset:p}}},pN=Jn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,gN=Jn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,xN=Jn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,yN=Mr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pN} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${gN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${xN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,vN=Jn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wN=Mr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${vN} 1s linear infinite;
`,_N=Jn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,bN=Jn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,jN=Mr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_N} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${bN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,NN=Mr("div")`
  position: absolute;
`,kN=Mr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,CN=Jn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,SN=Mr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${CN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,PN=({toast:e})=>{let{icon:t,type:n,iconTheme:s}=e;return t!==void 0?typeof t=="string"?b.createElement(SN,null,t):t:n==="blank"?null:b.createElement(kN,null,b.createElement(wN,{...s}),n!=="loading"&&b.createElement(NN,null,n==="error"?b.createElement(yN,{...s}):b.createElement(jN,{...s})))},TN=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,LN=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,EN="0%{opacity:0;} 100%{opacity:1;}",AN="0%{opacity:1;} 100%{opacity:0;}",MN=Mr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,DN=Mr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,RN=(e,t)=>{let n=e.includes("top")?1:-1,[s,o]=mv()?[EN,AN]:[TN(n),LN(n)];return{animation:t?`${Jn(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Jn(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ON=b.memo(({toast:e,position:t,style:n,children:s})=>{let o=e.height?RN(e.position||t||"top-center",e.visible):{opacity:0},l=b.createElement(PN,{toast:e}),c=b.createElement(DN,{...e.ariaProps},Vl(e.message,e));return b.createElement(MN,{className:e.className,style:{...o,...n,...e.style}},typeof s=="function"?s({icon:l,message:c}):b.createElement(b.Fragment,null,l,c))});iN(b.createElement);var IN=({id:e,className:t,style:n,onHeightUpdate:s,children:o})=>{let l=b.useCallback(c=>{if(c){let d=()=>{let h=c.getBoundingClientRect().height;s(e,h)};d(),new MutationObserver(d).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return b.createElement("div",{ref:l,className:t,style:n},o)},zN=(e,t)=>{let n=e.includes("top"),s=n?{top:0}:{bottom:0},o=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:mv()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...s,...o}},BN=uc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ua=16,_f=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:s,children:o,toasterId:l,containerStyle:c,containerClassName:d})=>{let{toasts:h,handlers:m}=mN(n,l);return b.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:Ua,left:Ua,right:Ua,bottom:Ua,pointerEvents:"none",...c},className:d,onMouseEnter:m.startPause,onMouseLeave:m.endPause},h.map(p=>{let g=p.position||t,y=m.calculateOffset(p,{reverseOrder:e,gutter:s,defaultPosition:t}),P=zN(g,y);return b.createElement(IN,{id:p.id,key:p.id,onHeightUpdate:m.updateHeight,className:p.visible?BN:"",style:P},p.type==="custom"?Vl(p.message,p):o?o(p):b.createElement(ON,{toast:p,position:g}))}))},G=at;function vv(e,t){return function(){return e.apply(t,arguments)}}const{toString:VN}=Object.prototype,{getPrototypeOf:bf}=Object,{iterator:hc,toStringTag:wv}=Symbol,fc=(e=>t=>{const n=VN.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),bn=e=>(e=e.toLowerCase(),t=>fc(t)===e),mc=e=>t=>typeof t===e,{isArray:li}=Array,ei=mc("undefined");function Uo(e){return e!==null&&!ei(e)&&e.constructor!==null&&!ei(e.constructor)&&Ft(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _v=bn("ArrayBuffer");function FN(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_v(e.buffer),t}const $N=mc("string"),Ft=mc("function"),bv=mc("number"),Wo=e=>e!==null&&typeof e=="object",UN=e=>e===!0||e===!1,ll=e=>{if(fc(e)!=="object")return!1;const t=bf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(wv in e)&&!(hc in e)},WN=e=>{if(!Wo(e)||Uo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},HN=bn("Date"),ZN=bn("File"),KN=bn("Blob"),GN=bn("FileList"),qN=e=>Wo(e)&&Ft(e.pipe),YN=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ft(e.append)&&((t=fc(e))==="formdata"||t==="object"&&Ft(e.toString)&&e.toString()==="[object FormData]"))},XN=bn("URLSearchParams"),[JN,QN,ek,tk]=["ReadableStream","Request","Response","Headers"].map(bn),nk=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ho(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,o;if(typeof e!="object"&&(e=[e]),li(e))for(s=0,o=e.length;s<o;s++)t.call(null,e[s],s,e);else{if(Uo(e))return;const l=n?Object.getOwnPropertyNames(e):Object.keys(e),c=l.length;let d;for(s=0;s<c;s++)d=l[s],t.call(null,e[d],d,e)}}function jv(e,t){if(Uo(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,o;for(;s-- >0;)if(o=n[s],t===o.toLowerCase())return o;return null}const qr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Nv=e=>!ei(e)&&e!==qr;function Hd(){const{caseless:e,skipUndefined:t}=Nv(this)&&this||{},n={},s=(o,l)=>{const c=e&&jv(n,l)||l;ll(n[c])&&ll(o)?n[c]=Hd(n[c],o):ll(o)?n[c]=Hd({},o):li(o)?n[c]=o.slice():(!t||!ei(o))&&(n[c]=o)};for(let o=0,l=arguments.length;o<l;o++)arguments[o]&&Ho(arguments[o],s);return n}const rk=(e,t,n,{allOwnKeys:s}={})=>(Ho(t,(o,l)=>{n&&Ft(o)?e[l]=vv(o,n):e[l]=o},{allOwnKeys:s}),e),sk=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ik=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},ok=(e,t,n,s)=>{let o,l,c;const d={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),l=o.length;l-- >0;)c=o[l],(!s||s(c,e,t))&&!d[c]&&(t[c]=e[c],d[c]=!0);e=n!==!1&&bf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},ak=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},lk=e=>{if(!e)return null;if(li(e))return e;let t=e.length;if(!bv(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},ck=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&bf(Uint8Array)),uk=(e,t)=>{const s=(e&&e[hc]).call(e);let o;for(;(o=s.next())&&!o.done;){const l=o.value;t.call(e,l[0],l[1])}},dk=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},hk=bn("HTMLFormElement"),fk=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,o){return s.toUpperCase()+o}),hg=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),mk=bn("RegExp"),kv=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Ho(n,(o,l)=>{let c;(c=t(o,l,e))!==!1&&(s[l]=c||o)}),Object.defineProperties(e,s)},pk=e=>{kv(e,(t,n)=>{if(Ft(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Ft(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},gk=(e,t)=>{const n={},s=o=>{o.forEach(l=>{n[l]=!0})};return li(e)?s(e):s(String(e).split(t)),n},xk=()=>{},yk=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function vk(e){return!!(e&&Ft(e.append)&&e[wv]==="FormData"&&e[hc])}const wk=e=>{const t=new Array(10),n=(s,o)=>{if(Wo(s)){if(t.indexOf(s)>=0)return;if(Uo(s))return s;if(!("toJSON"in s)){t[o]=s;const l=li(s)?[]:{};return Ho(s,(c,d)=>{const h=n(c,o+1);!ei(h)&&(l[d]=h)}),t[o]=void 0,l}}return s};return n(e,0)},_k=bn("AsyncFunction"),bk=e=>e&&(Wo(e)||Ft(e))&&Ft(e.then)&&Ft(e.catch),Cv=((e,t)=>e?setImmediate:t?((n,s)=>(qr.addEventListener("message",({source:o,data:l})=>{o===qr&&l===n&&s.length&&s.shift()()},!1),o=>{s.push(o),qr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ft(qr.postMessage)),jk=typeof queueMicrotask<"u"?queueMicrotask.bind(qr):typeof process<"u"&&process.nextTick||Cv,Nk=e=>e!=null&&Ft(e[hc]),Z={isArray:li,isArrayBuffer:_v,isBuffer:Uo,isFormData:YN,isArrayBufferView:FN,isString:$N,isNumber:bv,isBoolean:UN,isObject:Wo,isPlainObject:ll,isEmptyObject:WN,isReadableStream:JN,isRequest:QN,isResponse:ek,isHeaders:tk,isUndefined:ei,isDate:HN,isFile:ZN,isBlob:KN,isRegExp:mk,isFunction:Ft,isStream:qN,isURLSearchParams:XN,isTypedArray:ck,isFileList:GN,forEach:Ho,merge:Hd,extend:rk,trim:nk,stripBOM:sk,inherits:ik,toFlatObject:ok,kindOf:fc,kindOfTest:bn,endsWith:ak,toArray:lk,forEachEntry:uk,matchAll:dk,isHTMLForm:hk,hasOwnProperty:hg,hasOwnProp:hg,reduceDescriptors:kv,freezeMethods:pk,toObjectSet:gk,toCamelCase:fk,noop:xk,toFiniteNumber:yk,findKey:jv,global:qr,isContextDefined:Nv,isSpecCompliantForm:vk,toJSONObject:wk,isAsyncFn:_k,isThenable:bk,setImmediate:Cv,asap:jk,isIterable:Nk};function be(e,t,n,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}Z.inherits(be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Z.toJSONObject(this.config),code:this.code,status:this.status}}});const Sv=be.prototype,Pv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Pv[e]={value:e}});Object.defineProperties(be,Pv);Object.defineProperty(Sv,"isAxiosError",{value:!0});be.from=(e,t,n,s,o,l)=>{const c=Object.create(Sv);Z.toFlatObject(e,c,function(p){return p!==Error.prototype},m=>m!=="isAxiosError");const d=e&&e.message?e.message:"Error",h=t==null&&e?e.code:t;return be.call(c,d,h,n,s,o),e&&c.cause==null&&Object.defineProperty(c,"cause",{value:e,configurable:!0}),c.name=e&&e.name||"Error",l&&Object.assign(c,l),c};const kk=null;function Zd(e){return Z.isPlainObject(e)||Z.isArray(e)}function Tv(e){return Z.endsWith(e,"[]")?e.slice(0,-2):e}function fg(e,t,n){return e?e.concat(t).map(function(o,l){return o=Tv(o),!n&&l?"["+o+"]":o}).join(n?".":""):t}function Ck(e){return Z.isArray(e)&&!e.some(Zd)}const Sk=Z.toFlatObject(Z,{},null,function(t){return/^is[A-Z]/.test(t)});function pc(e,t,n){if(!Z.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Z.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,S){return!Z.isUndefined(S[N])});const s=n.metaTokens,o=n.visitor||p,l=n.dots,c=n.indexes,h=(n.Blob||typeof Blob<"u"&&Blob)&&Z.isSpecCompliantForm(t);if(!Z.isFunction(o))throw new TypeError("visitor must be a function");function m(w){if(w===null)return"";if(Z.isDate(w))return w.toISOString();if(Z.isBoolean(w))return w.toString();if(!h&&Z.isBlob(w))throw new be("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(w)||Z.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function p(w,N,S){let k=w;if(w&&!S&&typeof w=="object"){if(Z.endsWith(N,"{}"))N=s?N:N.slice(0,-2),w=JSON.stringify(w);else if(Z.isArray(w)&&Ck(w)||(Z.isFileList(w)||Z.endsWith(N,"[]"))&&(k=Z.toArray(w)))return N=Tv(N),k.forEach(function(C,E){!(Z.isUndefined(C)||C===null)&&t.append(c===!0?fg([N],E,l):c===null?N:N+"[]",m(C))}),!1}return Zd(w)?!0:(t.append(fg(S,N,l),m(w)),!1)}const g=[],y=Object.assign(Sk,{defaultVisitor:p,convertValue:m,isVisitable:Zd});function P(w,N){if(!Z.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+N.join("."));g.push(w),Z.forEach(w,function(k,_){(!(Z.isUndefined(k)||k===null)&&o.call(t,k,Z.isString(_)?_.trim():_,N,y))===!0&&P(k,N?N.concat(_):[_])}),g.pop()}}if(!Z.isObject(e))throw new TypeError("data must be an object");return P(e),t}function mg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function jf(e,t){this._pairs=[],e&&pc(e,this,t)}const Lv=jf.prototype;Lv.append=function(t,n){this._pairs.push([t,n])};Lv.toString=function(t){const n=t?function(s){return t.call(this,s,mg)}:mg;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function Pk(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ev(e,t,n){if(!t)return e;const s=n&&n.encode||Pk;Z.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let l;if(o?l=o(t,n):l=Z.isURLSearchParams(t)?t.toString():new jf(t,n).toString(s),l){const c=e.indexOf("#");c!==-1&&(e=e.slice(0,c)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class pg{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Z.forEach(this.handlers,function(s){s!==null&&t(s)})}}const Av={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tk=typeof URLSearchParams<"u"?URLSearchParams:jf,Lk=typeof FormData<"u"?FormData:null,Ek=typeof Blob<"u"?Blob:null,Ak={isBrowser:!0,classes:{URLSearchParams:Tk,FormData:Lk,Blob:Ek},protocols:["http","https","file","blob","url","data"]},Nf=typeof window<"u"&&typeof document<"u",Kd=typeof navigator=="object"&&navigator||void 0,Mk=Nf&&(!Kd||["ReactNative","NativeScript","NS"].indexOf(Kd.product)<0),Dk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Rk=Nf&&window.location.href||"http://localhost",Ok=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Nf,hasStandardBrowserEnv:Mk,hasStandardBrowserWebWorkerEnv:Dk,navigator:Kd,origin:Rk},Symbol.toStringTag,{value:"Module"})),bt={...Ok,...Ak};function Ik(e,t){return pc(e,new bt.classes.URLSearchParams,{visitor:function(n,s,o,l){return bt.isNode&&Z.isBuffer(n)?(this.append(s,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function zk(e){return Z.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Bk(e){const t={},n=Object.keys(e);let s;const o=n.length;let l;for(s=0;s<o;s++)l=n[s],t[l]=e[l];return t}function Mv(e){function t(n,s,o,l){let c=n[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),h=l>=n.length;return c=!c&&Z.isArray(o)?o.length:c,h?(Z.hasOwnProp(o,c)?o[c]=[o[c],s]:o[c]=s,!d):((!o[c]||!Z.isObject(o[c]))&&(o[c]=[]),t(n,s,o[c],l)&&Z.isArray(o[c])&&(o[c]=Bk(o[c])),!d)}if(Z.isFormData(e)&&Z.isFunction(e.entries)){const n={};return Z.forEachEntry(e,(s,o)=>{t(zk(s),o,n,0)}),n}return null}function Vk(e,t,n){if(Z.isString(e))try{return(t||JSON.parse)(e),Z.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Zo={transitional:Av,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",o=s.indexOf("application/json")>-1,l=Z.isObject(t);if(l&&Z.isHTMLForm(t)&&(t=new FormData(t)),Z.isFormData(t))return o?JSON.stringify(Mv(t)):t;if(Z.isArrayBuffer(t)||Z.isBuffer(t)||Z.isStream(t)||Z.isFile(t)||Z.isBlob(t)||Z.isReadableStream(t))return t;if(Z.isArrayBufferView(t))return t.buffer;if(Z.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let d;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Ik(t,this.formSerializer).toString();if((d=Z.isFileList(t))||s.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return pc(d?{"files[]":t}:t,h&&new h,this.formSerializer)}}return l||o?(n.setContentType("application/json",!1),Vk(t)):t}],transformResponse:[function(t){const n=this.transitional||Zo.transitional,s=n&&n.forcedJSONParsing,o=this.responseType==="json";if(Z.isResponse(t)||Z.isReadableStream(t))return t;if(t&&Z.isString(t)&&(s&&!this.responseType||o)){const c=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(d){if(c)throw d.name==="SyntaxError"?be.from(d,be.ERR_BAD_RESPONSE,this,null,this.response):d}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bt.classes.FormData,Blob:bt.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Z.forEach(["delete","get","head","post","put","patch"],e=>{Zo.headers[e]={}});const Fk=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$k=e=>{const t={};let n,s,o;return e&&e.split(`
`).forEach(function(c){o=c.indexOf(":"),n=c.substring(0,o).trim().toLowerCase(),s=c.substring(o+1).trim(),!(!n||t[n]&&Fk[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},gg=Symbol("internals");function Ui(e){return e&&String(e).trim().toLowerCase()}function cl(e){return e===!1||e==null?e:Z.isArray(e)?e.map(cl):String(e)}function Uk(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Wk=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Tu(e,t,n,s,o){if(Z.isFunction(s))return s.call(this,t,n);if(o&&(t=n),!!Z.isString(t)){if(Z.isString(s))return t.indexOf(s)!==-1;if(Z.isRegExp(s))return s.test(t)}}function Hk(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Zk(e,t){const n=Z.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(o,l,c){return this[s].call(this,t,o,l,c)},configurable:!0})})}let $t=class{constructor(t){t&&this.set(t)}set(t,n,s){const o=this;function l(d,h,m){const p=Ui(h);if(!p)throw new Error("header name must be a non-empty string");const g=Z.findKey(o,p);(!g||o[g]===void 0||m===!0||m===void 0&&o[g]!==!1)&&(o[g||h]=cl(d))}const c=(d,h)=>Z.forEach(d,(m,p)=>l(m,p,h));if(Z.isPlainObject(t)||t instanceof this.constructor)c(t,n);else if(Z.isString(t)&&(t=t.trim())&&!Wk(t))c($k(t),n);else if(Z.isObject(t)&&Z.isIterable(t)){let d={},h,m;for(const p of t){if(!Z.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[m=p[0]]=(h=d[m])?Z.isArray(h)?[...h,p[1]]:[h,p[1]]:p[1]}c(d,n)}else t!=null&&l(n,t,s);return this}get(t,n){if(t=Ui(t),t){const s=Z.findKey(this,t);if(s){const o=this[s];if(!n)return o;if(n===!0)return Uk(o);if(Z.isFunction(n))return n.call(this,o,s);if(Z.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ui(t),t){const s=Z.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Tu(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let o=!1;function l(c){if(c=Ui(c),c){const d=Z.findKey(s,c);d&&(!n||Tu(s,s[d],d,n))&&(delete s[d],o=!0)}}return Z.isArray(t)?t.forEach(l):l(t),o}clear(t){const n=Object.keys(this);let s=n.length,o=!1;for(;s--;){const l=n[s];(!t||Tu(this,this[l],l,t,!0))&&(delete this[l],o=!0)}return o}normalize(t){const n=this,s={};return Z.forEach(this,(o,l)=>{const c=Z.findKey(s,l);if(c){n[c]=cl(o),delete n[l];return}const d=t?Hk(l):String(l).trim();d!==l&&delete n[l],n[d]=cl(o),s[d]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Z.forEach(this,(s,o)=>{s!=null&&s!==!1&&(n[o]=t&&Z.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(o=>s.set(o)),s}static accessor(t){const s=(this[gg]=this[gg]={accessors:{}}).accessors,o=this.prototype;function l(c){const d=Ui(c);s[d]||(Zk(o,c),s[d]=!0)}return Z.isArray(t)?t.forEach(l):l(t),this}};$t.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Z.reduceDescriptors($t.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});Z.freezeMethods($t);function Lu(e,t){const n=this||Zo,s=t||n,o=$t.from(s.headers);let l=s.data;return Z.forEach(e,function(d){l=d.call(n,l,o.normalize(),t?t.status:void 0)}),o.normalize(),l}function Dv(e){return!!(e&&e.__CANCEL__)}function ci(e,t,n){be.call(this,e??"canceled",be.ERR_CANCELED,t,n),this.name="CanceledError"}Z.inherits(ci,be,{__CANCEL__:!0});function Rv(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new be("Request failed with status code "+n.status,[be.ERR_BAD_REQUEST,be.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Kk(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Gk(e,t){e=e||10;const n=new Array(e),s=new Array(e);let o=0,l=0,c;return t=t!==void 0?t:1e3,function(h){const m=Date.now(),p=s[l];c||(c=m),n[o]=h,s[o]=m;let g=l,y=0;for(;g!==o;)y+=n[g++],g=g%e;if(o=(o+1)%e,o===l&&(l=(l+1)%e),m-c<t)return;const P=p&&m-p;return P?Math.round(y*1e3/P):void 0}}function qk(e,t){let n=0,s=1e3/t,o,l;const c=(m,p=Date.now())=>{n=p,o=null,l&&(clearTimeout(l),l=null),e(...m)};return[(...m)=>{const p=Date.now(),g=p-n;g>=s?c(m,p):(o=m,l||(l=setTimeout(()=>{l=null,c(o)},s-g)))},()=>o&&c(o)]}const Fl=(e,t,n=3)=>{let s=0;const o=Gk(50,250);return qk(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,h=c-s,m=o(h),p=c<=d;s=c;const g={loaded:c,total:d,progress:d?c/d:void 0,bytes:h,rate:m||void 0,estimated:m&&d&&p?(d-c)/m:void 0,event:l,lengthComputable:d!=null,[t?"download":"upload"]:!0};e(g)},n)},xg=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},yg=e=>(...t)=>Z.asap(()=>e(...t)),Yk=bt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,bt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(bt.origin),bt.navigator&&/(msie|trident)/i.test(bt.navigator.userAgent)):()=>!0,Xk=bt.hasStandardBrowserEnv?{write(e,t,n,s,o,l){const c=[e+"="+encodeURIComponent(t)];Z.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),Z.isString(s)&&c.push("path="+s),Z.isString(o)&&c.push("domain="+o),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Jk(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Qk(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Ov(e,t,n){let s=!Jk(t);return e&&(s||n==!1)?Qk(e,t):t}const vg=e=>e instanceof $t?{...e}:e;function ls(e,t){t=t||{};const n={};function s(m,p,g,y){return Z.isPlainObject(m)&&Z.isPlainObject(p)?Z.merge.call({caseless:y},m,p):Z.isPlainObject(p)?Z.merge({},p):Z.isArray(p)?p.slice():p}function o(m,p,g,y){if(Z.isUndefined(p)){if(!Z.isUndefined(m))return s(void 0,m,g,y)}else return s(m,p,g,y)}function l(m,p){if(!Z.isUndefined(p))return s(void 0,p)}function c(m,p){if(Z.isUndefined(p)){if(!Z.isUndefined(m))return s(void 0,m)}else return s(void 0,p)}function d(m,p,g){if(g in t)return s(m,p);if(g in e)return s(void 0,m)}const h={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(m,p,g)=>o(vg(m),vg(p),g,!0)};return Z.forEach(Object.keys({...e,...t}),function(p){const g=h[p]||o,y=g(e[p],t[p],p);Z.isUndefined(y)&&g!==d||(n[p]=y)}),n}const Iv=e=>{const t=ls({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:l,headers:c,auth:d}=t;if(t.headers=c=$t.from(c),t.url=Ev(Ov(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),Z.isFormData(n)){if(bt.hasStandardBrowserEnv||bt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(Z.isFunction(n.getHeaders)){const h=n.getHeaders(),m=["content-type","content-length"];Object.entries(h).forEach(([p,g])=>{m.includes(p.toLowerCase())&&c.set(p,g)})}}if(bt.hasStandardBrowserEnv&&(s&&Z.isFunction(s)&&(s=s(t)),s||s!==!1&&Yk(t.url))){const h=o&&l&&Xk.read(l);h&&c.set(o,h)}return t},eC=typeof XMLHttpRequest<"u",tC=eC&&function(e){return new Promise(function(n,s){const o=Iv(e);let l=o.data;const c=$t.from(o.headers).normalize();let{responseType:d,onUploadProgress:h,onDownloadProgress:m}=o,p,g,y,P,w;function N(){P&&P(),w&&w(),o.cancelToken&&o.cancelToken.unsubscribe(p),o.signal&&o.signal.removeEventListener("abort",p)}let S=new XMLHttpRequest;S.open(o.method.toUpperCase(),o.url,!0),S.timeout=o.timeout;function k(){if(!S)return;const C=$t.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),M={data:!d||d==="text"||d==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:C,config:e,request:S};Rv(function(O){n(O),N()},function(O){s(O),N()},M),S=null}"onloadend"in S?S.onloadend=k:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(k)},S.onabort=function(){S&&(s(new be("Request aborted",be.ECONNABORTED,e,S)),S=null)},S.onerror=function(E){const M=E&&E.message?E.message:"Network Error",V=new be(M,be.ERR_NETWORK,e,S);V.event=E||null,s(V),S=null},S.ontimeout=function(){let E=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const M=o.transitional||Av;o.timeoutErrorMessage&&(E=o.timeoutErrorMessage),s(new be(E,M.clarifyTimeoutError?be.ETIMEDOUT:be.ECONNABORTED,e,S)),S=null},l===void 0&&c.setContentType(null),"setRequestHeader"in S&&Z.forEach(c.toJSON(),function(E,M){S.setRequestHeader(M,E)}),Z.isUndefined(o.withCredentials)||(S.withCredentials=!!o.withCredentials),d&&d!=="json"&&(S.responseType=o.responseType),m&&([y,w]=Fl(m,!0),S.addEventListener("progress",y)),h&&S.upload&&([g,P]=Fl(h),S.upload.addEventListener("progress",g),S.upload.addEventListener("loadend",P)),(o.cancelToken||o.signal)&&(p=C=>{S&&(s(!C||C.type?new ci(null,e,S):C),S.abort(),S=null)},o.cancelToken&&o.cancelToken.subscribe(p),o.signal&&(o.signal.aborted?p():o.signal.addEventListener("abort",p)));const _=Kk(o.url);if(_&&bt.protocols.indexOf(_)===-1){s(new be("Unsupported protocol "+_+":",be.ERR_BAD_REQUEST,e));return}S.send(l||null)})},nC=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,o;const l=function(m){if(!o){o=!0,d();const p=m instanceof Error?m:this.reason;s.abort(p instanceof be?p:new ci(p instanceof Error?p.message:p))}};let c=t&&setTimeout(()=>{c=null,l(new be(`timeout ${t} of ms exceeded`,be.ETIMEDOUT))},t);const d=()=>{e&&(c&&clearTimeout(c),c=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),e=null)};e.forEach(m=>m.addEventListener("abort",l));const{signal:h}=s;return h.unsubscribe=()=>Z.asap(d),h}},rC=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,o;for(;s<n;)o=s+t,yield e.slice(s,o),s=o},sC=async function*(e,t){for await(const n of iC(e))yield*rC(n,t)},iC=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},wg=(e,t,n,s)=>{const o=sC(e,t);let l=0,c,d=h=>{c||(c=!0,s&&s(h))};return new ReadableStream({async pull(h){try{const{done:m,value:p}=await o.next();if(m){d(),h.close();return}let g=p.byteLength;if(n){let y=l+=g;n(y)}h.enqueue(new Uint8Array(p))}catch(m){throw d(m),m}},cancel(h){return d(h),o.return()}},{highWaterMark:2})},_g=64*1024,{isFunction:Wa}=Z,oC=(({Request:e,Response:t})=>({Request:e,Response:t}))(Z.global),{ReadableStream:bg,TextEncoder:jg}=Z.global,Ng=(e,...t)=>{try{return!!e(...t)}catch{return!1}},aC=e=>{e=Z.merge.call({skipUndefined:!0},oC,e);const{fetch:t,Request:n,Response:s}=e,o=t?Wa(t):typeof fetch=="function",l=Wa(n),c=Wa(s);if(!o)return!1;const d=o&&Wa(bg),h=o&&(typeof jg=="function"?(w=>N=>w.encode(N))(new jg):async w=>new Uint8Array(await new n(w).arrayBuffer())),m=l&&d&&Ng(()=>{let w=!1;const N=new n(bt.origin,{body:new bg,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!N}),p=c&&d&&Ng(()=>Z.isReadableStream(new s("").body)),g={stream:p&&(w=>w.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!g[w]&&(g[w]=(N,S)=>{let k=N&&N[w];if(k)return k.call(N);throw new be(`Response type '${w}' is not supported`,be.ERR_NOT_SUPPORT,S)})});const y=async w=>{if(w==null)return 0;if(Z.isBlob(w))return w.size;if(Z.isSpecCompliantForm(w))return(await new n(bt.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(Z.isArrayBufferView(w)||Z.isArrayBuffer(w))return w.byteLength;if(Z.isURLSearchParams(w)&&(w=w+""),Z.isString(w))return(await h(w)).byteLength},P=async(w,N)=>{const S=Z.toFiniteNumber(w.getContentLength());return S??y(N)};return async w=>{let{url:N,method:S,data:k,signal:_,cancelToken:C,timeout:E,onDownloadProgress:M,onUploadProgress:V,responseType:O,headers:z,withCredentials:ee="same-origin",fetchOptions:J}=Iv(w),W=t||fetch;O=O?(O+"").toLowerCase():"text";let te=nC([_,C&&C.toAbortSignal()],E),R=null;const U=te&&te.unsubscribe&&(()=>{te.unsubscribe()});let I;try{if(V&&m&&S!=="get"&&S!=="head"&&(I=await P(z,k))!==0){let X=new n(N,{method:"POST",body:k,duplex:"half"}),ie;if(Z.isFormData(k)&&(ie=X.headers.get("content-type"))&&z.setContentType(ie),X.body){const[we,fe]=xg(I,Fl(yg(V)));k=wg(X.body,_g,we,fe)}}Z.isString(ee)||(ee=ee?"include":"omit");const D=l&&"credentials"in n.prototype,B={...J,signal:te,method:S.toUpperCase(),headers:z.normalize().toJSON(),body:k,duplex:"half",credentials:D?ee:void 0};R=l&&new n(N,B);let j=await(l?W(R,J):W(N,B));const T=p&&(O==="stream"||O==="response");if(p&&(M||T&&U)){const X={};["status","statusText","headers"].forEach(me=>{X[me]=j[me]});const ie=Z.toFiniteNumber(j.headers.get("content-length")),[we,fe]=M&&xg(ie,Fl(yg(M),!0))||[];j=new s(wg(j.body,_g,we,()=>{fe&&fe(),U&&U()}),X)}O=O||"text";let F=await g[Z.findKey(g,O)||"text"](j,w);return!T&&U&&U(),await new Promise((X,ie)=>{Rv(X,ie,{data:F,headers:$t.from(j.headers),status:j.status,statusText:j.statusText,config:w,request:R})})}catch(D){throw U&&U(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new be("Network Error",be.ERR_NETWORK,w,R),{cause:D.cause||D}):be.from(D,D&&D.code,w,R)}}},lC=new Map,zv=e=>{let t=e?e.env:{};const{fetch:n,Request:s,Response:o}=t,l=[s,o,n];let c=l.length,d=c,h,m,p=lC;for(;d--;)h=l[d],m=p.get(h),m===void 0&&p.set(h,m=d?new Map:aC(t)),p=m;return m};zv();const Gd={http:kk,xhr:tC,fetch:{get:zv}};Z.forEach(Gd,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const kg=e=>`- ${e}`,cC=e=>Z.isFunction(e)||e===null||e===!1,Bv={getAdapter:(e,t)=>{e=Z.isArray(e)?e:[e];const{length:n}=e;let s,o;const l={};for(let c=0;c<n;c++){s=e[c];let d;if(o=s,!cC(s)&&(o=Gd[(d=String(s)).toLowerCase()],o===void 0))throw new be(`Unknown adapter '${d}'`);if(o&&(Z.isFunction(o)||(o=o.get(t))))break;l[d||"#"+c]=o}if(!o){const c=Object.entries(l).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let d=n?c.length>1?`since :
`+c.map(kg).join(`
`):" "+kg(c[0]):"as no adapter specified";throw new be("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return o},adapters:Gd};function Eu(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ci(null,e)}function Cg(e){return Eu(e),e.headers=$t.from(e.headers),e.data=Lu.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Bv.getAdapter(e.adapter||Zo.adapter,e)(e).then(function(s){return Eu(e),s.data=Lu.call(e,e.transformResponse,s),s.headers=$t.from(s.headers),s},function(s){return Dv(s)||(Eu(e),s&&s.response&&(s.response.data=Lu.call(e,e.transformResponse,s.response),s.response.headers=$t.from(s.response.headers))),Promise.reject(s)})}const Vv="1.12.2",gc={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{gc[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const Sg={};gc.transitional=function(t,n,s){function o(l,c){return"[Axios v"+Vv+"] Transitional option '"+l+"'"+c+(s?". "+s:"")}return(l,c,d)=>{if(t===!1)throw new be(o(c," has been removed"+(n?" in "+n:"")),be.ERR_DEPRECATED);return n&&!Sg[c]&&(Sg[c]=!0,console.warn(o(c," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,c,d):!0}};gc.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function uC(e,t,n){if(typeof e!="object")throw new be("options must be an object",be.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const l=s[o],c=t[l];if(c){const d=e[l],h=d===void 0||c(d,l,e);if(h!==!0)throw new be("option "+l+" must be "+h,be.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new be("Unknown option "+l,be.ERR_BAD_OPTION)}}const ul={assertOptions:uC,validators:gc},Tn=ul.validators;let es=class{constructor(t){this.defaults=t||{},this.interceptors={request:new pg,response:new pg}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=ls(this.defaults,n);const{transitional:s,paramsSerializer:o,headers:l}=n;s!==void 0&&ul.assertOptions(s,{silentJSONParsing:Tn.transitional(Tn.boolean),forcedJSONParsing:Tn.transitional(Tn.boolean),clarifyTimeoutError:Tn.transitional(Tn.boolean)},!1),o!=null&&(Z.isFunction(o)?n.paramsSerializer={serialize:o}:ul.assertOptions(o,{encode:Tn.function,serialize:Tn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),ul.assertOptions(n,{baseUrl:Tn.spelling("baseURL"),withXsrfToken:Tn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=l&&Z.merge(l.common,l[n.method]);l&&Z.forEach(["delete","get","head","post","put","patch","common"],w=>{delete l[w]}),n.headers=$t.concat(c,l);const d=[];let h=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(h=h&&N.synchronous,d.unshift(N.fulfilled,N.rejected))});const m=[];this.interceptors.response.forEach(function(N){m.push(N.fulfilled,N.rejected)});let p,g=0,y;if(!h){const w=[Cg.bind(this),void 0];for(w.unshift(...d),w.push(...m),y=w.length,p=Promise.resolve(n);g<y;)p=p.then(w[g++],w[g++]);return p}y=d.length;let P=n;for(;g<y;){const w=d[g++],N=d[g++];try{P=w(P)}catch(S){N.call(this,S);break}}try{p=Cg.call(this,P)}catch(w){return Promise.reject(w)}for(g=0,y=m.length;g<y;)p=p.then(m[g++],m[g++]);return p}getUri(t){t=ls(this.defaults,t);const n=Ov(t.baseURL,t.url,t.allowAbsoluteUrls);return Ev(n,t.params,t.paramsSerializer)}};Z.forEach(["delete","get","head","options"],function(t){es.prototype[t]=function(n,s){return this.request(ls(s||{},{method:t,url:n,data:(s||{}).data}))}});Z.forEach(["post","put","patch"],function(t){function n(s){return function(l,c,d){return this.request(ls(d||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}es.prototype[t]=n(),es.prototype[t+"Form"]=n(!0)});let dC=class Fv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const s=this;this.promise.then(o=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](o);s._listeners=null}),this.promise.then=o=>{let l;const c=new Promise(d=>{s.subscribe(d),l=d}).then(o);return c.cancel=function(){s.unsubscribe(l)},c},t(function(l,c,d){s.reason||(s.reason=new ci(l,c,d),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Fv(function(o){t=o}),cancel:t}}};function hC(e){return function(n){return e.apply(null,n)}}function fC(e){return Z.isObject(e)&&e.isAxiosError===!0}const qd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qd).forEach(([e,t])=>{qd[t]=e});function $v(e){const t=new es(e),n=vv(es.prototype.request,t);return Z.extend(n,es.prototype,t,{allOwnKeys:!0}),Z.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return $v(ls(e,o))},n}const Ae=$v(Zo);Ae.Axios=es;Ae.CanceledError=ci;Ae.CancelToken=dC;Ae.isCancel=Dv;Ae.VERSION=Vv;Ae.toFormData=pc;Ae.AxiosError=be;Ae.Cancel=Ae.CanceledError;Ae.all=function(t){return Promise.all(t)};Ae.spread=hC;Ae.isAxiosError=fC;Ae.mergeConfig=ls;Ae.AxiosHeaders=$t;Ae.formToJSON=e=>Mv(Z.isHTMLForm(e)?new FormData(e):e);Ae.getAdapter=Bv.getAdapter;Ae.HttpStatusCode=qd;Ae.default=Ae;const{Axios:jL,AxiosError:NL,CanceledError:kL,isCancel:CL,CancelToken:SL,VERSION:PL,all:TL,Cancel:LL,isAxiosError:EL,spread:AL,toFormData:ML,AxiosHeaders:DL,HttpStatusCode:RL,formToJSON:OL,getAdapter:IL,mergeConfig:zL}=Ae,kf=b.createContext({});function Cf(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const Sf=typeof window<"u",Uv=Sf?b.useLayoutEffect:b.useEffect,xc=b.createContext(null);function Pf(e,t){e.indexOf(t)===-1&&e.push(t)}function Tf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Qn=(e,t,n)=>n>t?t:n<e?e:n;let Lf=()=>{};const er={},Wv=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Hv(e){return typeof e=="object"&&e!==null}const Zv=e=>/^0[^.\s]+$/u.test(e);function Ef(e){let t;return()=>(t===void 0&&(t=e()),t)}const ln=e=>e,mC=(e,t)=>n=>t(e(n)),Ko=(...e)=>e.reduce(mC),Lo=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class Af{constructor(){this.subscriptions=[]}add(t){return Pf(this.subscriptions,t),()=>Tf(this.subscriptions,t)}notify(t,n,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,s);else for(let l=0;l<o;l++){const c=this.subscriptions[l];c&&c(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Rn=e=>e*1e3,on=e=>e/1e3;function Kv(e,t){return t?e*(1e3/t):0}const Gv=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,pC=1e-7,gC=12;function xC(e,t,n,s,o){let l,c,d=0;do c=t+(n-t)/2,l=Gv(c,s,o)-e,l>0?n=c:t=c;while(Math.abs(l)>pC&&++d<gC);return c}function Go(e,t,n,s){if(e===t&&n===s)return ln;const o=l=>xC(l,0,1,e,n);return l=>l===0||l===1?l:Gv(o(l),t,s)}const qv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Yv=e=>t=>1-e(1-t),Xv=Go(.33,1.53,.69,.99),Mf=Yv(Xv),Jv=qv(Mf),Qv=e=>(e*=2)<1?.5*Mf(e):.5*(2-Math.pow(2,-10*(e-1))),Df=e=>1-Math.sin(Math.acos(e)),e1=Yv(Df),t1=qv(Df),yC=Go(.42,0,1,1),vC=Go(0,0,.58,1),n1=Go(.42,0,.58,1),wC=e=>Array.isArray(e)&&typeof e[0]!="number",r1=e=>Array.isArray(e)&&typeof e[0]=="number",_C={linear:ln,easeIn:yC,easeInOut:n1,easeOut:vC,circIn:Df,circInOut:t1,circOut:e1,backIn:Mf,backInOut:Jv,backOut:Xv,anticipate:Qv},bC=e=>typeof e=="string",Pg=e=>{if(r1(e)){Lf(e.length===4);const[t,n,s,o]=e;return Go(t,n,s,o)}else if(bC(e))return _C[e];return e},Ha=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function jC(e,t){let n=new Set,s=new Set,o=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function h(p){c.has(p)&&(m.schedule(p),e()),p(d)}const m={schedule:(p,g=!1,y=!1)=>{const w=y&&o?n:s;return g&&c.add(p),w.has(p)||w.add(p),p},cancel:p=>{s.delete(p),c.delete(p)},process:p=>{if(d=p,o){l=!0;return}o=!0,[n,s]=[s,n],n.forEach(h),n.clear(),o=!1,l&&(l=!1,m.process(p))}};return m}const NC=40;function s1(e,t){let n=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=Ha.reduce((C,E)=>(C[E]=jC(l),C),{}),{setup:d,read:h,resolveKeyframes:m,preUpdate:p,update:g,preRender:y,render:P,postRender:w}=c,N=()=>{const C=er.useManualTiming?o.timestamp:performance.now();n=!1,er.useManualTiming||(o.delta=s?1e3/60:Math.max(Math.min(C-o.timestamp,NC),1)),o.timestamp=C,o.isProcessing=!0,d.process(o),h.process(o),m.process(o),p.process(o),g.process(o),y.process(o),P.process(o),w.process(o),o.isProcessing=!1,n&&t&&(s=!1,e(N))},S=()=>{n=!0,s=!0,o.isProcessing||e(N)};return{schedule:Ha.reduce((C,E)=>{const M=c[E];return C[E]=(V,O=!1,z=!1)=>(n||S(),M.schedule(V,O,z)),C},{}),cancel:C=>{for(let E=0;E<Ha.length;E++)c[Ha[E]].cancel(C)},state:o,steps:c}}const{schedule:Ve,cancel:Cr,state:gt,steps:Au}=s1(typeof requestAnimationFrame<"u"?requestAnimationFrame:ln,!0);let dl;function kC(){dl=void 0}const It={now:()=>(dl===void 0&&It.set(gt.isProcessing||er.useManualTiming?gt.timestamp:performance.now()),dl),set:e=>{dl=e,queueMicrotask(kC)}},i1=e=>t=>typeof t=="string"&&t.startsWith(e),Rf=i1("--"),CC=i1("var(--"),Of=e=>CC(e)?SC.test(e.split("/*")[0].trim()):!1,SC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ui={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Eo={...ui,transform:e=>Qn(0,1,e)},Za={...ui,default:1},io=e=>Math.round(e*1e5)/1e5,If=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PC(e){return e==null}const TC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,zf=(e,t)=>n=>!!(typeof n=="string"&&TC.test(n)&&n.startsWith(e)||t&&!PC(n)&&Object.prototype.hasOwnProperty.call(n,t)),o1=(e,t,n)=>s=>{if(typeof s!="string")return s;const[o,l,c,d]=s.match(If);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},LC=e=>Qn(0,255,e),Mu={...ui,transform:e=>Math.round(LC(e))},Yr={test:zf("rgb","red"),parse:o1("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Mu.transform(e)+", "+Mu.transform(t)+", "+Mu.transform(n)+", "+io(Eo.transform(s))+")"};function EC(e){let t="",n="",s="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,s+=s,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const Yd={test:zf("#"),parse:EC,transform:Yr.transform},qo=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),or=qo("deg"),On=qo("%"),ye=qo("px"),AC=qo("vh"),MC=qo("vw"),Tg={...On,parse:e=>On.parse(e)/100,transform:e=>On.transform(e*100)},Rs={test:zf("hsl","hue"),parse:o1("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+On.transform(io(t))+", "+On.transform(io(n))+", "+io(Eo.transform(s))+")"},st={test:e=>Yr.test(e)||Yd.test(e)||Rs.test(e),parse:e=>Yr.test(e)?Yr.parse(e):Rs.test(e)?Rs.parse(e):Yd.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Yr.transform(e):Rs.transform(e),getAnimatableNone:e=>{const t=st.parse(e);return t.alpha=0,st.transform(t)}},DC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RC(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(If))==null?void 0:t.length)||0)+(((n=e.match(DC))==null?void 0:n.length)||0)>0}const a1="number",l1="color",OC="var",IC="var(",Lg="${}",zC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ao(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},o=[];let l=0;const d=t.replace(zC,h=>(st.test(h)?(s.color.push(l),o.push(l1),n.push(st.parse(h))):h.startsWith(IC)?(s.var.push(l),o.push(OC),n.push(h)):(s.number.push(l),o.push(a1),n.push(parseFloat(h))),++l,Lg)).split(Lg);return{values:n,split:d,indexes:s,types:o}}function c1(e){return Ao(e).values}function u1(e){const{split:t,types:n}=Ao(e),s=t.length;return o=>{let l="";for(let c=0;c<s;c++)if(l+=t[c],o[c]!==void 0){const d=n[c];d===a1?l+=io(o[c]):d===l1?l+=st.transform(o[c]):l+=o[c]}return l}}const BC=e=>typeof e=="number"?0:st.test(e)?st.getAnimatableNone(e):e;function VC(e){const t=c1(e);return u1(e)(t.map(BC))}const Sr={test:RC,parse:c1,createTransformer:u1,getAnimatableNone:VC};function Du(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function FC({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let o=0,l=0,c=0;if(!t)o=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,h=2*n-d;o=Du(h,d,e+1/3),l=Du(h,d,e),c=Du(h,d,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function $l(e,t){return n=>n>0?t:e}const Ue=(e,t,n)=>e+(t-e)*n,Ru=(e,t,n)=>{const s=e*e,o=n*(t*t-s)+s;return o<0?0:Math.sqrt(o)},$C=[Yd,Yr,Rs],UC=e=>$C.find(t=>t.test(e));function Eg(e){const t=UC(e);if(!t)return!1;let n=t.parse(e);return t===Rs&&(n=FC(n)),n}const Ag=(e,t)=>{const n=Eg(e),s=Eg(t);if(!n||!s)return $l(e,t);const o={...n};return l=>(o.red=Ru(n.red,s.red,l),o.green=Ru(n.green,s.green,l),o.blue=Ru(n.blue,s.blue,l),o.alpha=Ue(n.alpha,s.alpha,l),Yr.transform(o))},Xd=new Set(["none","hidden"]);function WC(e,t){return Xd.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function HC(e,t){return n=>Ue(e,t,n)}function Bf(e){return typeof e=="number"?HC:typeof e=="string"?Of(e)?$l:st.test(e)?Ag:GC:Array.isArray(e)?d1:typeof e=="object"?st.test(e)?Ag:ZC:$l}function d1(e,t){const n=[...e],s=n.length,o=e.map((l,c)=>Bf(l)(l,t[c]));return l=>{for(let c=0;c<s;c++)n[c]=o[c](l);return n}}function ZC(e,t){const n={...e,...t},s={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(s[o]=Bf(e[o])(e[o],t[o]));return o=>{for(const l in s)n[l]=s[l](o);return n}}function KC(e,t){const n=[],s={color:0,var:0,number:0};for(let o=0;o<t.values.length;o++){const l=t.types[o],c=e.indexes[l][s[l]],d=e.values[c]??0;n[o]=d,s[l]++}return n}const GC=(e,t)=>{const n=Sr.createTransformer(t),s=Ao(e),o=Ao(t);return s.indexes.var.length===o.indexes.var.length&&s.indexes.color.length===o.indexes.color.length&&s.indexes.number.length>=o.indexes.number.length?Xd.has(e)&&!o.values.length||Xd.has(t)&&!s.values.length?WC(e,t):Ko(d1(KC(s,o),o.values),n):$l(e,t)};function h1(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ue(e,t,n):Bf(e)(e,t)}const qC=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ve.update(t,n),stop:()=>Cr(t),now:()=>gt.isProcessing?gt.timestamp:It.now()}},f1=(e,t,n=10)=>{let s="";const o=Math.max(Math.round(t/n),2);for(let l=0;l<o;l++)s+=Math.round(e(l/(o-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Ul=2e4;function Vf(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<Ul;)t+=n,s=e.next(t);return t>=Ul?1/0:t}function YC(e,t=100,n){const s=n({...e,keyframes:[0,t]}),o=Math.min(Vf(s),Ul);return{type:"keyframes",ease:l=>s.next(o*l).value/t,duration:on(o)}}const XC=5;function m1(e,t,n){const s=Math.max(t-XC,0);return Kv(n-e(s),t-s)}const Ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ou=.001;function JC({duration:e=Ke.duration,bounce:t=Ke.bounce,velocity:n=Ke.velocity,mass:s=Ke.mass}){let o,l,c=1-t;c=Qn(Ke.minDamping,Ke.maxDamping,c),e=Qn(Ke.minDuration,Ke.maxDuration,on(e)),c<1?(o=m=>{const p=m*c,g=p*e,y=p-n,P=Jd(m,c),w=Math.exp(-g);return Ou-y/P*w},l=m=>{const g=m*c*e,y=g*n+n,P=Math.pow(c,2)*Math.pow(m,2)*e,w=Math.exp(-g),N=Jd(Math.pow(m,2),c);return(-o(m)+Ou>0?-1:1)*((y-P)*w)/N}):(o=m=>{const p=Math.exp(-m*e),g=(m-n)*e+1;return-Ou+p*g},l=m=>{const p=Math.exp(-m*e),g=(n-m)*(e*e);return p*g});const d=5/e,h=eS(o,l,d);if(e=Rn(e),isNaN(h))return{stiffness:Ke.stiffness,damping:Ke.damping,duration:e};{const m=Math.pow(h,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:e}}}const QC=12;function eS(e,t,n){let s=n;for(let o=1;o<QC;o++)s=s-e(s)/t(s);return s}function Jd(e,t){return e*Math.sqrt(1-t*t)}const tS=["duration","bounce"],nS=["stiffness","damping","mass"];function Mg(e,t){return t.some(n=>e[n]!==void 0)}function rS(e){let t={velocity:Ke.velocity,stiffness:Ke.stiffness,damping:Ke.damping,mass:Ke.mass,isResolvedFromDuration:!1,...e};if(!Mg(e,nS)&&Mg(e,tS))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),o=s*s,l=2*Qn(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Ke.mass,stiffness:o,damping:l}}else{const n=JC(e);t={...t,...n,mass:Ke.mass},t.isResolvedFromDuration=!0}return t}function Wl(e=Ke.visualDuration,t=Ke.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:o}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:h,damping:m,mass:p,duration:g,velocity:y,isResolvedFromDuration:P}=rS({...n,velocity:-on(n.velocity||0)}),w=y||0,N=m/(2*Math.sqrt(h*p)),S=c-l,k=on(Math.sqrt(h/p)),_=Math.abs(S)<5;s||(s=_?Ke.restSpeed.granular:Ke.restSpeed.default),o||(o=_?Ke.restDelta.granular:Ke.restDelta.default);let C;if(N<1){const M=Jd(k,N);C=V=>{const O=Math.exp(-N*k*V);return c-O*((w+N*k*S)/M*Math.sin(M*V)+S*Math.cos(M*V))}}else if(N===1)C=M=>c-Math.exp(-k*M)*(S+(w+k*S)*M);else{const M=k*Math.sqrt(N*N-1);C=V=>{const O=Math.exp(-N*k*V),z=Math.min(M*V,300);return c-O*((w+N*k*S)*Math.sinh(z)+M*S*Math.cosh(z))/M}}const E={calculatedDuration:P&&g||null,next:M=>{const V=C(M);if(P)d.done=M>=g;else{let O=M===0?w:0;N<1&&(O=M===0?Rn(w):m1(C,M,V));const z=Math.abs(O)<=s,ee=Math.abs(c-V)<=o;d.done=z&&ee}return d.value=d.done?c:V,d},toString:()=>{const M=Math.min(Vf(E),Ul),V=f1(O=>E.next(M*O).value,M,30);return M+"ms "+V},toTransition:()=>{}};return E}Wl.applyToOptions=e=>{const t=YC(e,100,Wl);return e.ease=t.ease,e.duration=Rn(t.duration),e.type="keyframes",e};function Qd({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:h,restDelta:m=.5,restSpeed:p}){const g=e[0],y={done:!1,value:g},P=z=>d!==void 0&&z<d||h!==void 0&&z>h,w=z=>d===void 0?h:h===void 0||Math.abs(d-z)<Math.abs(h-z)?d:h;let N=n*t;const S=g+N,k=c===void 0?S:c(S);k!==S&&(N=k-g);const _=z=>-N*Math.exp(-z/s),C=z=>k+_(z),E=z=>{const ee=_(z),J=C(z);y.done=Math.abs(ee)<=m,y.value=y.done?k:J};let M,V;const O=z=>{P(y.value)&&(M=z,V=Wl({keyframes:[y.value,w(y.value)],velocity:m1(C,z,y.value),damping:o,stiffness:l,restDelta:m,restSpeed:p}))};return O(0),{calculatedDuration:null,next:z=>{let ee=!1;return!V&&M===void 0&&(ee=!0,E(z),O(z)),M!==void 0&&z>=M?V.next(z-M):(!ee&&E(z),y)}}}function sS(e,t,n){const s=[],o=n||er.mix||h1,l=e.length-1;for(let c=0;c<l;c++){let d=o(e[c],e[c+1]);if(t){const h=Array.isArray(t)?t[c]||ln:t;d=Ko(h,d)}s.push(d)}return s}function iS(e,t,{clamp:n=!0,ease:s,mixer:o}={}){const l=e.length;if(Lf(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=sS(t,s,o),h=d.length,m=p=>{if(c&&p<e[0])return t[0];let g=0;if(h>1)for(;g<e.length-2&&!(p<e[g+1]);g++);const y=Lo(e[g],e[g+1],p);return d[g](y)};return n?p=>m(Qn(e[0],e[l-1],p)):m}function oS(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const o=Lo(0,t,s);e.push(Ue(n,1,o))}}function aS(e){const t=[0];return oS(t,e.length-1),t}function lS(e,t){return e.map(n=>n*t)}function cS(e,t){return e.map(()=>t||n1).splice(0,e.length-1)}function oo({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const o=wC(s)?s.map(Pg):Pg(s),l={done:!1,value:t[0]},c=lS(n&&n.length===t.length?n:aS(t),e),d=iS(c,t,{ease:Array.isArray(o)?o:cS(t,o)});return{calculatedDuration:e,next:h=>(l.value=d(h),l.done=h>=e,l)}}const uS=e=>e!==null;function Ff(e,{repeat:t,repeatType:n="loop"},s,o=1){const l=e.filter(uS),d=o<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||s===void 0?l[d]:s}const dS={decay:Qd,inertia:Qd,tween:oo,keyframes:oo,spring:Wl};function p1(e){typeof e.type=="string"&&(e.type=dS[e.type])}class $f{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const hS=e=>e/100;class Uf extends $f{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,o;const{motionValue:n}=this.options;n&&n.updatedAt!==It.now()&&this.tick(It.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(s=this.options).onStop)==null||o.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;p1(t);const{type:n=oo,repeat:s=0,repeatDelay:o=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const h=n||oo;h!==oo&&typeof d[0]!="number"&&(this.mixKeyframes=Ko(hS,h1(d[0],d[1])),d=[0,100]);const m=h({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...d].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=Vf(m));const{calculatedDuration:p}=m;this.calculatedDuration=p,this.resolvedDuration=p+o,this.totalDuration=this.resolvedDuration*(s+1)-o,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:o,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:p,repeat:g,repeatType:y,repeatDelay:P,type:w,onUpdate:N,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-o/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const k=this.currentTime-m*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?k<0:k>o;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let C=this.currentTime,E=s;if(g){const z=Math.min(this.currentTime,o)/d;let ee=Math.floor(z),J=z%1;!J&&z>=1&&(J=1),J===1&&ee--,ee=Math.min(ee,g+1),!!(ee%2)&&(y==="reverse"?(J=1-J,P&&(J-=P/d)):y==="mirror"&&(E=c)),C=Qn(0,1,J)*d}const M=_?{done:!1,value:p[0]}:E.next(C);l&&(M.value=l(M.value));let{done:V}=M;!_&&h!==null&&(V=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return O&&w!==Qd&&(M.value=Ff(p,this.options,S,this.speed)),N&&N(M.value),O&&this.finish(),M}then(t,n){return this.finished.then(t,n)}get duration(){return on(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+on(t)}get time(){return on(this.currentTime)}set time(t){var n;t=Rn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(It.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=on(this.currentTime))}play(){var o,l;if(this.isStopped)return;const{driver:t=qC,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(o=this.options).onPlay)==null||l.call(o);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(It.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function fS(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Xr=e=>e*180/Math.PI,eh=e=>{const t=Xr(Math.atan2(e[1],e[0]));return th(t)},mS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:eh,rotateZ:eh,skewX:e=>Xr(Math.atan(e[1])),skewY:e=>Xr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},th=e=>(e=e%360,e<0&&(e+=360),e),Dg=eh,Rg=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Og=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),pS={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Rg,scaleY:Og,scale:e=>(Rg(e)+Og(e))/2,rotateX:e=>th(Xr(Math.atan2(e[6],e[5]))),rotateY:e=>th(Xr(Math.atan2(-e[2],e[0]))),rotateZ:Dg,rotate:Dg,skewX:e=>Xr(Math.atan(e[4])),skewY:e=>Xr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function nh(e){return e.includes("scale")?1:0}function rh(e,t){if(!e||e==="none")return nh(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,o;if(n)s=pS,o=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=mS,o=d}if(!o)return nh(t);const l=s[t],c=o[1].split(",").map(xS);return typeof l=="function"?l(c):c[l]}const gS=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return rh(n,t)};function xS(e){return parseFloat(e.trim())}const di=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hi=new Set(di),Ig=e=>e===ui||e===ye,yS=new Set(["x","y","z"]),vS=di.filter(e=>!yS.has(e));function wS(e){const t=[];return vS.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const ts={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>rh(t,"x"),y:(e,{transform:t})=>rh(t,"y")};ts.translateX=ts.x;ts.translateY=ts.y;const ns=new Set;let sh=!1,ih=!1,oh=!1;function g1(){if(ih){const e=Array.from(ns).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const o=wS(s);o.length&&(n.set(s,o),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const o=n.get(s);o&&o.forEach(([l,c])=>{var d;(d=s.getValue(l))==null||d.set(c)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ih=!1,sh=!1,ns.forEach(e=>e.complete(oh)),ns.clear()}function x1(){ns.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ih=!0)})}function _S(){oh=!0,x1(),g1(),oh=!1}class Wf{constructor(t,n,s,o,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=o,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(ns.add(this),sh||(sh=!0,Ve.read(x1),Ve.resolveKeyframes(g1))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:o}=this;if(t[0]===null){const l=o==null?void 0:o.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(s&&n){const d=s.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&l===void 0&&o.set(t[0])}fS(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ns.delete(this)}cancel(){this.state==="scheduled"&&(ns.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const bS=e=>e.startsWith("--");function jS(e,t,n){bS(t)?e.style.setProperty(t,n):e.style[t]=n}const NS=Ef(()=>window.ScrollTimeline!==void 0),kS={};function CS(e,t){const n=Ef(e);return()=>kS[t]??n()}const y1=CS(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qi=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,zg={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qi([0,.65,.55,1]),circOut:qi([.55,0,1,.45]),backIn:qi([.31,.01,.66,-.59]),backOut:qi([.33,1.53,.69,.99])};function v1(e,t){if(e)return typeof e=="function"?y1()?f1(e,t):"ease-out":r1(e)?qi(e):Array.isArray(e)?e.map(n=>v1(n,t)||zg.easeOut):zg[e]}function SS(e,t,n,{delay:s=0,duration:o=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:h}={},m=void 0){const p={[t]:n};h&&(p.offset=h);const g=v1(d,o);Array.isArray(g)&&(p.easing=g);const y={delay:s,duration:o,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(y.pseudoElement=m),e.animate(p,y)}function w1(e){return typeof e=="function"&&"applyToOptions"in e}function PS({type:e,...t}){return w1(e)&&y1()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class TS extends $f{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:s,keyframes:o,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:h}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,Lf(typeof t.type!="string");const m=PS(t);this.animation=SS(n,s,o,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const p=Ff(o,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):jS(n,s,p),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return on(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+on(t)}get time(){return on(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Rn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&NS()?(this.animation.timeline=t,ln):n(this)}}const _1={anticipate:Qv,backInOut:Jv,circInOut:t1};function LS(e){return e in _1}function ES(e){typeof e.ease=="string"&&LS(e.ease)&&(e.ease=_1[e.ease])}const Bg=10;class AS extends TS{constructor(t){ES(t),p1(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:o,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new Uf({...c,autoplay:!1}),h=Rn(this.finishedTime??this.time);n.setWithVelocity(d.sample(h-Bg).value,d.sample(h).value,Bg),d.stop()}}const Vg=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Sr.test(e)||e==="0")&&!e.startsWith("url("));function MS(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function DS(e,t,n,s){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=Vg(o,t),d=Vg(l,t);return!c||!d?!1:MS(e)||(n==="spring"||w1(n))&&s}function ah(e){e.duration=0,e.type="keyframes"}const RS=new Set(["opacity","clipPath","filter","transform"]),OS=Ef(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function IS(e){var p;const{motionValue:t,name:n,repeatDelay:s,repeatType:o,damping:l,type:c}=e;if(!(((p=t==null?void 0:t.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:m}=t.owner.getProps();return OS()&&n&&RS.has(n)&&(n!=="transform"||!m)&&!h&&!s&&o!=="mirror"&&l!==0&&c!=="inertia"}const zS=40;class BS extends $f{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:h,motionValue:m,element:p,...g}){var w;super(),this.stop=()=>{var N,S;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=It.now();const y={autoplay:t,delay:n,type:s,repeat:o,repeatDelay:l,repeatType:c,name:h,motionValue:m,element:p,...g},P=(p==null?void 0:p.KeyframeResolver)||Wf;this.keyframeResolver=new P(d,(N,S,k)=>this.onKeyframesResolved(N,S,y,!k),h,m,p),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,s,o){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:h,isHandoff:m,onUpdate:p}=s;this.resolvedAt=It.now(),DS(t,l,c,d)||((er.instantAnimations||!h)&&(p==null||p(Ff(t,s,n))),t[0]=t[t.length-1],ah(s),s.repeat=0);const y={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>zS?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},P=!m&&IS(y)?new AS({...y,element:y.motionValue.owner.current}):new Uf(y);P.finished.then(()=>this.notifyFinished()).catch(ln),this.pendingTimeline&&(this.stopTimeline=P.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=P}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),_S()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const VS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FS(e){const t=VS.exec(e);if(!t)return[,];const[,n,s,o]=t;return[`--${n??s}`,o]}function b1(e,t,n=1){const[s,o]=FS(e);if(!s)return;const l=window.getComputedStyle(t).getPropertyValue(s);if(l){const c=l.trim();return Wv(c)?parseFloat(c):c}return Of(o)?b1(o,t,n+1):o}function Hf(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const j1=new Set(["width","height","top","left","right","bottom",...di]),$S={test:e=>e==="auto",parse:e=>e},N1=e=>t=>t.test(e),k1=[ui,ye,On,or,MC,AC,$S],Fg=e=>k1.find(N1(e));function US(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Zv(e):!0}const WS=new Set(["brightness","contrast","saturate","opacity"]);function HS(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(If)||[];if(!s)return e;const o=n.replace(s,"");let l=WS.has(t)?1:0;return s!==n&&(l*=100),t+"("+l+o+")"}const ZS=/\b([a-z-]*)\(.*?\)/gu,lh={...Sr,getAnimatableNone:e=>{const t=e.match(ZS);return t?t.map(HS).join(" "):e}},$g={...ui,transform:Math.round},KS={rotate:or,rotateX:or,rotateY:or,rotateZ:or,scale:Za,scaleX:Za,scaleY:Za,scaleZ:Za,skew:or,skewX:or,skewY:or,distance:ye,translateX:ye,translateY:ye,translateZ:ye,x:ye,y:ye,z:ye,perspective:ye,transformPerspective:ye,opacity:Eo,originX:Tg,originY:Tg,originZ:ye},Zf={borderWidth:ye,borderTopWidth:ye,borderRightWidth:ye,borderBottomWidth:ye,borderLeftWidth:ye,borderRadius:ye,radius:ye,borderTopLeftRadius:ye,borderTopRightRadius:ye,borderBottomRightRadius:ye,borderBottomLeftRadius:ye,width:ye,maxWidth:ye,height:ye,maxHeight:ye,top:ye,right:ye,bottom:ye,left:ye,padding:ye,paddingTop:ye,paddingRight:ye,paddingBottom:ye,paddingLeft:ye,margin:ye,marginTop:ye,marginRight:ye,marginBottom:ye,marginLeft:ye,backgroundPositionX:ye,backgroundPositionY:ye,...KS,zIndex:$g,fillOpacity:Eo,strokeOpacity:Eo,numOctaves:$g},GS={...Zf,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:lh,WebkitFilter:lh},C1=e=>GS[e];function S1(e,t){let n=C1(e);return n!==lh&&(n=Sr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const qS=new Set(["auto","none","0"]);function YS(e,t,n){let s=0,o;for(;s<e.length&&!o;){const l=e[s];typeof l=="string"&&!qS.has(l)&&Ao(l).values.length&&(o=e[s]),s++}if(o&&n)for(const l of t)e[l]=S1(n,o)}class XS extends Wf{constructor(t,n,s,o,l){super(t,n,s,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let m=t[h];if(typeof m=="string"&&(m=m.trim(),Of(m))){const p=b1(m,n.current);p!==void 0&&(t[h]=p),h===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!j1.has(s)||t.length!==2)return;const[o,l]=t,c=Fg(o),d=Fg(l);if(c!==d)if(Ig(c)&&Ig(d))for(let h=0;h<t.length;h++){const m=t[h];typeof m=="string"&&(t[h]=parseFloat(m))}else ts[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let o=0;o<t.length;o++)(t[o]===null||US(t[o]))&&s.push(o);s.length&&YS(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ts[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(s,o).jump(o,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=ts[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([h,m])=>{t.getValue(h).set(m)}),this.resolveNoneKeyframes()}}function JS(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let s=document;const o=(n==null?void 0:n[e])??s.querySelectorAll(e);return o?Array.from(o):[]}return Array.from(e)}const P1=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function T1(e){return Hv(e)&&"offsetHeight"in e}const Ug=30,QS=e=>!isNaN(parseFloat(e));class e4{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var l;const o=It.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=It.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=QS(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Af);const s=this.events[t].add(n);return t==="change"?()=>{s(),Ve.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=It.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Ug)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Ug);return Kv(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ti(e,t){return new e4(e,t)}const{schedule:Kf}=s1(queueMicrotask,!1),pn={x:!1,y:!1};function L1(){return pn.x||pn.y}function t4(e){return e==="x"||e==="y"?pn[e]?null:(pn[e]=!0,()=>{pn[e]=!1}):pn.x||pn.y?null:(pn.x=pn.y=!0,()=>{pn.x=pn.y=!1})}function E1(e,t){const n=JS(e),s=new AbortController,o={passive:!0,...t,signal:s.signal};return[n,o,()=>s.abort()]}function Wg(e){return!(e.pointerType==="touch"||L1())}function n4(e,t,n={}){const[s,o,l]=E1(e,n),c=d=>{if(!Wg(d))return;const{target:h}=d,m=t(h,d);if(typeof m!="function"||!h)return;const p=g=>{Wg(g)&&(m(g),h.removeEventListener("pointerleave",p))};h.addEventListener("pointerleave",p,o)};return s.forEach(d=>{d.addEventListener("pointerenter",c,o)}),l}const A1=(e,t)=>t?e===t?!0:A1(e,t.parentElement):!1,Gf=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,r4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function s4(e){return r4.has(e.tagName)||e.tabIndex!==-1}const hl=new WeakSet;function Hg(e){return t=>{t.key==="Enter"&&e(t)}}function Iu(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const i4=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=Hg(()=>{if(hl.has(n))return;Iu(n,"down");const o=Hg(()=>{Iu(n,"up")}),l=()=>Iu(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function Zg(e){return Gf(e)&&!L1()}function o4(e,t,n={}){const[s,o,l]=E1(e,n),c=d=>{const h=d.currentTarget;if(!Zg(d))return;hl.add(h);const m=t(h,d),p=(P,w)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",y),hl.has(h)&&hl.delete(h),Zg(P)&&typeof m=="function"&&m(P,{success:w})},g=P=>{p(P,h===window||h===document||n.useGlobalTarget||A1(h,P.target))},y=P=>{p(P,!1)};window.addEventListener("pointerup",g,o),window.addEventListener("pointercancel",y,o)};return s.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,o),T1(d)&&(d.addEventListener("focus",m=>i4(m,o)),!s4(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function M1(e){return Hv(e)&&"ownerSVGElement"in e}function a4(e){return M1(e)&&e.tagName==="svg"}const Nt=e=>!!(e&&e.getVelocity),l4=[...k1,st,Sr],c4=e=>l4.find(N1(e)),qf=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Kg(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function u4(...e){return t=>{let n=!1;const s=e.map(o=>{const l=Kg(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<s.length;o++){const l=s[o];typeof l=="function"?l():Kg(e[o],null)}}}}function d4(...e){return b.useCallback(u4(...e),e)}class h4 extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,o=T1(s)&&s.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=o-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function f4({children:e,isPresent:t,anchorX:n,root:s}){const o=b.useId(),l=b.useRef(null),c=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=b.useContext(qf),h=d4(l,e==null?void 0:e.ref);return b.useInsertionEffect(()=>{const{width:m,height:p,top:g,left:y,right:P}=c.current;if(t||!l.current||!m||!p)return;const w=n==="left"?`left: ${y}`:`right: ${P}`;l.current.dataset.motionPopId=o;const N=document.createElement("style");d&&(N.nonce=d);const S=s??document.head;return S.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${p}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{S.contains(N)&&S.removeChild(N)}},[t]),i.jsx(h4,{isPresent:t,childRef:l,sizeRef:c,children:b.cloneElement(e,{ref:h})})}const m4=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:c,anchorX:d,root:h})=>{const m=Cf(p4),p=b.useId();let g=!0,y=b.useMemo(()=>(g=!1,{id:p,initial:t,isPresent:n,custom:o,onExitComplete:P=>{m.set(P,!0);for(const w of m.values())if(!w)return;s&&s()},register:P=>(m.set(P,!1),()=>m.delete(P))}),[n,m,s]);return l&&g&&(y={...y}),b.useMemo(()=>{m.forEach((P,w)=>m.set(w,!1))},[n]),b.useEffect(()=>{!n&&!m.size&&s&&s()},[n]),c==="popLayout"&&(e=i.jsx(f4,{isPresent:n,anchorX:d,root:h,children:e})),i.jsx(xc.Provider,{value:y,children:e})};function p4(){return new Map}function D1(e=!0){const t=b.useContext(xc);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:o}=t,l=b.useId();b.useEffect(()=>{if(e)return o(l)},[e]);const c=b.useCallback(()=>e&&s&&s(l),[l,s,e]);return!n&&s?[!1,c]:[!0]}const Ka=e=>e.key||"";function Gg(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const dt=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:o=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:h})=>{const[m,p]=D1(c),g=b.useMemo(()=>Gg(e),[e]),y=c&&!m?[]:g.map(Ka),P=b.useRef(!0),w=b.useRef(g),N=Cf(()=>new Map),[S,k]=b.useState(g),[_,C]=b.useState(g);Uv(()=>{P.current=!1,w.current=g;for(let V=0;V<_.length;V++){const O=Ka(_[V]);y.includes(O)?N.delete(O):N.get(O)!==!0&&N.set(O,!1)}},[_,y.length,y.join("-")]);const E=[];if(g!==S){let V=[...g];for(let O=0;O<_.length;O++){const z=_[O],ee=Ka(z);y.includes(ee)||(V.splice(O,0,z),E.push(z))}return l==="wait"&&E.length&&(V=E),C(Gg(V)),k(g),null}const{forceRender:M}=b.useContext(kf);return i.jsx(i.Fragment,{children:_.map(V=>{const O=Ka(V),z=c&&!m?!1:g===_||y.includes(O),ee=()=>{if(N.has(O))N.set(O,!0);else return;let J=!0;N.forEach(W=>{W||(J=!1)}),J&&(M==null||M(),C(w.current),c&&(p==null||p()),s&&s())};return i.jsx(m4,{isPresent:z,initial:!P.current||n?void 0:!1,custom:t,presenceAffectsLayout:o,mode:l,root:h,onExitComplete:z?void 0:ee,anchorX:d,children:V},O)})})},R1=b.createContext({strict:!1}),qg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ni={};for(const e in qg)ni[e]={isEnabled:t=>qg[e].some(n=>!!t[n])};function g4(e){for(const t in e)ni[t]={...ni[t],...e[t]}}const x4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Hl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||x4.has(e)}let O1=e=>!Hl(e);function y4(e){typeof e=="function"&&(O1=t=>t.startsWith("on")?!Hl(t):e(t))}try{y4(require("@emotion/is-prop-valid").default)}catch{}function v4(e,t,n){const s={};for(const o in e)o==="values"&&typeof e.values=="object"||(O1(o)||n===!0&&Hl(o)||!t&&!Hl(o)||e.draggable&&o.startsWith("onDrag"))&&(s[o]=e[o]);return s}const yc=b.createContext({});function vc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Mo(e){return typeof e=="string"||Array.isArray(e)}const Yf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Xf=["initial",...Yf];function wc(e){return vc(e.animate)||Xf.some(t=>Mo(e[t]))}function I1(e){return!!(wc(e)||e.variants)}function w4(e,t){if(wc(e)){const{initial:n,animate:s}=e;return{initial:n===!1||Mo(n)?n:void 0,animate:Mo(s)?s:void 0}}return e.inherit!==!1?t:{}}function _4(e){const{initial:t,animate:n}=w4(e,b.useContext(yc));return b.useMemo(()=>({initial:t,animate:n}),[Yg(t),Yg(n)])}function Yg(e){return Array.isArray(e)?e.join(" "):e}const Do={};function b4(e){for(const t in e)Do[t]=e[t],Rf(t)&&(Do[t].isCSSVariable=!0)}function z1(e,{layout:t,layoutId:n}){return hi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Do[e]||e==="opacity")}const j4={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},N4=di.length;function k4(e,t,n){let s="",o=!0;for(let l=0;l<N4;l++){const c=di[l],d=e[c];if(d===void 0)continue;let h=!0;if(typeof d=="number"?h=d===(c.startsWith("scale")?1:0):h=parseFloat(d)===0,!h||n){const m=P1(d,Zf[c]);if(!h){o=!1;const p=j4[c]||c;s+=`${p}(${m}) `}n&&(t[c]=m)}}return s=s.trim(),n?s=n(t,o?"":s):o&&(s="none"),s}function Jf(e,t,n){const{style:s,vars:o,transformOrigin:l}=e;let c=!1,d=!1;for(const h in t){const m=t[h];if(hi.has(h)){c=!0;continue}else if(Rf(h)){o[h]=m;continue}else{const p=P1(m,Zf[h]);h.startsWith("origin")?(d=!0,l[h]=p):s[h]=p}}if(t.transform||(c||n?s.transform=k4(t,e.transform,n):s.transform&&(s.transform="none")),d){const{originX:h="50%",originY:m="50%",originZ:p=0}=l;s.transformOrigin=`${h} ${m} ${p}`}}const Qf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function B1(e,t,n){for(const s in t)!Nt(t[s])&&!z1(s,n)&&(e[s]=t[s])}function C4({transformTemplate:e},t){return b.useMemo(()=>{const n=Qf();return Jf(n,t,e),Object.assign({},n.vars,n.style)},[t])}function S4(e,t){const n=e.style||{},s={};return B1(s,n,e),Object.assign(s,C4(e,t)),s}function P4(e,t){const n={},s=S4(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const T4={offset:"stroke-dashoffset",array:"stroke-dasharray"},L4={offset:"strokeDashoffset",array:"strokeDasharray"};function E4(e,t,n=1,s=0,o=!0){e.pathLength=1;const l=o?T4:L4;e[l.offset]=ye.transform(-s);const c=ye.transform(t),d=ye.transform(n);e[l.array]=`${c} ${d}`}function V1(e,{attrX:t,attrY:n,attrScale:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...d},h,m,p){if(Jf(e,d,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:y}=e;g.transform&&(y.transform=g.transform,delete g.transform),(y.transform||g.transformOrigin)&&(y.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),y.transform&&(y.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),s!==void 0&&(g.scale=s),o!==void 0&&E4(g,o,l,c,!1)}const F1=()=>({...Qf(),attrs:{}}),$1=e=>typeof e=="string"&&e.toLowerCase()==="svg";function A4(e,t,n,s){const o=b.useMemo(()=>{const l=F1();return V1(l,t,$1(s),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};B1(l,e.style,e),o.style={...l,...o.style}}return o}const M4=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function em(e){return typeof e!="string"||e.includes("-")?!1:!!(M4.indexOf(e)>-1||/[A-Z]/u.test(e))}function D4(e,t,n,{latestValues:s},o,l=!1){const d=(em(e)?A4:P4)(t,s,o,e),h=v4(t,typeof e=="string",l),m=e!==b.Fragment?{...h,...d,ref:n}:{},{children:p}=t,g=b.useMemo(()=>Nt(p)?p.get():p,[p]);return b.createElement(e,{...m,children:g})}function Xg(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function tm(e,t,n,s){if(typeof t=="function"){const[o,l]=Xg(s);t=t(n!==void 0?n:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=Xg(s);t=t(n!==void 0?n:e.custom,o,l)}return t}function fl(e){return Nt(e)?e.get():e}function R4({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,o){return{latestValues:O4(n,s,o,e),renderState:t()}}function O4(e,t,n,s){const o={},l=s(e,{});for(const y in l)o[y]=fl(l[y]);let{initial:c,animate:d}=e;const h=wc(e),m=I1(e);t&&m&&!h&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let p=n?n.initial===!1:!1;p=p||c===!1;const g=p?d:c;if(g&&typeof g!="boolean"&&!vc(g)){const y=Array.isArray(g)?g:[g];for(let P=0;P<y.length;P++){const w=tm(e,y[P]);if(w){const{transitionEnd:N,transition:S,...k}=w;for(const _ in k){let C=k[_];if(Array.isArray(C)){const E=p?C.length-1:0;C=C[E]}C!==null&&(o[_]=C)}for(const _ in N)o[_]=N[_]}}}return o}const U1=e=>(t,n)=>{const s=b.useContext(yc),o=b.useContext(xc),l=()=>R4(e,t,s,o);return n?l():Cf(l)};function nm(e,t,n){var l;const{style:s}=e,o={};for(const c in s)(Nt(s[c])||t.style&&Nt(t.style[c])||z1(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(o[c]=s[c]);return o}const I4=U1({scrapeMotionValuesFromProps:nm,createRenderState:Qf});function W1(e,t,n){const s=nm(e,t,n);for(const o in e)if(Nt(e[o])||Nt(t[o])){const l=di.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;s[l]=e[o]}return s}const z4=U1({scrapeMotionValuesFromProps:W1,createRenderState:F1}),B4=Symbol.for("motionComponentSymbol");function Os(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function V4(e,t,n){return b.useCallback(s=>{s&&e.onMount&&e.onMount(s),t&&(s?t.mount(s):t.unmount()),n&&(typeof n=="function"?n(s):Os(n)&&(n.current=s))},[t])}const rm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),F4="framerAppearId",H1="data-"+rm(F4),Z1=b.createContext({});function $4(e,t,n,s,o){var N,S;const{visualElement:l}=b.useContext(yc),c=b.useContext(R1),d=b.useContext(xc),h=b.useContext(qf).reducedMotion,m=b.useRef(null);s=s||c.renderer,!m.current&&s&&(m.current=s(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const p=m.current,g=b.useContext(Z1);p&&!p.projection&&o&&(p.type==="html"||p.type==="svg")&&U4(m.current,n,o,g);const y=b.useRef(!1);b.useInsertionEffect(()=>{p&&y.current&&p.update(n,d)});const P=n[H1],w=b.useRef(!!P&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,P))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,P)));return Uv(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),w.current&&p.animationState&&p.animationState.animateChanges())}),b.useEffect(()=>{p&&(!w.current&&p.animationState&&p.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,P)}),w.current=!1),p.enteringChildren=void 0)}),p}function U4(e,t,n,s){const{layoutId:o,layout:l,drag:c,dragConstraints:d,layoutScroll:h,layoutRoot:m,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:K1(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!c||d&&Os(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:p,layoutScroll:h,layoutRoot:m})}function K1(e){if(e)return e.options.allowProjection!==!1?e.projection:K1(e.parent)}function zu(e,{forwardMotionProps:t=!1}={},n,s){n&&g4(n);const o=em(e)?z4:I4;function l(d,h){let m;const p={...b.useContext(qf),...d,layoutId:W4(d)},{isStatic:g}=p,y=_4(d),P=o(d,g);if(!g&&Sf){H4();const w=Z4(p);m=w.MeasureLayout,y.visualElement=$4(e,P,p,s,w.ProjectionNode)}return i.jsxs(yc.Provider,{value:y,children:[m&&y.visualElement?i.jsx(m,{visualElement:y.visualElement,...p}):null,D4(e,d,V4(P,y.visualElement,h),P,g,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=b.forwardRef(l);return c[B4]=e,c}function W4({layoutId:e}){const t=b.useContext(kf).id;return t&&e!==void 0?t+"-"+e:e}function H4(e,t){b.useContext(R1).strict}function Z4(e){const{drag:t,layout:n}=ni;if(!t&&!n)return{};const s={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function K4(e,t){if(typeof Proxy>"u")return zu;const n=new Map,s=(l,c)=>zu(l,c,e,t),o=(l,c)=>s(l,c);return new Proxy(o,{get:(l,c)=>c==="create"?s:(n.has(c)||n.set(c,zu(c,void 0,e,t)),n.get(c))})}function G1({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function G4({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function q4(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Bu(e){return e===void 0||e===1}function ch({scale:e,scaleX:t,scaleY:n}){return!Bu(e)||!Bu(t)||!Bu(n)}function Hr(e){return ch(e)||q1(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function q1(e){return Jg(e.x)||Jg(e.y)}function Jg(e){return e&&e!=="0%"}function Zl(e,t,n){const s=e-n,o=t*s;return n+o}function Qg(e,t,n,s,o){return o!==void 0&&(e=Zl(e,o,s)),Zl(e,n,s)+t}function uh(e,t=0,n=1,s,o){e.min=Qg(e.min,t,n,s,o),e.max=Qg(e.max,t,n,s,o)}function Y1(e,{x:t,y:n}){uh(e.x,t.translate,t.scale,t.originPoint),uh(e.y,n.translate,n.scale,n.originPoint)}const e0=.999999999999,t0=1.0000000000001;function Y4(e,t,n,s=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,c;for(let d=0;d<o;d++){l=n[d],c=l.projectionDelta;const{visualElement:h}=l.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&zs(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Y1(e,c)),s&&Hr(l.latestValues)&&zs(e,l.latestValues))}t.x<t0&&t.x>e0&&(t.x=1),t.y<t0&&t.y>e0&&(t.y=1)}function Is(e,t){e.min=e.min+t,e.max=e.max+t}function n0(e,t,n,s,o=.5){const l=Ue(e.min,e.max,o);uh(e,t,n,l,s)}function zs(e,t){n0(e.x,t.x,t.scaleX,t.scale,t.originX),n0(e.y,t.y,t.scaleY,t.scale,t.originY)}function X1(e,t){return G1(q4(e.getBoundingClientRect(),t))}function X4(e,t,n){const s=X1(e,n),{scroll:o}=t;return o&&(Is(s.x,o.offset.x),Is(s.y,o.offset.y)),s}const r0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bs=()=>({x:r0(),y:r0()}),s0=()=>({min:0,max:0}),Qe=()=>({x:s0(),y:s0()}),dh={current:null},J1={current:!1};function J4(){if(J1.current=!0,!!Sf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>dh.current=e.matches;e.addEventListener("change",t),t()}else dh.current=!1}const Q4=new WeakMap;function eP(e,t,n){for(const s in t){const o=t[s],l=n[s];if(Nt(o))e.addValue(s,o);else if(Nt(l))e.addValue(s,ti(o,{owner:e}));else if(l!==o)if(e.hasValue(s)){const c=e.getValue(s);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(s);e.addValue(s,ti(c!==void 0?c:o,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const i0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tP{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:o,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wf,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=It.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Ve.render(this.render,!1,!0))};const{latestValues:h,renderState:m}=c;this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=wc(n),this.isVariantNode=I1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in g){const P=g[y];h[y]!==void 0&&Nt(P)&&P.set(h[y])}}mount(t){var n;this.current=t,Q4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,o)=>this.bindToMotionValue(o,s)),J1.current||J4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:dh.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Cr(this.notifyUpdate),Cr(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=hi.has(t);s&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ve.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ni){const n=ni[t];if(!n)continue;const{isEnabled:s,Feature:o}=n;if(!this.features[t]&&o&&s(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<i0.length;s++){const o=i0[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,c=t[l];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=eP(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=ti(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(Wv(s)||Zv(s))?s=parseFloat(s):!c4(s)&&Sr.test(n)&&(s=S1(t,n)),this.setBaseTarget(t,Nt(s)?s.get():s)),Nt(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const c=tm(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(s=c[t])}if(n&&s!==void 0)return s;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!Nt(o)?o:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Af),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Kf.render(this.render)}}class Q1 extends tP{constructor(){super(...arguments),this.KeyframeResolver=XS}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Nt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ew(e,{style:t,vars:n},s,o){const l=e.style;let c;for(c in t)l[c]=t[c];o==null||o.applyProjectionStyles(l,s);for(c in n)l.setProperty(c,n[c])}function nP(e){return window.getComputedStyle(e)}class rP extends Q1{constructor(){super(...arguments),this.type="html",this.renderInstance=ew}readValueFromInstance(t,n){var s;if(hi.has(n))return(s=this.projection)!=null&&s.isProjecting?nh(n):gS(t,n);{const o=nP(t),l=(Rf(n)?o.getPropertyValue(n):o[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return X1(t,n)}build(t,n,s){Jf(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return nm(t,n,s)}}const tw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sP(e,t,n,s){ew(e,t,void 0,s);for(const o in t.attrs)e.setAttribute(tw.has(o)?o:rm(o),t.attrs[o])}class iP extends Q1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(hi.has(n)){const s=C1(n);return s&&s.default||0}return n=tw.has(n)?n:rm(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return W1(t,n,s)}build(t,n,s){V1(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,o){sP(t,n,s,o)}mount(t){this.isSVGTag=$1(t.tagName),super.mount(t)}}const oP=(e,t)=>em(e)?new iP(t):new rP(t,{allowProjection:e!==b.Fragment});function Zs(e,t,n){const s=e.getProps();return tm(s,t,n!==void 0?n:s.custom,e)}const hh=e=>Array.isArray(e);function aP(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ti(n))}function lP(e){return hh(e)?e[e.length-1]||0:e}function cP(e,t){const n=Zs(e,t);let{transitionEnd:s={},transition:o={},...l}=n||{};l={...l,...s};for(const c in l){const d=lP(l[c]);aP(e,c,d)}}function uP(e){return!!(Nt(e)&&e.add)}function fh(e,t){const n=e.getValue("willChange");if(uP(n))return n.add(t);if(!n&&er.WillChange){const s=new er.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function nw(e){return e.props[H1]}const dP=e=>e!==null;function hP(e,{repeat:t,repeatType:n="loop"},s){const o=e.filter(dP),l=t&&n!=="loop"&&t%2===1?0:o.length-1;return o[l]}const fP={type:"spring",stiffness:500,damping:25,restSpeed:10},mP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),pP={type:"keyframes",duration:.8},gP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},xP=(e,{keyframes:t})=>t.length>2?pP:hi.has(e)?e.startsWith("scale")?mP(t[1]):fP:gP;function yP({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:c,repeatDelay:d,from:h,elapsed:m,...p}){return!!Object.keys(p).length}const sm=(e,t,n,s={},o,l)=>c=>{const d=Hf(s,e)||{},h=d.delay||s.delay||0;let{elapsed:m=0}=s;m=m-Rn(h);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-m,onUpdate:y=>{t.set(y),d.onUpdate&&d.onUpdate(y)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:o};yP(d)||Object.assign(p,xP(e,p)),p.duration&&(p.duration=Rn(p.duration)),p.repeatDelay&&(p.repeatDelay=Rn(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let g=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(ah(p),p.delay===0&&(g=!0)),(er.instantAnimations||er.skipAnimations)&&(g=!0,ah(p),p.delay=0),p.allowFlatten=!d.type&&!d.ease,g&&!l&&t.get()!==void 0){const y=hP(p.keyframes,d);if(y!==void 0){Ve.update(()=>{p.onUpdate(y),p.onComplete()});return}}return d.isSync?new Uf(p):new BS(p)};function vP({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function rw(e,t,{delay:n=0,transitionOverride:s,type:o}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;s&&(l=s);const h=[],m=o&&e.animationState&&e.animationState.getState()[o];for(const p in d){const g=e.getValue(p,e.latestValues[p]??null),y=d[p];if(y===void 0||m&&vP(m,p))continue;const P={delay:n,...Hf(l||{},p)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(y)&&y===w&&!P.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const k=nw(e);if(k){const _=window.MotionHandoffAnimation(k,p,Ve);_!==null&&(P.startTime=_,N=!0)}}fh(e,p),g.start(sm(p,g,y,e.shouldReduceMotion&&j1.has(p)?{type:!1}:P,e,N));const S=g.animation;S&&h.push(S)}return c&&Promise.all(h).then(()=>{Ve.update(()=>{c&&cP(e,c)})}),h}function sw(e,t,n,s=0,o=1){const l=Array.from(e).sort((m,p)=>m.sortNodePosition(p)).indexOf(t),c=e.size,d=(c-1)*s;return typeof n=="function"?n(l,c):o===1?l*s:d-l*s}function mh(e,t,n={}){var h;const s=Zs(e,t,n.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:o=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(o=n.transitionOverride);const l=s?()=>Promise.all(rw(e,s,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=o;return wP(e,t,m,p,g,y,n)}:()=>Promise.resolve(),{when:d}=o;if(d){const[m,p]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>p())}else return Promise.all([l(),c(n.delay)])}function wP(e,t,n=0,s=0,o=0,l=1,c){const d=[];for(const h of e.variantChildren)h.notify("AnimationStart",t),d.push(mh(h,t,{...c,delay:n+(typeof s=="function"?0:s)+sw(e.variantChildren,h,s,o,l)}).then(()=>h.notify("AnimationComplete",t)));return Promise.all(d)}function _P(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const o=t.map(l=>mh(e,l,n));s=Promise.all(o)}else if(typeof t=="string")s=mh(e,t,n);else{const o=typeof t=="function"?Zs(e,t,n.custom):t;s=Promise.all(rw(e,o,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}function iw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const bP=Xf.length;function ow(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?ow(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<bP;n++){const s=Xf[n],o=e.props[s];(Mo(o)||o===!1)&&(t[s]=o)}return t}const jP=[...Yf].reverse(),NP=Yf.length;function kP(e){return t=>Promise.all(t.map(({animation:n,options:s})=>_P(e,n,s)))}function CP(e){let t=kP(e),n=o0(),s=!0;const o=h=>(m,p)=>{var y;const g=Zs(e,p,h==="exit"?(y=e.presenceContext)==null?void 0:y.custom:void 0);if(g){const{transition:P,transitionEnd:w,...N}=g;m={...m,...N,...w}}return m};function l(h){t=h(e)}function c(h){const{props:m}=e,p=ow(e.parent)||{},g=[],y=new Set;let P={},w=1/0;for(let S=0;S<NP;S++){const k=jP[S],_=n[k],C=m[k]!==void 0?m[k]:p[k],E=Mo(C),M=k===h?_.isActive:null;M===!1&&(w=S);let V=C===p[k]&&C!==m[k]&&E;if(V&&s&&e.manuallyAnimateOnMount&&(V=!1),_.protectedKeys={...P},!_.isActive&&M===null||!C&&!_.prevProp||vc(C)||typeof C=="boolean")continue;const O=SP(_.prevProp,C);let z=O||k===h&&_.isActive&&!V&&E||S>w&&E,ee=!1;const J=Array.isArray(C)?C:[C];let W=J.reduce(o(k),{});M===!1&&(W={});const{prevResolvedValues:te={}}=_,R={...te,...W},U=B=>{z=!0,y.has(B)&&(ee=!0,y.delete(B)),_.needsAnimating[B]=!0;const j=e.getValue(B);j&&(j.liveStyle=!1)};for(const B in R){const j=W[B],T=te[B];if(P.hasOwnProperty(B))continue;let F=!1;hh(j)&&hh(T)?F=!iw(j,T):F=j!==T,F?j!=null?U(B):y.add(B):j!==void 0&&y.has(B)?U(B):_.protectedKeys[B]=!0}_.prevProp=C,_.prevResolvedValues=W,_.isActive&&(P={...P,...W}),s&&e.blockInitialAnimation&&(z=!1);const I=V&&O;z&&(!I||ee)&&g.push(...J.map(B=>{const j={type:k};if(typeof B=="string"&&s&&!I&&e.manuallyAnimateOnMount&&e.parent){const{parent:T}=e,F=Zs(T,B);if(T.enteringChildren&&F){const{delayChildren:X}=F.transition||{};j.delay=sw(T.enteringChildren,e,X)}}return{animation:B,options:j}}))}if(y.size){const S={};if(typeof m.initial!="boolean"){const k=Zs(e,Array.isArray(m.initial)?m.initial[0]:m.initial);k&&k.transition&&(S.transition=k.transition)}y.forEach(k=>{const _=e.getBaseTarget(k),C=e.getValue(k);C&&(C.liveStyle=!0),S[k]=_??null}),g.push({animation:S})}let N=!!g.length;return s&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(N=!1),s=!1,N?t(g):Promise.resolve()}function d(h,m){var g;if(n[h].isActive===m)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(y=>{var P;return(P=y.animationState)==null?void 0:P.setActive(h,m)}),n[h].isActive=m;const p=c(h);for(const y in n)n[y].protectedKeys={};return p}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=o0()}}}function SP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!iw(t,e):!1}function Fr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function o0(){return{animate:Fr(!0),whileInView:Fr(),whileHover:Fr(),whileTap:Fr(),whileDrag:Fr(),whileFocus:Fr(),exit:Fr()}}class Dr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class PP extends Dr{constructor(t){super(t),t.animationState||(t.animationState=CP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();vc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let TP=0;class LP extends Dr{constructor(){super(...arguments),this.id=TP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const EP={animation:{Feature:PP},exit:{Feature:LP}};function Ro(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}function Yo(e){return{point:{x:e.pageX,y:e.pageY}}}const AP=e=>t=>Gf(t)&&e(t,Yo(t));function ao(e,t,n,s){return Ro(e,t,AP(n),s)}const aw=1e-4,MP=1-aw,DP=1+aw,lw=.01,RP=0-lw,OP=0+lw;function Tt(e){return e.max-e.min}function IP(e,t,n){return Math.abs(e-t)<=n}function a0(e,t,n,s=.5){e.origin=s,e.originPoint=Ue(t.min,t.max,e.origin),e.scale=Tt(n)/Tt(t),e.translate=Ue(n.min,n.max,e.origin)-e.originPoint,(e.scale>=MP&&e.scale<=DP||isNaN(e.scale))&&(e.scale=1),(e.translate>=RP&&e.translate<=OP||isNaN(e.translate))&&(e.translate=0)}function lo(e,t,n,s){a0(e.x,t.x,n.x,s?s.originX:void 0),a0(e.y,t.y,n.y,s?s.originY:void 0)}function l0(e,t,n){e.min=n.min+t.min,e.max=e.min+Tt(t)}function zP(e,t,n){l0(e.x,t.x,n.x),l0(e.y,t.y,n.y)}function c0(e,t,n){e.min=t.min-n.min,e.max=e.min+Tt(t)}function co(e,t,n){c0(e.x,t.x,n.x),c0(e.y,t.y,n.y)}function tn(e){return[e("x"),e("y")]}const cw=({current:e})=>e?e.ownerDocument.defaultView:null,u0=(e,t)=>Math.abs(e-t);function BP(e,t){const n=u0(e.x,t.x),s=u0(e.y,t.y);return Math.sqrt(n**2+s**2)}class uw{constructor(t,n,{transformPagePoint:s,contextWindow:o=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Fu(this.lastMoveEventInfo,this.history),P=this.startEvent!==null,w=BP(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!P&&!w)return;const{point:N}=y,{timestamp:S}=gt;this.history.push({...N,timestamp:S});const{onStart:k,onMove:_}=this.handlers;P||(k&&k(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,y)},this.handlePointerMove=(y,P)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=Vu(P,this.transformPagePoint),Ve.update(this.updatePoint,!0)},this.handlePointerUp=(y,P)=>{this.end();const{onEnd:w,onSessionEnd:N,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Fu(y.type==="pointercancel"?this.lastMoveEventInfo:Vu(P,this.transformPagePoint),this.history);this.startEvent&&w&&w(y,k),N&&N(y,k)},!Gf(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=o||window;const d=Yo(t),h=Vu(d,this.transformPagePoint),{point:m}=h,{timestamp:p}=gt;this.history=[{...m,timestamp:p}];const{onSessionStart:g}=n;g&&g(t,Fu(h,this.history)),this.removeListeners=Ko(ao(this.contextWindow,"pointermove",this.handlePointerMove),ao(this.contextWindow,"pointerup",this.handlePointerUp),ao(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Cr(this.updatePoint)}}function Vu(e,t){return t?{point:t(e.point)}:e}function d0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Fu({point:e},t){return{point:e,delta:d0(e,dw(t)),offset:d0(e,VP(t)),velocity:FP(t,.1)}}function VP(e){return e[0]}function dw(e){return e[e.length-1]}function FP(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const o=dw(e);for(;n>=0&&(s=e[n],!(o.timestamp-s.timestamp>Rn(t)));)n--;if(!s)return{x:0,y:0};const l=on(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function $P(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Ue(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Ue(n,e,s.max):Math.min(e,n)),e}function h0(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function UP(e,{top:t,left:n,bottom:s,right:o}){return{x:h0(e.x,n,o),y:h0(e.y,t,s)}}function f0(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function WP(e,t){return{x:f0(e.x,t.x),y:f0(e.y,t.y)}}function HP(e,t){let n=.5;const s=Tt(e),o=Tt(t);return o>s?n=Lo(t.min,t.max-s,e.min):s>o&&(n=Lo(e.min,e.max-o,t.min)),Qn(0,1,n)}function ZP(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ph=.35;function KP(e=ph){return e===!1?e=0:e===!0&&(e=ph),{x:m0(e,"left","right"),y:m0(e,"top","bottom")}}function m0(e,t,n){return{min:p0(e,t),max:p0(e,n)}}function p0(e,t){return typeof e=="number"?e:e[t]||0}const GP=new WeakMap;class qP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yo(g).point)},c=(g,y)=>{const{drag:P,dragPropagation:w,onDragStart:N}=this.getProps();if(P&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=t4(P),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tn(k=>{let _=this.getAxisMotionValue(k).get()||0;if(On.test(_)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[k];E&&(_=Tt(E)*(parseFloat(_)/100))}}this.originPoint[k]=_}),N&&Ve.postRender(()=>N(g,y)),fh(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},d=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y;const{dragPropagation:P,dragDirectionLock:w,onDirectionLock:N,onDrag:S}=this.getProps();if(!P&&!this.openDragLock)return;const{offset:k}=y;if(w&&this.currentDirection===null){this.currentDirection=YP(k),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",y.point,k),this.updateAxis("y",y.point,k),this.visualElement.render(),S&&S(g,y)},h=(g,y)=>{this.latestPointerEvent=g,this.latestPanInfo=y,this.stop(g,y),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>tn(g=>{var y;return this.getAnimationState(g)==="paused"&&((y=this.getAxisMotionValue(g).animation)==null?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new uw(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:h,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:s,contextWindow:cw(this.visualElement)})}stop(t,n){const s=t||this.latestPointerEvent,o=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!o||!s)return;const{velocity:c}=o;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Ve.postRender(()=>d(s,o))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,s){const{drag:o}=this.getProps();if(!s||!Ga(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(c=$P(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,o=this.constraints;t&&Os(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=UP(s.layoutBox,t):this.constraints=!1,this.elastic=KP(n),o!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&tn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=ZP(s.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Os(t))return!1;const s=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=X4(s,o.root,this.visualElement.getTransformPagePoint());let c=WP(o.layout.layoutBox,l);if(n){const d=n(G4(c));this.hasMutatedConstraints=!!d,d&&(c=G1(d))}return c}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),h=this.constraints||{},m=tn(p=>{if(!Ga(p,n,this.currentDirection))return;let g=h&&h[p]||{};c&&(g={min:0,max:0});const y=o?200:1e6,P=o?40:1e7,w={type:"inertia",velocity:s?t[p]:0,bounceStiffness:y,bounceDamping:P,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(p,w)});return Promise.all(m).then(d)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return fh(this.visualElement,t),s.start(sm(t,s,0,n,this.visualElement,!1))}stopAnimation(){tn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){tn(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),o=s[n];return o||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){tn(n=>{const{drag:s}=this.getProps();if(!Ga(n,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:c,max:d}=o.layout.layoutBox[n];l.set(t[n]-Ue(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Os(n)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};tn(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const h=d.get();o[c]=HP({min:h,max:h},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),tn(c=>{if(!Ga(c,t,null))return;const d=this.getAxisMotionValue(c),{min:h,max:m}=this.constraints[c];d.set(Ue(h,m,o[c]))})}addListeners(){if(!this.visualElement.current)return;GP.set(this.visualElement,this);const t=this.visualElement.current,n=ao(t,"pointerdown",h=>{const{drag:m,dragListener:p=!0}=this.getProps();m&&p&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();Os(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ve.read(s);const c=Ro(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m})=>{this.isDragging&&m&&(tn(p=>{const g=this.getAxisMotionValue(p);g&&(this.originPoint[p]+=h[p].translate,g.set(g.get()+h[p].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:c=ph,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function Ga(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function YP(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class XP extends Dr{constructor(t){super(t),this.removeGroupControls=ln,this.removeListeners=ln,this.controls=new qP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ln}unmount(){this.removeGroupControls(),this.removeListeners()}}const g0=e=>(t,n)=>{e&&Ve.postRender(()=>e(t,n))};class JP extends Dr{constructor(){super(...arguments),this.removePointerDownListener=ln}onPointerDown(t){this.session=new uw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:g0(t),onStart:g0(n),onMove:s,onEnd:(l,c)=>{delete this.session,o&&Ve.postRender(()=>o(l,c))}}}mount(){this.removePointerDownListener=ao(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ml={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function x0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Wi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ye.test(e))e=parseFloat(e);else return e;const n=x0(e,t.target.x),s=x0(e,t.target.y);return`${n}% ${s}%`}},QP={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,o=Sr.parse(e);if(o.length>5)return s;const l=Sr.createTransformer(e),c=typeof o[0]!="number"?1:0,d=n.x.scale*t.x,h=n.y.scale*t.y;o[0+c]/=d,o[1+c]/=h;const m=Ue(d,h,.5);return typeof o[2+c]=="number"&&(o[2+c]/=m),typeof o[3+c]=="number"&&(o[3+c]/=m),l(o)}};let $u=!1;class eT extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=t;b4(tT),l&&(n.group&&n.group.add(l),s&&s.register&&o&&s.register(l),$u&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ml.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:o,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,$u=!0,o||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||Ve.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Kf.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:o}=t;$u=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function hw(e){const[t,n]=D1(),s=b.useContext(kf);return i.jsx(eT,{...e,layoutGroup:s,switchLayoutGroup:b.useContext(Z1),isPresent:t,safeToRemove:n})}const tT={borderRadius:{...Wi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wi,borderTopRightRadius:Wi,borderBottomLeftRadius:Wi,borderBottomRightRadius:Wi,boxShadow:QP};function nT(e,t,n){const s=Nt(e)?e:ti(e);return s.start(sm("",s,t,n)),s.animation}const rT=(e,t)=>e.depth-t.depth;class sT{constructor(){this.children=[],this.isDirty=!1}add(t){Pf(this.children,t),this.isDirty=!0}remove(t){Tf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(rT),this.isDirty=!1,this.children.forEach(t)}}function iT(e,t){const n=It.now(),s=({timestamp:o})=>{const l=o-n;l>=t&&(Cr(s),e(l-t))};return Ve.setup(s,!0),()=>Cr(s)}const fw=["TopLeft","TopRight","BottomLeft","BottomRight"],oT=fw.length,y0=e=>typeof e=="string"?parseFloat(e):e,v0=e=>typeof e=="number"||ye.test(e);function aT(e,t,n,s,o,l){o?(e.opacity=Ue(0,n.opacity??1,lT(s)),e.opacityExit=Ue(t.opacity??1,0,cT(s))):l&&(e.opacity=Ue(t.opacity??1,n.opacity??1,s));for(let c=0;c<oT;c++){const d=`border${fw[c]}Radius`;let h=w0(t,d),m=w0(n,d);if(h===void 0&&m===void 0)continue;h||(h=0),m||(m=0),h===0||m===0||v0(h)===v0(m)?(e[d]=Math.max(Ue(y0(h),y0(m),s),0),(On.test(m)||On.test(h))&&(e[d]+="%")):e[d]=m}(t.rotate||n.rotate)&&(e.rotate=Ue(t.rotate||0,n.rotate||0,s))}function w0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const lT=mw(0,.5,e1),cT=mw(.5,.95,ln);function mw(e,t,n){return s=>s<e?0:s>t?1:n(Lo(e,t,s))}function _0(e,t){e.min=t.min,e.max=t.max}function en(e,t){_0(e.x,t.x),_0(e.y,t.y)}function b0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function j0(e,t,n,s,o){return e-=t,e=Zl(e,1/n,s),o!==void 0&&(e=Zl(e,1/o,s)),e}function uT(e,t=0,n=1,s=.5,o,l=e,c=e){if(On.test(t)&&(t=parseFloat(t),t=Ue(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Ue(l.min,l.max,s);e===l&&(d-=t),e.min=j0(e.min,t,n,d,o),e.max=j0(e.max,t,n,d,o)}function N0(e,t,[n,s,o],l,c){uT(e,t[n],t[s],t[o],t.scale,l,c)}const dT=["x","scaleX","originX"],hT=["y","scaleY","originY"];function k0(e,t,n,s){N0(e.x,t,dT,n?n.x:void 0,s?s.x:void 0),N0(e.y,t,hT,n?n.y:void 0,s?s.y:void 0)}function C0(e){return e.translate===0&&e.scale===1}function pw(e){return C0(e.x)&&C0(e.y)}function S0(e,t){return e.min===t.min&&e.max===t.max}function fT(e,t){return S0(e.x,t.x)&&S0(e.y,t.y)}function P0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function gw(e,t){return P0(e.x,t.x)&&P0(e.y,t.y)}function T0(e){return Tt(e.x)/Tt(e.y)}function L0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class mT{constructor(){this.members=[]}add(t){Pf(this.members,t),t.scheduleRender()}remove(t){if(Tf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let s;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender(),t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pT(e,t,n){let s="";const o=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((o||l||c)&&(s=`translate3d(${o}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:p,rotateX:g,rotateY:y,skewX:P,skewY:w}=n;m&&(s=`perspective(${m}px) ${s}`),p&&(s+=`rotate(${p}deg) `),g&&(s+=`rotateX(${g}deg) `),y&&(s+=`rotateY(${y}deg) `),P&&(s+=`skewX(${P}deg) `),w&&(s+=`skewY(${w}deg) `)}const d=e.x.scale*t.x,h=e.y.scale*t.y;return(d!==1||h!==1)&&(s+=`scale(${d}, ${h})`),s||"none"}const Uu=["","X","Y","Z"],gT=1e3;let xT=0;function Wu(e,t,n,s){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),s&&(s[e]=0))}function xw(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=nw(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ve,!(o||l))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&xw(s)}function yw({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(c={},d=t==null?void 0:t()){this.id=xT++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wT),this.nodes.forEach(NT),this.nodes.forEach(kT),this.nodes.forEach(_T)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new sT)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Af),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const h=this.eventHandlers.get(c);h&&h.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=M1(c)&&!a4(c),this.instance=c;const{layoutId:d,layout:h,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||d)&&(this.isLayoutDirty=!0),e){let p,g=0;const y=()=>this.root.updateBlockedByResize=!1;Ve.read(()=>{g=window.innerWidth}),e(c,()=>{const P=window.innerWidth;P!==g&&(g=P,this.root.updateBlockedByResize=!0,p&&p(),p=iT(y,250),ml.hasAnimatedSinceResize&&(ml.hasAnimatedSinceResize=!1,this.nodes.forEach(M0)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||h)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeLayoutChanged:y,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||LT,{onLayoutAnimationStart:N,onLayoutAnimationComplete:S}=m.getProps(),k=!this.targetLayout||!gw(this.targetLayout,P),_=!g&&y;if(this.options.layoutRoot||this.resumeFrom||_||g&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...Hf(w,"layout"),onPlay:N,onComplete:S};(m.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(p,_)}else g||M0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Cr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CT),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const g=this.path[p];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:h}=this.options;if(d===void 0&&!h)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(E0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(A0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(jT),this.nodes.forEach(yT),this.nodes.forEach(vT)):this.nodes.forEach(A0),this.clearAllSnapshots();const d=It.now();gt.delta=Qn(0,1e3/60,d-gt.timestamp),gt.timestamp=d,gt.isProcessing=!0,Au.update.process(gt),Au.preRender.process(gt),Au.render.process(gt),gt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Kf.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bT),this.sharedNodes.forEach(ST)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Tt(this.snapshot.measuredBox.x)&&!Tt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!pw(this.projectionDelta),h=this.getTransformTemplate(),m=h?h(this.latestValues,""):void 0,p=m!==this.prevTransformTemplateValue;c&&this.instance&&(d||Hr(this.latestValues)||p)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let h=this.removeElementScroll(d);return c&&(h=this.removeTransform(h)),ET(h),{animationId:this.root.animationId,measuredBox:d,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return Qe();const d=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(AT))){const{scroll:p}=this.root;p&&(Is(d.x,p.offset.x),Is(d.y,p.offset.y))}return d}removeElementScroll(c){var h;const d=Qe();if(en(d,c),(h=this.scroll)!=null&&h.wasRoot)return d;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:g,options:y}=p;p!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&en(d,c),Is(d.x,g.offset.x),Is(d.y,g.offset.y))}return d}applyTransform(c,d=!1){const h=Qe();en(h,c);for(let m=0;m<this.path.length;m++){const p=this.path[m];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&zs(h,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Hr(p.latestValues)&&zs(h,p.latestValues)}return Hr(this.latestValues)&&zs(h,this.latestValues),h}removeTransform(c){const d=Qe();en(d,c);for(let h=0;h<this.path.length;h++){const m=this.path[h];if(!m.instance||!Hr(m.latestValues))continue;ch(m.latestValues)&&m.updateSnapshot();const p=Qe(),g=m.measurePageBox();en(p,g),k0(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,p)}return Hr(this.latestValues)&&k0(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var y;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==d;if(!(c||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=gt.timestamp,!this.targetDelta&&!this.relativeTarget){const P=this.getClosestProjectingParent();P&&P.layout&&this.animationProgress!==1?(this.relativeParent=P,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),co(this.relativeTargetOrigin,this.layout.layoutBox,P.layout.layoutBox),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):en(this.target,this.layout.layoutBox),Y1(this.target,this.targetDelta)):en(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const P=this.getClosestProjectingParent();P&&!!P.resumingFrom==!!this.resumingFrom&&!P.options.layoutScroll&&P.target&&this.animationProgress!==1?(this.relativeParent=P,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),co(this.relativeTargetOrigin,this.target,P.target),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ch(this.parent.latestValues)||q1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let h=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(h=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===gt.timestamp&&(h=!1),h)return;const{layout:m,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||p))return;en(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,y=this.treeScale.y;Y4(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Qe());const{target:P}=c;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(b0(this.prevProjectionDelta.x,this.projectionDelta.x),b0(this.prevProjectionDelta.y,this.projectionDelta.y)),lo(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==y||!L0(this.projectionDelta.x,this.prevProjectionDelta.x)||!L0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bs(),this.projectionDelta=Bs(),this.projectionDeltaWithTransform=Bs()}setAnimationOrigin(c,d=!1){const h=this.snapshot,m=h?h.latestValues:{},p={...this.latestValues},g=Bs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const y=Qe(),P=h?h.source:void 0,w=this.layout?this.layout.source:void 0,N=P!==w,S=this.getStack(),k=!S||S.members.length<=1,_=!!(N&&!k&&this.options.crossfade===!0&&!this.path.some(TT));this.animationProgress=0;let C;this.mixTargetDelta=E=>{const M=E/1e3;D0(g.x,c.x,M),D0(g.y,c.y,M),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(co(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),PT(this.relativeTarget,this.relativeTargetOrigin,y,M),C&&fT(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Qe()),en(C,this.relativeTarget)),N&&(this.animationValues=p,aT(p,m,this.latestValues,M,_,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,h,m;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(m=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Cr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ve.update(()=>{ml.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ti(0)),this.currentAnimation=nT(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),c.onUpdate&&c.onUpdate(p)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:h,layout:m,latestValues:p}=c;if(!(!d||!h||!m)){if(this!==c&&this.layout&&m&&vw(this.options.animationType,this.layout.layoutBox,m.layoutBox)){h=this.target||Qe();const g=Tt(this.layout.layoutBox.x);h.x.min=c.target.x.min,h.x.max=h.x.min+g;const y=Tt(this.layout.layoutBox.y);h.y.min=c.target.y.min,h.y.max=h.y.min+y}en(d,h),zs(d,p),lo(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new mT),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:h}={}){const m=this.getStack();m&&m.promote(this,h),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:h}=c;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(d=!0),!d)return;const m={};h.z&&Wu("z",c,m,this.animationValues);for(let p=0;p<Uu.length;p++)Wu(`rotate${Uu[p]}`,c,m,this.animationValues),Wu(`skew${Uu[p]}`,c,m,this.animationValues);c.render();for(const p in m)c.setStaticValue(p,m[p]),this.animationValues&&(this.animationValues[p]=m[p]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=fl(d==null?void 0:d.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=fl(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Hr(this.latestValues)&&(c.transform=h?h({},""):"none",this.hasProjected=!1);return}c.visibility="";const p=m.animationValues||m.latestValues;this.applyTransformsToTarget();let g=pT(this.projectionDeltaWithTransform,this.treeScale,p);h&&(g=h(p,g)),c.transform=g;const{x:y,y:P}=this.projectionDelta;c.transformOrigin=`${y.origin*100}% ${P.origin*100}% 0`,m.animationValues?c.opacity=m===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:c.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const w in Do){if(p[w]===void 0)continue;const{correct:N,applyTo:S,isCSSVariable:k}=Do[w],_=g==="none"?p[w]:N(p[w],m);if(S){const C=S.length;for(let E=0;E<C;E++)c[S[E]]=_}else k?this.options.visualElement.renderState.vars[w]=_:c[w]=_}this.options.layoutId&&(c.pointerEvents=m===this?fl(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(E0),this.root.sharedNodes.clear()}}}function yT(e){e.updateLayout()}function vT(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?tn(g=>{const y=c?t.measuredBox[g]:t.layoutBox[g],P=Tt(y);y.min=s[g].min,y.max=y.min+P}):vw(l,t.layoutBox,s)&&tn(g=>{const y=c?t.measuredBox[g]:t.layoutBox[g],P=Tt(s[g]);y.max=y.min+P,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+P)});const d=Bs();lo(d,s,t.layoutBox);const h=Bs();c?lo(h,e.applyTransform(o,!0),t.measuredBox):lo(h,s,t.layoutBox);const m=!pw(d);let p=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:P}=g;if(y&&P){const w=Qe();co(w,t.layoutBox,y.layoutBox);const N=Qe();co(N,s,P.layoutBox),gw(w,N)||(p=!0),g.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=w,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function wT(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function _T(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function bT(e){e.clearSnapshot()}function E0(e){e.clearMeasurements()}function A0(e){e.isLayoutDirty=!1}function jT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function M0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function NT(e){e.resolveTargetDelta()}function kT(e){e.calcProjection()}function CT(e){e.resetSkewAndRotation()}function ST(e){e.removeLeadSnapshot()}function D0(e,t,n){e.translate=Ue(t.translate,0,n),e.scale=Ue(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function R0(e,t,n,s){e.min=Ue(t.min,n.min,s),e.max=Ue(t.max,n.max,s)}function PT(e,t,n,s){R0(e.x,t.x,n.x,s),R0(e.y,t.y,n.y,s)}function TT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const LT={duration:.45,ease:[.4,0,.1,1]},O0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),I0=O0("applewebkit/")&&!O0("chrome/")?Math.round:ln;function z0(e){e.min=I0(e.min),e.max=I0(e.max)}function ET(e){z0(e.x),z0(e.y)}function vw(e,t,n){return e==="position"||e==="preserve-aspect"&&!IP(T0(t),T0(n),.2)}function AT(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const MT=yw({attachResizeListener:(e,t)=>Ro(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hu={current:void 0},ww=yw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Hu.current){const e=new MT({});e.mount(window),e.setOptions({layoutScroll:!0}),Hu.current=e}return Hu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),DT={pan:{Feature:JP},drag:{Feature:XP,ProjectionNode:ww,MeasureLayout:hw}};function B0(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=s[o];l&&Ve.postRender(()=>l(t,Yo(t)))}class RT extends Dr{mount(){const{current:t}=this.node;t&&(this.unmount=n4(t,(n,s)=>(B0(this.node,s,"Start"),o=>B0(this.node,o,"End"))))}unmount(){}}class OT extends Dr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ko(Ro(this.node.current,"focus",()=>this.onFocus()),Ro(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function V0(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=s[o];l&&Ve.postRender(()=>l(t,Yo(t)))}class IT extends Dr{mount(){const{current:t}=this.node;t&&(this.unmount=o4(t,(n,s)=>(V0(this.node,s,"Start"),(o,{success:l})=>V0(this.node,o,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gh=new WeakMap,Zu=new WeakMap,zT=e=>{const t=gh.get(e.target);t&&t(e)},BT=e=>{e.forEach(zT)};function VT({root:e,...t}){const n=e||document;Zu.has(n)||Zu.set(n,{});const s=Zu.get(n),o=JSON.stringify(t);return s[o]||(s[o]=new IntersectionObserver(BT,{root:e,...t})),s[o]}function FT(e,t,n){const s=VT(t);return gh.set(e,n),s.observe(e),()=>{gh.delete(e),s.unobserve(e)}}const $T={some:0,all:1};class UT extends Dr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:o="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:$T[o]},d=h=>{const{isIntersecting:m}=h;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:p,onViewportLeave:g}=this.node.getProps(),y=m?p:g;y&&y(h)};return FT(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(WT(t,n))&&this.startObserver()}unmount(){}}function WT({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const HT={inView:{Feature:UT},tap:{Feature:IT},focus:{Feature:OT},hover:{Feature:RT}},ZT={layout:{ProjectionNode:ww,MeasureLayout:hw}},KT={...EP,...HT,...DT,...ZT},he=K4(KT,oP),im=e=>{const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return{isValid:t.test(e),message:t.test(e)?"":"Please enter a valid email address"}},_w=e=>{const n=/[A-Z]/.test(e),s=/[a-z]/.test(e),o=/\d/.test(e),l=/[!@#$%^&*(),.?":{}|<>]/.test(e),c={score:0,feedback:[],level:"weak"};return e.length>=8?c.score+=1:c.feedback.push("At least 8 characters"),n?c.score+=1:c.feedback.push("One uppercase letter"),s?c.score+=1:c.feedback.push("One lowercase letter"),o?c.score+=1:c.feedback.push("One number"),l?c.score+=1:c.feedback.push("One special character"),c.score<=2?c.level="weak":c.score<=3?c.level="fair":c.score<=4?c.level="good":c.level="strong",{isValid:c.score>=3,strength:c,message:c.score>=3?"":"Password must meet minimum requirements"}},xh=(e,t)=>({isValid:e===t,message:e===t?"":"Passwords do not match"}),GT=e=>{const t=["business","customer","driver"];return{isValid:t.includes(e),message:t.includes(e)?"":"Please select a valid role"}},yh=e=>{switch(e){case"weak":return"bg-red-500";case"fair":return"bg-yellow-500";case"good":return"bg-blue-500";case"strong":return"bg-green-500";default:return"bg-gray-300"}},bw=e=>{switch(e){case"weak":return"Weak";case"fair":return"Fair";case"good":return"Good";case"strong":return"Strong";default:return""}},qT=({isOpen:e,onClose:t})=>{const[n,s]=b.useState(1),[o,l]=b.useState({email:"",resetCode:"",newPassword:"",confirmPassword:""}),[c,d]=b.useState(!1),[h,m]=b.useState(""),[p,g]=b.useState({email:"",resetCode:"",newPassword:"",confirmPassword:""}),[y,P]=b.useState(!1),[w,N]=b.useState(!1),[S,k]=b.useState(null);b.useEffect(()=>{e&&(s(1),l({email:"",resetCode:"",newPassword:"",confirmPassword:""}),m(""),g({email:"",resetCode:"",newPassword:"",confirmPassword:""}),k(null))},[e]),b.useEffect(()=>()=>{G.dismiss()},[]);const _=W=>{const{name:te,value:R}=W.target;if(l({...o,[te]:R}),te==="email"){const U=im(R);g(I=>({...I,email:U.message}))}else if(te==="newPassword"){const U=_w(R);k(U.strength),g(I=>({...I,newPassword:U.message}))}else if(te==="confirmPassword"){const U=xh(o.newPassword,R);g(I=>({...I,confirmPassword:U.message}))}},C=()=>o.email&&!p.email,E=()=>o.resetCode&&o.resetCode.length===6,M=()=>o.newPassword&&o.confirmPassword&&!p.newPassword&&!p.confirmPassword,V=async()=>{var W,te,R,U;if(!C()){m("Please enter a valid email address");return}d(!0),m(""),G.dismiss();try{const I=await Ae.post("/api/auth/forgot-password",{email:o.email});G.success("Reset code sent to your email!",{duration:3e3,id:"reset-code-sent"}),s(2)}catch(I){console.error("Send code error:",I);let D="Failed to send reset code";((W=I.response)==null?void 0:W.status)===404?D="No account found with this email address. Please check your email or create a new account.":((te=I.response)==null?void 0:te.status)===500?D="Server error. Please try again later.":(U=(R=I.response)==null?void 0:R.data)!=null&&U.message?D=I.response.data.message:I.message==="Network Error"&&(D="Unable to connect to server. Please check your internet connection."),m(D),G.error(D)}finally{d(!1)}},O=async()=>{var W,te;if(!E()){m("Please enter the 6-digit verification code");return}d(!0),m(""),G.dismiss();try{s(3),G.success("Code verified! Please enter your new password.",{duration:2e3,id:"code-verified"})}catch(R){const U=((te=(W=R.response)==null?void 0:W.data)==null?void 0:te.message)||"Failed to verify code";m(U),G.error(U)}finally{d(!1)}},z=async()=>{var W,te,R,U,I;if(!M()){m("Please fix the validation errors");return}d(!0),m(""),G.dismiss();try{const D=await Ae.post("/api/auth/reset-password",{email:o.email,resetCode:o.resetCode,newPassword:o.newPassword});G.success("Password reset successfully! You can now log in.",{duration:3e3,id:"password-reset-success"}),setTimeout(()=>{t()},1500)}catch(D){console.error("Reset password error:",D);let B="Failed to reset password";((W=D.response)==null?void 0:W.status)===400?D.response.data.message.includes("Invalid reset code")?B="Invalid or expired reset code. Please request a new one.":D.response.data.message.includes("No active reset code")?B="Reset code has expired. Please request a new one.":B=D.response.data.message:((te=D.response)==null?void 0:te.status)===404?B="User not found. Please try again.":((R=D.response)==null?void 0:R.status)===500?B="Server error. Please try again later.":(I=(U=D.response)==null?void 0:U.data)!=null&&I.message?B=D.response.data.message:D.message==="Network Error"&&(B="Unable to connect to server. Please check your internet connection."),m(B),G.error(B)}finally{d(!1)}},ee=()=>{n>1&&(s(n-1),m(""))},J=async()=>{var W,te,R,U;d(!0),m(""),G.dismiss();try{const I=await Ae.post("/api/auth/forgot-password",{email:o.email});G.success("New reset code sent!",{duration:2e3,id:"resend-code-success"})}catch(I){console.error("Resend code error:",I);let D="Failed to resend code";((W=I.response)==null?void 0:W.status)===404?D="No account found with this email address.":((te=I.response)==null?void 0:te.status)===500?D="Server error. Please try again later.":(U=(R=I.response)==null?void 0:R.data)!=null&&U.message?D=I.response.data.message:I.message==="Network Error"&&(D="Unable to connect to server. Please check your internet connection."),m(D),G.error(D)}finally{d(!1)}};return e?i.jsx(dt,{children:i.jsx(he.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,children:i.jsxs(he.div,{className:"bg-white rounded-xl shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:W=>W.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-8 w-8 bg-primary-400 rounded-lg flex items-center justify-center mr-3",children:i.jsx("svg",{className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Reset Password"})]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"flex items-center justify-center mb-6",children:i.jsx("div",{className:"flex items-center space-x-4",children:[1,2,3].map(W=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${n>=W?"bg-primary-500 text-white":"bg-gray-200 text-gray-500"}`,children:W}),W<3&&i.jsx("div",{className:`w-8 h-0.5 mx-2 ${n>W?"bg-primary-500":"bg-gray-200"}`})]},W))})}),n===1&&i.jsxs(he.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Enter your email address"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"We'll send you a verification code to reset your password."})]}),i.jsx(dt,{children:h&&i.jsx(he.div,{className:"p-3 bg-red-50 border border-red-200 rounded-md",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:i.jsx("p",{className:"text-sm text-red-600",children:h})})}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),i.jsx("input",{id:"email",name:"email",type:"text",value:o.email,onChange:_,autoComplete:"email",noValidate:!0,className:`block w-full pl-10 pr-3 py-2 border rounded-lg text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors ${p.email?"border-red-300 focus:ring-red-500":o.email&&!p.email?"border-green-300 focus:ring-green-500":"border-gray-300"}`,placeholder:"Enter your email"}),o.email&&!p.email&&i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i.jsx("svg",{className:"h-4 w-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),i.jsx(dt,{children:p.email&&i.jsx(he.p,{className:"mt-1 text-sm text-red-600",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:p.email})})]}),i.jsx("button",{onClick:V,disabled:c||!C(),className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:c?i.jsxs("div",{className:"flex items-center",children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Code"})]}),n===2&&i.jsxs(he.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Enter verification code"}),i.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["We've sent a 6-digit code to ",i.jsx("strong",{children:o.email})]})]}),i.jsx(dt,{children:h&&i.jsx(he.div,{className:"p-3 bg-red-50 border border-red-200 rounded-md",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:i.jsx("p",{className:"text-sm text-red-600",children:h})})}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"resetCode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Verification Code"}),i.jsx("input",{id:"resetCode",name:"resetCode",type:"text",maxLength:"6",value:o.resetCode,onChange:_,className:"block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent text-center text-lg tracking-widest",placeholder:"000000"})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:ee,className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200",children:"Back"}),i.jsx("button",{onClick:O,disabled:c||!E(),className:"flex-1 py-2 px-4 border border-transparent rounded-lg text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:c?"Verifying...":"Verify Code"})]}),i.jsx("div",{className:"text-center",children:i.jsx("button",{onClick:J,disabled:c,className:"text-sm text-primary-600 hover:text-primary-500 disabled:opacity-50",children:"Didn't receive the code? Resend"})})]}),n===3&&i.jsxs(he.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Set new password"}),i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Create a strong password for your account."})]}),i.jsx(dt,{children:h&&i.jsx(he.div,{className:"p-3 bg-red-50 border border-red-200 rounded-md",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:i.jsx("p",{className:"text-sm text-red-600",children:h})})}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),i.jsx("input",{id:"newPassword",name:"newPassword",type:y?"text":"password",value:o.newPassword,onChange:_,className:`block w-full pl-10 pr-10 py-2 border rounded-lg text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors ${p.newPassword?"border-red-300 focus:ring-red-500":o.newPassword&&!p.newPassword?"border-green-300 focus:ring-green-500":"border-gray-300"}`,placeholder:"Enter new password"}),i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i.jsx("button",{type:"button",onClick:()=>P(!y),className:"text-gray-400 hover:text-gray-600 focus:outline-none transition-colors",children:y?i.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):i.jsxs("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),o.newPassword&&S&&i.jsxs("div",{className:"mt-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Password strength:"}),i.jsx("span",{className:`text-xs font-medium ${S.level==="weak"?"text-red-600":S.level==="fair"?"text-yellow-600":S.level==="good"?"text-blue-600":"text-green-600"}`,children:bw(S.level)})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${yh(S.level)}`,style:{width:`${S.score/5*100}%`}})}),S.feedback.length>0&&i.jsxs("div",{className:"mt-1",children:[i.jsx("p",{className:"text-xs text-gray-600",children:"Requirements:"}),i.jsx("ul",{className:"text-xs text-gray-500 mt-1",children:S.feedback.map((W,te)=>i.jsxs("li",{className:"flex items-center",children:[i.jsx("span",{className:"mr-1",children:""}),W]},te))})]})]}),i.jsx(dt,{children:p.newPassword&&i.jsx(he.p,{className:"mt-1 text-sm text-red-600",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:p.newPassword})})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),i.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:w?"text":"password",value:o.confirmPassword,onChange:_,className:`block w-full pl-10 pr-10 py-2 border rounded-lg text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors ${p.confirmPassword?"border-red-300 focus:ring-red-500":o.confirmPassword&&!p.confirmPassword?"border-green-300 focus:ring-green-500":"border-gray-300"}`,placeholder:"Confirm new password"}),i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i.jsx("button",{type:"button",onClick:()=>N(!w),className:"text-gray-400 hover:text-gray-600 focus:outline-none transition-colors",children:w?i.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):i.jsxs("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),i.jsx(dt,{children:p.confirmPassword&&i.jsx(he.p,{className:"mt-1 text-sm text-red-600",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:p.confirmPassword})})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:ee,className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200",children:"Back"}),i.jsx("button",{onClick:z,disabled:c||!M(),className:"flex-1 py-2 px-4 border border-transparent rounded-lg text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:c?"Resetting...":"Reset Password"})]})]})]})]})})}):null},YT=({onLogin:e})=>{const[t,n]=b.useState({email:"",password:""}),[s,o]=b.useState(!1),[l,c]=b.useState(""),[d,h]=b.useState({email:"",password:""}),[m,p]=b.useState(!1),[g,y]=b.useState(!1),[P,w]=b.useState(!1);b.useEffect(()=>()=>{G.dismiss()},[]),b.useEffect(()=>{const E=document.createElement("script");return E.src="https://accounts.google.com/gsi/client",E.async=!0,E.defer=!0,document.body.appendChild(E),()=>{const M=document.querySelector('script[src="https://accounts.google.com/gsi/client"]');M&&document.body.removeChild(M)}},[]);const N=async E=>{var M,V;w(!0),c(""),G.dismiss();try{console.log("Google callback received:",E);const O=await Ae.post("/api/auth/google-login",{idToken:E.credential});console.log("Backend response:",O.data),G.success("Google login successful! Welcome back!",{duration:2e3,id:"google-login-success"}),setTimeout(()=>{e(O.data.user,O.data.token)},1e3)}catch(O){console.error("Google login error:",O);const z=((V=(M=O.response)==null?void 0:M.data)==null?void 0:V.message)||"Google login failed";c(z),G.error(z)}finally{w(!1)}},S=E=>{const{name:M,value:V}=E.target;if(n({...t,[M]:V}),M==="email"){const O=im(V);h(z=>({...z,email:O.message}))}else M==="password"&&h(O=>({...O,password:V.length<6?"Password must be at least 6 characters":""}))},k=()=>t.email&&t.password&&!d.email&&!d.password,_=async E=>{var M,V;if(E.preventDefault(),o(!0),c(""),G.dismiss(),!k()){c("Please fix the validation errors"),o(!1);return}try{const O=await Ae.post("/api/auth/login",t);G.success("Login successful! Welcome back!",{duration:2e3,id:"login-success"}),setTimeout(()=>{e(O.data.user,O.data.token)},1e3)}catch(O){const z=((V=(M=O.response)==null?void 0:M.data)==null?void 0:V.message)||"Login failed";c(z),G.error(z)}finally{o(!1)}},C=async()=>{w(!0),c(""),G.dismiss();try{if(typeof window.google>"u"||!window.google.accounts)throw new Error("Google Identity Services not loaded. Please refresh the page.");window.google.accounts.id.initialize({client_id:"853562883351-ij20a2tg5a3p99bcjrn97je00sebbce7.apps.googleusercontent.com",callback:N,auto_select:!1,cancel_on_tap_outside:!0}),window.google.accounts.id.prompt(E=>{console.log("Google prompt notification:",E),(E.isNotDisplayed()||E.isSkippedMoment())&&(c("Google OAuth is not configured for this domain. Please configure Google OAuth client to allow localhost origins."),G.error("Google OAuth is not configured for this domain. Please configure Google OAuth client to allow localhost origins."),w(!1))})}catch(E){console.error("Google login error:",E);const M=E.message||"Google login failed. Please configure Google OAuth for localhost.";c(M),G.error(M),w(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:[i.jsxs(he.div,{className:"max-w-md w-full space-y-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[i.jsxs(he.div,{className:"text-center",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:[i.jsx("div",{className:"mx-auto h-12 w-12 bg-primary-400 rounded-lg flex items-center justify-center",children:i.jsxs("svg",{className:"h-8 w-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),i.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 14H17a1 1 0 001-1V8a1 1 0 00-1-1h-3z"})]})}),i.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:"MobiTrak"}),i.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Manage your fleet with ease"})]}),i.jsxs(he.div,{className:"bg-white rounded-xl shadow-sm p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Welcome Back"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Sign in to your account"})]}),i.jsx(dt,{children:l&&i.jsx(he.div,{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:i.jsx("p",{className:"text-sm text-red-600",children:l})})}),i.jsxs("form",{onSubmit:_,className:"space-y-4",children:[i.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),i.jsx("input",{id:"email",name:"email",type:"email",required:!0,autoComplete:"username",value:t.email,onChange:S,className:`block w-full pl-10 pr-3 py-2 border rounded-lg text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors ${d.email?"border-red-300 focus:ring-red-500":t.email&&!d.email?"border-green-300 focus:ring-green-500":"border-gray-300"}`,placeholder:"Enter your email"}),t.email&&!d.email&&i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i.jsx("svg",{className:"h-4 w-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),i.jsx(dt,{children:d.email&&i.jsx(he.p,{className:"mt-1 text-sm text-red-600",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:d.email})})]}),i.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),i.jsx("input",{id:"password",name:"password",type:m?"text":"password",required:!0,autoComplete:"current-password",value:t.password,onChange:S,className:`block w-full pl-10 pr-10 py-2 border rounded-lg text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors ${d.password?"border-red-300 focus:ring-red-500":t.password&&!d.password?"border-green-300 focus:ring-green-500":"border-gray-300"}`,placeholder:"Enter your password"}),i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i.jsx("button",{type:"button",onClick:()=>p(!m),className:"text-gray-400 hover:text-gray-600 focus:outline-none transition-colors",children:m?i.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):i.jsxs("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),i.jsx(dt,{children:d.password&&i.jsx(he.p,{className:"mt-1 text-sm text-red-600",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:d.password})})]}),i.jsx(he.div,{className:"flex items-center justify-between",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.6},children:i.jsx("div",{className:"text-sm",children:i.jsx("button",{onClick:()=>y(!0),className:"font-medium text-primary-600 hover:text-primary-500 transition-colors",children:"Forgot Password?"})})}),i.jsx(he.button,{type:"submit",disabled:s||!k(),className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},whileHover:{scale:1.02},whileTap:{scale:.98},children:s?i.jsxs(he.div,{className:"flex items-center",initial:{opacity:0},animate:{opacity:1},children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing In..."]}):"Sign In"}),i.jsxs(he.div,{className:"relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-300"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),i.jsx(he.button,{type:"button",onClick:C,disabled:P,className:"w-full flex justify-center items-center py-2 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},whileHover:{scale:1.02},whileTap:{scale:.98},children:P?i.jsxs(he.div,{className:"flex items-center",initial:{opacity:0},animate:{opacity:1},children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-gray-600",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in with Google..."]}):i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})]})]}),i.jsx(he.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",i.jsx(dv,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors",children:"Sign Up"})]})}),i.jsx(he.div,{className:"fixed bottom-4 right-4",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1.2},children:i.jsx(he.button,{className:"bg-purple-500 hover:bg-purple-600 text-white rounded-full p-3 shadow-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})})]}),i.jsx(qT,{isOpen:g,onClose:()=>y(!1)})]})},XT=({onLogin:e})=>{const[t,n]=b.useState({email:"",password:"",confirmPassword:"",role:"",phone:"",verificationCode:""}),[s,o]=b.useState(!1),[l,c]=b.useState(""),[d,h]=b.useState({email:"",password:"",confirmPassword:"",role:"",phone:"",verificationCode:""}),[m,p]=b.useState(!1),[g,y]=b.useState(!1),[P,w]=b.useState({score:0,level:"weak",feedback:[]}),[N,S]=b.useState("email"),[k,_]=b.useState(!1),[C,E]=b.useState(!1),[M,V]=b.useState(!1);b.useEffect(()=>()=>{G.dismiss()},[]);const O=R=>{const{name:U,value:I}=R.target;if(n({...t,[U]:I}),U==="email"){const D=im(I);h(B=>({...B,email:D.message}))}else if(U==="password"){const D=_w(I);if(w(D.strength),h(B=>({...B,password:D.message})),t.confirmPassword){const B=xh(I,t.confirmPassword);h(j=>({...j,confirmPassword:B.message}))}}else if(U==="confirmPassword"){const D=xh(t.password,I);h(B=>({...B,confirmPassword:D.message}))}else if(U==="role"){const D=GT(I);h(B=>({...B,role:D.message}))}else if(U==="phone"){const D=/^[\+]?[1-9][\d]{0,15}$/;h(B=>({...B,phone:I&&!D.test(I)?"Please enter a valid phone number":""}))}},z=()=>t.email&&t.password&&t.confirmPassword&&t.role&&!d.email&&!d.password&&!d.confirmPassword&&!d.role,ee=async()=>{var R,U;E(!0),c(""),G.dismiss();try{const I=await Ae.post("/api/auth/send-verification-code",{email:t.email});G.success("Verification code sent to your email!",{duration:3e3,id:"code-sent"}),_(!0),V(!0)}catch(I){const D=((U=(R=I.response)==null?void 0:R.data)==null?void 0:U.message)||"Failed to send verification code";c(D),G.error(D)}finally{E(!1)}},J=async()=>{var R,U;o(!0),c(""),G.dismiss();try{const I=await Ae.post("/api/auth/verify-and-register",{email:t.email,verificationCode:t.verificationCode,password:t.password,role:t.role,phone:t.phone});G.success("Registration successful! Welcome to MobiTrak!",{duration:2e3,id:"register-success"}),V(!1),S("complete"),setTimeout(()=>{e(I.data.user,I.data.token)},1e3)}catch(I){const D=((U=(R=I.response)==null?void 0:R.data)==null?void 0:U.message)||"Verification failed";c(D),G.error(D)}finally{o(!1)}},W=async R=>{R.preventDefault(),z()&&await ee()},te=async()=>{await ee()};return i.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs(he.div,{className:"max-w-md w-full space-y-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[i.jsxs(he.div,{className:"text-center",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:[i.jsx("div",{className:"mx-auto h-12 w-12 bg-primary-400 rounded-lg flex items-center justify-center",children:i.jsxs("svg",{className:"h-8 w-8 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),i.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 14H17a1 1 0 001-1V8a1 1 0 00-1-1h-3z"})]})}),i.jsx("h2",{className:"mt-4 text-2xl font-bold text-gray-900",children:"MobiTrak"}),i.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Join our fleet management platform"})]}),i.jsxs(he.div,{className:"bg-white rounded-xl shadow-sm p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create Account"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Sign up to get started"})]}),i.jsx(dt,{children:l&&i.jsx(he.div,{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:i.jsx("p",{className:"text-sm text-red-600",children:l})})}),i.jsxs("form",{onSubmit:W,className:"space-y-4",children:[i.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),i.jsx("input",{id:"email",name:"email",type:"email",required:!0,autoComplete:"username",value:t.email,onChange:O,className:`block w-full pl-10 pr-3 py-2 border rounded-lg text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors ${d.email?"border-red-300 focus:ring-red-500":t.email&&!d.email?"border-green-300 focus:ring-green-500":"border-gray-300"}`,placeholder:"Enter your email"}),t.email&&!d.email&&i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i.jsx("svg",{className:"h-4 w-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),i.jsx("button",{type:"button",onClick:ee,disabled:C||!t.email||d.email,className:"px-4 py-2 bg-primary-500 text-white text-sm font-medium rounded-lg hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:C?"Sending...":"Send Code"})]}),i.jsx(dt,{children:d.email&&i.jsx(he.p,{className:"mt-1 text-sm text-red-600",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:d.email})})]}),i.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},children:[i.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number (Optional)"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),i.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:t.phone,onChange:O,className:`block w-full pl-10 pr-3 py-2 border rounded-lg text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors ${d.phone?"border-red-300 focus:ring-red-500":t.phone&&!d.phone?"border-green-300 focus:ring-green-500":"border-gray-300"}`,placeholder:"Enter your phone number"}),t.phone&&!d.phone&&i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i.jsx("svg",{className:"h-4 w-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),i.jsx(dt,{children:d.phone&&i.jsx(he.p,{className:"mt-1 text-sm text-red-600",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:d.phone})})]}),i.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.6},children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Account Type"}),i.jsx("div",{className:"grid grid-cols-1 gap-3",children:[{id:"business",title:"Business Owner",description:"Manage your fleet and hire drivers",icon:i.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),color:"blue"},{id:"customer",title:"Customer",description:"Track shipments and place orders",icon:i.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),color:"green"},{id:"driver",title:"Driver",description:"Find job opportunities and manage trips",icon:i.jsxs("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 14H17a1 1 0 001-1V8a1 1 0 00-1-1h-3z"})]}),color:"purple"}].map((R,U)=>i.jsx(he.button,{type:"button",onClick:()=>{n(I=>({...I,role:R.id})),h(I=>({...I,role:""}))},className:`relative p-4 rounded-lg border-2 transition-all duration-200 text-left ${t.role===R.id?`border-${R.color}-500 bg-${R.color}-50 ring-2 ring-${R.color}-200`:"border-gray-200 bg-white hover:border-gray-300 hover:bg-gray-50"}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1*U},whileHover:{scale:1.02},whileTap:{scale:.98},children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`flex-shrink-0 p-2 rounded-lg ${t.role===R.id?`bg-${R.color}-100 text-${R.color}-600`:"bg-gray-100 text-gray-600"}`,children:R.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:`text-sm font-medium ${t.role===R.id?`text-${R.color}-900`:"text-gray-900"}`,children:R.title}),i.jsx("p",{className:`text-xs ${t.role===R.id?`text-${R.color}-700`:"text-gray-500"}`,children:R.description})]}),t.role===R.id&&i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:`h-5 w-5 text-${R.color}-600`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})},R.id))}),i.jsx(dt,{children:d.role&&i.jsx(he.p,{className:"mt-2 text-sm text-red-600",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:d.role})})]}),i.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.7},children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),i.jsx("input",{id:"password",name:"password",type:m?"text":"password",required:!0,autoComplete:"new-password",value:t.password,onChange:O,className:`block w-full pl-10 pr-10 py-2 border rounded-lg text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors ${d.password?"border-red-300 focus:ring-red-500":t.password&&!d.password?"border-green-300 focus:ring-green-500":"border-gray-300"}`,placeholder:"Create a strong password"}),i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i.jsx("button",{type:"button",onClick:()=>p(!m),className:"text-gray-400 hover:text-gray-600 focus:outline-none transition-colors",children:m?i.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):i.jsxs("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})})]}),t.password&&i.jsxs("div",{className:"mt-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-xs text-gray-600",children:"Password strength:"}),i.jsx("span",{className:`text-xs font-medium ${yh(P.level).replace("bg-","text-")}`,children:bw(P.level)})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${yh(P.level)}`,style:{width:`${P.score/5*100}%`}})}),P.feedback.length>0&&i.jsxs("div",{className:"mt-1 text-xs text-gray-600",children:[i.jsx("p",{children:"Requirements:"}),i.jsx("ul",{className:"list-disc list-inside ml-2",children:P.feedback.map((R,U)=>i.jsx("li",{children:R},U))})]})]}),i.jsx(dt,{children:d.password&&i.jsx(he.p,{className:"mt-1 text-sm text-red-600",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:d.password})})]}),i.jsxs(he.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.8},children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),i.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:g?"text":"password",required:!0,autoComplete:"new-password",value:t.confirmPassword,onChange:O,className:`block w-full pl-10 pr-10 py-2 border rounded-lg text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors ${d.confirmPassword?"border-red-300 focus:ring-red-500":t.confirmPassword&&!d.confirmPassword?"border-green-300 focus:ring-green-500":"border-gray-300"}`,placeholder:"Confirm your password"}),i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i.jsx("button",{type:"button",onClick:()=>y(!g),className:"text-gray-400 hover:text-gray-600 focus:outline-none transition-colors",children:g?i.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):i.jsxs("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})}),t.confirmPassword&&!d.confirmPassword&&i.jsx("div",{className:"absolute inset-y-0 right-0 pr-10 flex items-center",children:i.jsx("svg",{className:"h-4 w-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),i.jsx(dt,{children:d.confirmPassword&&i.jsx(he.p,{className:"mt-1 text-sm text-red-600",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:d.confirmPassword})})]}),i.jsx(he.button,{type:"submit",disabled:s||!z(),className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-lg text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},whileHover:{scale:1.02},whileTap:{scale:.98},children:s?i.jsxs(he.div,{className:"flex items-center",initial:{opacity:0},animate:{opacity:1},children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Account..."]}):"Create Account"}),i.jsxs(he.div,{className:"relative",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-300"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-2 bg-white text-gray-500",children:"or"})})]}),i.jsxs(he.button,{type:"button",className:"w-full flex justify-center items-center py-2 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-all duration-200",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:1.1},whileHover:{scale:1.02},whileTap:{scale:.98},children:[i.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]})]}),i.jsx(he.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:1.2},children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",i.jsx(dv,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500 transition-colors",children:"Sign In"})]})}),i.jsx(he.div,{className:"fixed bottom-4 right-4",initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1.4},children:i.jsx(he.button,{className:"bg-purple-500 hover:bg-purple-600 text-white rounded-full p-3 shadow-lg transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:i.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),i.jsx(dt,{children:M&&i.jsx(he.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:i.jsxs(he.div,{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{duration:.3},children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"mx-auto h-12 w-12 bg-primary-400 rounded-lg flex items-center justify-center mb-4",children:i.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Verify Your Email"}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Enter the 6-digit code sent to ",i.jsx("span",{className:"font-medium",children:t.email})]})]}),i.jsxs("form",{onSubmit:R=>{R.preventDefault(),J()},className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"modalVerificationCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsx("input",{id:"modalVerificationCode",name:"verificationCode",type:"text",required:!0,maxLength:"6",autoComplete:"one-time-code",value:t.verificationCode,onChange:O,className:`block w-full pl-10 pr-3 py-3 border rounded-lg text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-colors text-center text-lg tracking-widest ${d.verificationCode?"border-red-300 focus:ring-red-500":t.verificationCode&&!d.verificationCode?"border-green-300 focus:ring-green-500":"border-gray-300"}`,placeholder:"000000",autoFocus:!0}),t.verificationCode&&!d.verificationCode&&i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:i.jsx("svg",{className:"h-4 w-4 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]}),i.jsx(dt,{children:d.verificationCode&&i.jsx(he.p,{className:"mt-1 text-sm text-red-600",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:d.verificationCode})})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{type:"button",onClick:()=>V(!1),className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:s||!t.verificationCode||t.verificationCode.length!==6,className:"flex-1 py-2 px-4 border border-transparent rounded-lg text-sm font-medium text-white bg-primary-500 hover:bg-primary-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"Verifying...":"Verify & Create Account"})]}),i.jsx("div",{className:"text-center",children:i.jsx("button",{type:"button",onClick:te,disabled:C,className:"text-sm text-primary-600 hover:text-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:C?"Sending...":"Didn't receive the code? Resend"})})]})]})})})]})})};var vh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,s){s(t)})(N_,function(n){var s="1.9.4";function o(r){var a,u,f,x;for(u=1,f=arguments.length;u<f;u++){x=arguments[u];for(a in x)r[a]=x[a]}return r}var l=Object.create||function(){function r(){}return function(a){return r.prototype=a,new r}}();function c(r,a){var u=Array.prototype.slice;if(r.bind)return r.bind.apply(r,u.call(arguments,1));var f=u.call(arguments,2);return function(){return r.apply(a,f.length?f.concat(u.call(arguments)):arguments)}}var d=0;function h(r){return"_leaflet_id"in r||(r._leaflet_id=++d),r._leaflet_id}function m(r,a,u){var f,x,v,A;return A=function(){f=!1,x&&(v.apply(u,x),x=!1)},v=function(){f?x=arguments:(r.apply(u,arguments),setTimeout(A,a),f=!0)},v}function p(r,a,u){var f=a[1],x=a[0],v=f-x;return r===f&&u?r:((r-x)%v+v)%v+x}function g(){return!1}function y(r,a){if(a===!1)return r;var u=Math.pow(10,a===void 0?6:a);return Math.round(r*u)/u}function P(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function w(r){return P(r).split(/\s+/)}function N(r,a){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?l(r.options):{});for(var u in a)r.options[u]=a[u];return r.options}function S(r,a,u){var f=[];for(var x in r)f.push(encodeURIComponent(u?x.toUpperCase():x)+"="+encodeURIComponent(r[x]));return(!a||a.indexOf("?")===-1?"?":"&")+f.join("&")}var k=/\{ *([\w_ -]+) *\}/g;function _(r,a){return r.replace(k,function(u,f){var x=a[f];if(x===void 0)throw new Error("No value provided for variable "+u);return typeof x=="function"&&(x=x(a)),x})}var C=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function E(r,a){for(var u=0;u<r.length;u++)if(r[u]===a)return u;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function V(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var O=0;function z(r){var a=+new Date,u=Math.max(0,16-(a-O));return O=a+u,window.setTimeout(r,u)}var ee=window.requestAnimationFrame||V("RequestAnimationFrame")||z,J=window.cancelAnimationFrame||V("CancelAnimationFrame")||V("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function W(r,a,u){if(u&&ee===z)r.call(a);else return ee.call(window,c(r,a))}function te(r){r&&J.call(window,r)}var R={__proto__:null,extend:o,create:l,bind:c,get lastId(){return d},stamp:h,throttle:m,wrapNum:p,falseFn:g,formatNum:y,trim:P,splitWords:w,setOptions:N,getParamString:S,template:_,isArray:C,indexOf:E,emptyImageUrl:M,requestFn:ee,cancelFn:J,requestAnimFrame:W,cancelAnimFrame:te};function U(){}U.extend=function(r){var a=function(){N(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=a.__super__=this.prototype,f=l(u);f.constructor=a,a.prototype=f;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(a[x]=this[x]);return r.statics&&o(a,r.statics),r.includes&&(I(r.includes),o.apply(null,[f].concat(r.includes))),o(f,r),delete f.statics,delete f.includes,f.options&&(f.options=u.options?l(u.options):{},o(f.options,r.options)),f._initHooks=[],f.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,A=f._initHooks.length;v<A;v++)f._initHooks[v].call(this)}},a},U.include=function(r){var a=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=a,this.mergeOptions(r.options)),this},U.mergeOptions=function(r){return o(this.prototype.options,r),this},U.addInitHook=function(r){var a=Array.prototype.slice.call(arguments,1),u=typeof r=="function"?r:function(){this[r].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function I(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=C(r)?r:[r];for(var a=0;a<r.length;a++)r[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var D={on:function(r,a,u){if(typeof r=="object")for(var f in r)this._on(f,r[f],a);else{r=w(r);for(var x=0,v=r.length;x<v;x++)this._on(r[x],a,u)}return this},off:function(r,a,u){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var f in r)this._off(f,r[f],a);else{r=w(r);for(var x=arguments.length===1,v=0,A=r.length;v<A;v++)x?this._off(r[v]):this._off(r[v],a,u)}return this},_on:function(r,a,u,f){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(r,a,u)===!1){u===this&&(u=void 0);var x={fn:a,ctx:u};f&&(x.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(x)}},_off:function(r,a,u){var f,x,v;if(this._events&&(f=this._events[r],!!f)){if(arguments.length===1){if(this._firingCount)for(x=0,v=f.length;x<v;x++)f[x].fn=g;delete this._events[r];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var A=this._listens(r,a,u);if(A!==!1){var $=f[A];this._firingCount&&($.fn=g,this._events[r]=f=f.slice()),f.splice(A,1)}}},fire:function(r,a,u){if(!this.listens(r,u))return this;var f=o({},a,{type:r,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var x=this._events[r];if(x){this._firingCount=this._firingCount+1||1;for(var v=0,A=x.length;v<A;v++){var $=x[v],H=$.fn;$.once&&this.off(r,H,$.ctx),H.call($.ctx||this,f)}this._firingCount--}}return u&&this._propagateEvent(f),this},listens:function(r,a,u,f){typeof r!="string"&&console.warn('"string" type argument expected');var x=a;typeof a!="function"&&(f=!!a,x=void 0,u=void 0);var v=this._events&&this._events[r];if(v&&v.length&&this._listens(r,x,u)!==!1)return!0;if(f){for(var A in this._eventParents)if(this._eventParents[A].listens(r,a,u,f))return!0}return!1},_listens:function(r,a,u){if(!this._events)return!1;var f=this._events[r]||[];if(!a)return!!f.length;u===this&&(u=void 0);for(var x=0,v=f.length;x<v;x++)if(f[x].fn===a&&f[x].ctx===u)return x;return!1},once:function(r,a,u){if(typeof r=="object")for(var f in r)this._on(f,r[f],a,!0);else{r=w(r);for(var x=0,v=r.length;x<v;x++)this._on(r[x],a,u,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[h(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[h(r)],this},_propagateEvent:function(r){for(var a in this._eventParents)this._eventParents[a].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};D.addEventListener=D.on,D.removeEventListener=D.clearAllEventListeners=D.off,D.addOneTimeEventListener=D.once,D.fireEvent=D.fire,D.hasEventListeners=D.listens;var B=U.extend(D);function j(r,a,u){this.x=u?Math.round(r):r,this.y=u?Math.round(a):a}var T=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};j.prototype={clone:function(){return new j(this.x,this.y)},add:function(r){return this.clone()._add(F(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(F(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new j(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new j(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=T(this.x),this.y=T(this.y),this},distanceTo:function(r){r=F(r);var a=r.x-this.x,u=r.y-this.y;return Math.sqrt(a*a+u*u)},equals:function(r){return r=F(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=F(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function F(r,a,u){return r instanceof j?r:C(r)?new j(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new j(r.x,r.y):new j(r,a,u)}function X(r,a){if(r)for(var u=a?[r,a]:r,f=0,x=u.length;f<x;f++)this.extend(u[f])}X.prototype={extend:function(r){var a,u;if(!r)return this;if(r instanceof j||typeof r[0]=="number"||"x"in r)a=u=F(r);else if(r=ie(r),a=r.min,u=r.max,!a||!u)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=u.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(r){return F((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return F(this.min.x,this.max.y)},getTopRight:function(){return F(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var a,u;return typeof r[0]=="number"||r instanceof j?r=F(r):r=ie(r),r instanceof X?(a=r.min,u=r.max):a=u=r,a.x>=this.min.x&&u.x<=this.max.x&&a.y>=this.min.y&&u.y<=this.max.y},intersects:function(r){r=ie(r);var a=this.min,u=this.max,f=r.min,x=r.max,v=x.x>=a.x&&f.x<=u.x,A=x.y>=a.y&&f.y<=u.y;return v&&A},overlaps:function(r){r=ie(r);var a=this.min,u=this.max,f=r.min,x=r.max,v=x.x>a.x&&f.x<u.x,A=x.y>a.y&&f.y<u.y;return v&&A},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var a=this.min,u=this.max,f=Math.abs(a.x-u.x)*r,x=Math.abs(a.y-u.y)*r;return ie(F(a.x-f,a.y-x),F(u.x+f,u.y+x))},equals:function(r){return r?(r=ie(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ie(r,a){return!r||r instanceof X?r:new X(r,a)}function we(r,a){if(r)for(var u=a?[r,a]:r,f=0,x=u.length;f<x;f++)this.extend(u[f])}we.prototype={extend:function(r){var a=this._southWest,u=this._northEast,f,x;if(r instanceof me)f=r,x=r;else if(r instanceof we){if(f=r._southWest,x=r._northEast,!f||!x)return this}else return r?this.extend(ce(r)||fe(r)):this;return!a&&!u?(this._southWest=new me(f.lat,f.lng),this._northEast=new me(x.lat,x.lng)):(a.lat=Math.min(f.lat,a.lat),a.lng=Math.min(f.lng,a.lng),u.lat=Math.max(x.lat,u.lat),u.lng=Math.max(x.lng,u.lng)),this},pad:function(r){var a=this._southWest,u=this._northEast,f=Math.abs(a.lat-u.lat)*r,x=Math.abs(a.lng-u.lng)*r;return new we(new me(a.lat-f,a.lng-x),new me(u.lat+f,u.lng+x))},getCenter:function(){return new me((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new me(this.getNorth(),this.getWest())},getSouthEast:function(){return new me(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof me||"lat"in r?r=ce(r):r=fe(r);var a=this._southWest,u=this._northEast,f,x;return r instanceof we?(f=r.getSouthWest(),x=r.getNorthEast()):f=x=r,f.lat>=a.lat&&x.lat<=u.lat&&f.lng>=a.lng&&x.lng<=u.lng},intersects:function(r){r=fe(r);var a=this._southWest,u=this._northEast,f=r.getSouthWest(),x=r.getNorthEast(),v=x.lat>=a.lat&&f.lat<=u.lat,A=x.lng>=a.lng&&f.lng<=u.lng;return v&&A},overlaps:function(r){r=fe(r);var a=this._southWest,u=this._northEast,f=r.getSouthWest(),x=r.getNorthEast(),v=x.lat>a.lat&&f.lat<u.lat,A=x.lng>a.lng&&f.lng<u.lng;return v&&A},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,a){return r?(r=fe(r),this._southWest.equals(r.getSouthWest(),a)&&this._northEast.equals(r.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function fe(r,a){return r instanceof we?r:new we(r,a)}function me(r,a,u){if(isNaN(r)||isNaN(a))throw new Error("Invalid LatLng object: ("+r+", "+a+")");this.lat=+r,this.lng=+a,u!==void 0&&(this.alt=+u)}me.prototype={equals:function(r,a){if(!r)return!1;r=ce(r);var u=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return u<=(a===void 0?1e-9:a)},toString:function(r){return"LatLng("+y(this.lat,r)+", "+y(this.lng,r)+")"},distanceTo:function(r){return je.distance(this,ce(r))},wrap:function(){return je.wrapLatLng(this)},toBounds:function(r){var a=180*r/40075017,u=a/Math.cos(Math.PI/180*this.lat);return fe([this.lat-a,this.lng-u],[this.lat+a,this.lng+u])},clone:function(){return new me(this.lat,this.lng,this.alt)}};function ce(r,a,u){return r instanceof me?r:C(r)&&typeof r[0]!="object"?r.length===3?new me(r[0],r[1],r[2]):r.length===2?new me(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new me(r.lat,"lng"in r?r.lng:r.lon,r.alt):a===void 0?null:new me(r,a,u)}var Q={latLngToPoint:function(r,a){var u=this.projection.project(r),f=this.scale(a);return this.transformation._transform(u,f)},pointToLatLng:function(r,a){var u=this.scale(a),f=this.transformation.untransform(r,u);return this.projection.unproject(f)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var a=this.projection.bounds,u=this.scale(r),f=this.transformation.transform(a.min,u),x=this.transformation.transform(a.max,u);return new X(f,x)},infinite:!1,wrapLatLng:function(r){var a=this.wrapLng?p(r.lng,this.wrapLng,!0):r.lng,u=this.wrapLat?p(r.lat,this.wrapLat,!0):r.lat,f=r.alt;return new me(u,a,f)},wrapLatLngBounds:function(r){var a=r.getCenter(),u=this.wrapLatLng(a),f=a.lat-u.lat,x=a.lng-u.lng;if(f===0&&x===0)return r;var v=r.getSouthWest(),A=r.getNorthEast(),$=new me(v.lat-f,v.lng-x),H=new me(A.lat-f,A.lng-x);return new we($,H)}},je=o({},Q,{wrapLng:[-180,180],R:6371e3,distance:function(r,a){var u=Math.PI/180,f=r.lat*u,x=a.lat*u,v=Math.sin((a.lat-r.lat)*u/2),A=Math.sin((a.lng-r.lng)*u/2),$=v*v+Math.cos(f)*Math.cos(x)*A*A,H=2*Math.atan2(Math.sqrt($),Math.sqrt(1-$));return this.R*H}}),ue=6378137,ae={R:ue,MAX_LATITUDE:85.0511287798,project:function(r){var a=Math.PI/180,u=this.MAX_LATITUDE,f=Math.max(Math.min(u,r.lat),-u),x=Math.sin(f*a);return new j(this.R*r.lng*a,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(r){var a=180/Math.PI;return new me((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*a,r.x*a/this.R)},bounds:function(){var r=ue*Math.PI;return new X([-r,-r],[r,r])}()};function de(r,a,u,f){if(C(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=a,this._c=u,this._d=f}de.prototype={transform:function(r,a){return this._transform(r.clone(),a)},_transform:function(r,a){return a=a||1,r.x=a*(this._a*r.x+this._b),r.y=a*(this._c*r.y+this._d),r},untransform:function(r,a){return a=a||1,new j((r.x/a-this._b)/this._a,(r.y/a-this._d)/this._c)}};function pe(r,a,u,f){return new de(r,a,u,f)}var Pe=o({},je,{code:"EPSG:3857",projection:ae,transformation:function(){var r=.5/(Math.PI*ae.R);return pe(r,.5,-r,.5)}()}),qe=o({},Pe,{code:"EPSG:900913"});function Mt(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function jn(r,a){var u="",f,x,v,A,$,H;for(f=0,v=r.length;f<v;f++){for($=r[f],x=0,A=$.length;x<A;x++)H=$[x],u+=(x?"L":"M")+H.x+" "+H.y;u+=a?le.svg?"z":"x":""}return u||"M0 0"}var Nn=document.documentElement.style,De="ActiveXObject"in window,_c=De&&!document.addEventListener,fi="msLaunchUri"in navigator&&!("documentMode"in document),mi=Yt("webkit"),Xo=Yt("android"),Jo=Yt("android 2")||Yt("android 3"),bc=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),jc=Xo&&Yt("Google")&&bc<537&&!("AudioNode"in window),pi=!!window.opera,Qo=!fi&&Yt("chrome"),ea=Yt("gecko")&&!mi&&!pi&&!De,ft=!Qo&&Yt("safari"),gi=Yt("phantom"),Nc="OTransition"in Nn,ta=navigator.platform.indexOf("Win")===0,na=De&&"transition"in Nn,xi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Jo,yi="MozPerspective"in Nn,ra=!window.L_DISABLE_3D&&(na||xi||yi)&&!Nc&&!gi,nr=typeof orientation<"u"||Yt("mobile"),Rr=nr&&mi,kc=nr&&xi,sa=!window.PointerEvent&&window.MSPointerEvent,vi=!!(window.PointerEvent||sa),ia="ontouchstart"in window||!!window.TouchEvent,ds=!window.L_NO_TOUCH&&(ia||vi),Cc=nr&&pi,dn=nr&&ea,oa=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Sc=function(){var r=!1;try{var a=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",g,a),window.removeEventListener("testPassiveEventSupport",g,a)}catch{}return r}(),In=function(){return!!document.createElement("canvas").getContext}(),wi=!!(document.createElementNS&&Mt("svg").createSVGRect),Pc=!!wi&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Tc=!wi&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var a=r.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),aa=navigator.platform.indexOf("Mac")===0,Lc=navigator.platform.indexOf("Linux")===0;function Yt(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var le={ie:De,ielt9:_c,edge:fi,webkit:mi,android:Xo,android23:Jo,androidStock:jc,opera:pi,chrome:Qo,gecko:ea,safari:ft,phantom:gi,opera12:Nc,win:ta,ie3d:na,webkit3d:xi,gecko3d:yi,any3d:ra,mobile:nr,mobileWebkit:Rr,mobileWebkit3d:kc,msPointer:sa,pointer:vi,touch:ds,touchNative:ia,mobileOpera:Cc,mobileGecko:dn,retina:oa,passiveEvents:Sc,canvas:In,svg:wi,vml:Tc,inlineSvg:Pc,mac:aa,linux:Lc},_i=le.msPointer?"MSPointerDown":"pointerdown",bi=le.msPointer?"MSPointerMove":"pointermove",K=le.msPointer?"MSPointerUp":"pointerup",q=le.msPointer?"MSPointerCancel":"pointercancel",ve={touchstart:_i,touchmove:bi,touchend:K,touchcancel:q},re={touchstart:jw,touchmove:la,touchend:la,touchcancel:la},ke={},Ye=!1;function xe(r,a,u){return a==="touchstart"&&hs(),re[a]?(u=re[a].bind(this,u),r.addEventListener(ve[a],u,!1),u):(console.warn("wrong event specified:",a),g)}function Ze(r,a,u){if(!ve[a]){console.warn("wrong event specified:",a);return}r.removeEventListener(ve[a],u,!1)}function Xe(r){ke[r.pointerId]=r}function Ut(r){ke[r.pointerId]&&(ke[r.pointerId]=r)}function Ct(r){delete ke[r.pointerId]}function hs(){Ye||(document.addEventListener(_i,Xe,!0),document.addEventListener(bi,Ut,!0),document.addEventListener(K,Ct,!0),document.addEventListener(q,Ct,!0),Ye=!0)}function la(r,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var u in ke)a.touches.push(ke[u]);a.changedTouches=[a],r(a)}}function jw(r,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&mt(a),la(r,a)}function Nw(r){var a={},u,f;for(f in r)u=r[f],a[f]=u&&u.bind?u.bind(r):u;return r=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var kw=200;function Cw(r,a){r.addEventListener("dblclick",a);var u=0,f;function x(v){if(v.detail!==1){f=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var A=um(v);if(!(A.some(function(H){return H instanceof HTMLLabelElement&&H.attributes.for})&&!A.some(function(H){return H instanceof HTMLInputElement||H instanceof HTMLSelectElement}))){var $=Date.now();$-u<=kw?(f++,f===2&&a(Nw(v))):f=1,u=$}}}return r.addEventListener("click",x),{dblclick:a,simDblclick:x}}function Sw(r,a){r.removeEventListener("dblclick",a.dblclick),r.removeEventListener("click",a.simDblclick)}var Ec=da(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ji=da(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),om=ji==="webkitTransition"||ji==="OTransition"?ji+"End":"transitionend";function am(r){return typeof r=="string"?document.getElementById(r):r}function Ni(r,a){var u=r.style[a]||r.currentStyle&&r.currentStyle[a];if((!u||u==="auto")&&document.defaultView){var f=document.defaultView.getComputedStyle(r,null);u=f?f[a]:null}return u==="auto"?null:u}function Ee(r,a,u){var f=document.createElement(r);return f.className=a||"",u&&u.appendChild(f),f}function Fe(r){var a=r.parentNode;a&&a.removeChild(r)}function ca(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function fs(r){var a=r.parentNode;a&&a.lastChild!==r&&a.appendChild(r)}function ms(r){var a=r.parentNode;a&&a.firstChild!==r&&a.insertBefore(r,a.firstChild)}function Ac(r,a){if(r.classList!==void 0)return r.classList.contains(a);var u=ua(r);return u.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(u)}function Ne(r,a){if(r.classList!==void 0)for(var u=w(a),f=0,x=u.length;f<x;f++)r.classList.add(u[f]);else if(!Ac(r,a)){var v=ua(r);Mc(r,(v?v+" ":"")+a)}}function Je(r,a){r.classList!==void 0?r.classList.remove(a):Mc(r,P((" "+ua(r)+" ").replace(" "+a+" "," ")))}function Mc(r,a){r.className.baseVal===void 0?r.className=a:r.className.baseVal=a}function ua(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Xt(r,a){"opacity"in r.style?r.style.opacity=a:"filter"in r.style&&Pw(r,a)}function Pw(r,a){var u=!1,f="DXImageTransform.Microsoft.Alpha";try{u=r.filters.item(f)}catch{if(a===1)return}a=Math.round(a*100),u?(u.Enabled=a!==100,u.Opacity=a):r.style.filter+=" progid:"+f+"(opacity="+a+")"}function da(r){for(var a=document.documentElement.style,u=0;u<r.length;u++)if(r[u]in a)return r[u];return!1}function Or(r,a,u){var f=a||new j(0,0);r.style[Ec]=(le.ie3d?"translate("+f.x+"px,"+f.y+"px)":"translate3d("+f.x+"px,"+f.y+"px,0)")+(u?" scale("+u+")":"")}function nt(r,a){r._leaflet_pos=a,le.any3d?Or(r,a):(r.style.left=a.x+"px",r.style.top=a.y+"px")}function Ir(r){return r._leaflet_pos||new j(0,0)}var ki,Ci,Dc;if("onselectstart"in document)ki=function(){_e(window,"selectstart",mt)},Ci=function(){Re(window,"selectstart",mt)};else{var Si=da(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);ki=function(){if(Si){var r=document.documentElement.style;Dc=r[Si],r[Si]="none"}},Ci=function(){Si&&(document.documentElement.style[Si]=Dc,Dc=void 0)}}function Rc(){_e(window,"dragstart",mt)}function Oc(){Re(window,"dragstart",mt)}var ha,Ic;function zc(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(fa(),ha=r,Ic=r.style.outlineStyle,r.style.outlineStyle="none",_e(window,"keydown",fa))}function fa(){ha&&(ha.style.outlineStyle=Ic,ha=void 0,Ic=void 0,Re(window,"keydown",fa))}function lm(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Bc(r){var a=r.getBoundingClientRect();return{x:a.width/r.offsetWidth||1,y:a.height/r.offsetHeight||1,boundingClientRect:a}}var Tw={__proto__:null,TRANSFORM:Ec,TRANSITION:ji,TRANSITION_END:om,get:am,getStyle:Ni,create:Ee,remove:Fe,empty:ca,toFront:fs,toBack:ms,hasClass:Ac,addClass:Ne,removeClass:Je,setClass:Mc,getClass:ua,setOpacity:Xt,testProp:da,setTransform:Or,setPosition:nt,getPosition:Ir,get disableTextSelection(){return ki},get enableTextSelection(){return Ci},disableImageDrag:Rc,enableImageDrag:Oc,preventOutline:zc,restoreOutline:fa,getSizedParentNode:lm,getScale:Bc};function _e(r,a,u,f){if(a&&typeof a=="object")for(var x in a)Fc(r,x,a[x],u);else{a=w(a);for(var v=0,A=a.length;v<A;v++)Fc(r,a[v],u,f)}return this}var kn="_leaflet_events";function Re(r,a,u,f){if(arguments.length===1)cm(r),delete r[kn];else if(a&&typeof a=="object")for(var x in a)$c(r,x,a[x],u);else if(a=w(a),arguments.length===2)cm(r,function($){return E(a,$)!==-1});else for(var v=0,A=a.length;v<A;v++)$c(r,a[v],u,f);return this}function cm(r,a){for(var u in r[kn]){var f=u.split(/\d/)[0];(!a||a(f))&&$c(r,f,null,null,u)}}var Vc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Fc(r,a,u,f){var x=a+h(u)+(f?"_"+h(f):"");if(r[kn]&&r[kn][x])return this;var v=function($){return u.call(f||r,$||window.event)},A=v;!le.touchNative&&le.pointer&&a.indexOf("touch")===0?v=xe(r,a,v):le.touch&&a==="dblclick"?v=Cw(r,v):"addEventListener"in r?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?r.addEventListener(Vc[a]||a,v,le.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(v=function($){$=$||window.event,Wc(r,$)&&A($)},r.addEventListener(Vc[a],v,!1)):r.addEventListener(a,A,!1):r.attachEvent("on"+a,v),r[kn]=r[kn]||{},r[kn][x]=v}function $c(r,a,u,f,x){x=x||a+h(u)+(f?"_"+h(f):"");var v=r[kn]&&r[kn][x];if(!v)return this;!le.touchNative&&le.pointer&&a.indexOf("touch")===0?Ze(r,a,v):le.touch&&a==="dblclick"?Sw(r,v):"removeEventListener"in r?r.removeEventListener(Vc[a]||a,v,!1):r.detachEvent("on"+a,v),r[kn][x]=null}function zr(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Uc(r){return Fc(r,"wheel",zr),this}function Pi(r){return _e(r,"mousedown touchstart dblclick contextmenu",zr),r._leaflet_disable_click=!0,this}function mt(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Br(r){return mt(r),zr(r),this}function um(r){if(r.composedPath)return r.composedPath();for(var a=[],u=r.target;u;)a.push(u),u=u.parentNode;return a}function dm(r,a){if(!a)return new j(r.clientX,r.clientY);var u=Bc(a),f=u.boundingClientRect;return new j((r.clientX-f.left)/u.x-a.clientLeft,(r.clientY-f.top)/u.y-a.clientTop)}var Lw=le.linux&&le.chrome?window.devicePixelRatio:le.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function hm(r){return le.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Lw:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Wc(r,a){var u=a.relatedTarget;if(!u)return!0;try{for(;u&&u!==r;)u=u.parentNode}catch{return!1}return u!==r}var Ew={__proto__:null,on:_e,off:Re,stopPropagation:zr,disableScrollPropagation:Uc,disableClickPropagation:Pi,preventDefault:mt,stop:Br,getPropagationPath:um,getMousePosition:dm,getWheelDelta:hm,isExternalTarget:Wc,addListener:_e,removeListener:Re},fm=B.extend({run:function(r,a,u,f){this.stop(),this._el=r,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(f||.5,.2),this._startPos=Ir(r),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=W(this._animate,this),this._step()},_step:function(r){var a=+new Date-this._startTime,u=this._duration*1e3;a<u?this._runFrame(this._easeOut(a/u),r):(this._runFrame(1),this._complete())},_runFrame:function(r,a){var u=this._startPos.add(this._offset.multiplyBy(r));a&&u._round(),nt(this._el,u),this.fire("step")},_complete:function(){te(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Te=B.extend({options:{crs:Pe,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,a){a=N(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(ce(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ji&&le.any3d&&!le.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),_e(this._proxy,om,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,a,u){if(a=a===void 0?this._zoom:this._limitZoom(a),r=this._limitCenter(ce(r),a,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=o({animate:u.animate},u.zoom),u.pan=o({animate:u.animate,duration:u.duration},u.pan));var f=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,a,u.zoom):this._tryAnimatedPan(r,u.pan);if(f)return clearTimeout(this._sizeTimer),this}return this._resetView(r,a,u.pan&&u.pan.noMoveStart),this},setZoom:function(r,a){return this._loaded?this.setView(this.getCenter(),r,{zoom:a}):(this._zoom=r,this)},zoomIn:function(r,a){return r=r||(le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,a)},zoomOut:function(r,a){return r=r||(le.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,a)},setZoomAround:function(r,a,u){var f=this.getZoomScale(a),x=this.getSize().divideBy(2),v=r instanceof j?r:this.latLngToContainerPoint(r),A=v.subtract(x).multiplyBy(1-1/f),$=this.containerPointToLatLng(x.add(A));return this.setView($,a,{zoom:u})},_getBoundsCenterZoom:function(r,a){a=a||{},r=r.getBounds?r.getBounds():fe(r);var u=F(a.paddingTopLeft||a.padding||[0,0]),f=F(a.paddingBottomRight||a.padding||[0,0]),x=this.getBoundsZoom(r,!1,u.add(f));if(x=typeof a.maxZoom=="number"?Math.min(a.maxZoom,x):x,x===1/0)return{center:r.getCenter(),zoom:x};var v=f.subtract(u).divideBy(2),A=this.project(r.getSouthWest(),x),$=this.project(r.getNorthEast(),x),H=this.unproject(A.add($).divideBy(2).add(v),x);return{center:H,zoom:x}},fitBounds:function(r,a){if(r=fe(r),!r.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(r,a);return this.setView(u.center,u.zoom,a)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,a){return this.setView(r,this._zoom,{pan:a})},panBy:function(r,a){if(r=F(r).round(),a=a||{},!r.x&&!r.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new fm,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){Ne(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,u,a.duration||.25,a.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,a,u){if(u=u||{},u.animate===!1||!le.any3d)return this.setView(r,a,u);this._stop();var f=this.project(this.getCenter()),x=this.project(r),v=this.getSize(),A=this._zoom;r=ce(r),a=a===void 0?A:a;var $=Math.max(v.x,v.y),H=$*this.getZoomScale(A,a),Y=x.distanceTo(f)||1,se=1.42,ge=se*se;function Ce(rt){var ka=rt?-1:1,v_=rt?H:$,w_=H*H-$*$+ka*ge*ge*Y*Y,__=2*v_*ge*Y,tu=w_/__,Km=Math.sqrt(tu*tu+1)-tu,b_=Km<1e-9?-18:Math.log(Km);return b_}function St(rt){return(Math.exp(rt)-Math.exp(-rt))/2}function ct(rt){return(Math.exp(rt)+Math.exp(-rt))/2}function Qt(rt){return St(rt)/ct(rt)}var Dt=Ce(0);function ws(rt){return $*(ct(Dt)/ct(Dt+se*rt))}function p_(rt){return $*(ct(Dt)*Qt(Dt+se*rt)-St(Dt))/ge}function g_(rt){return 1-Math.pow(1-rt,1.5)}var x_=Date.now(),Hm=(Ce(1)-Dt)/se,y_=u.duration?1e3*u.duration:1e3*Hm*.8;function Zm(){var rt=(Date.now()-x_)/y_,ka=g_(rt)*Hm;rt<=1?(this._flyToFrame=W(Zm,this),this._move(this.unproject(f.add(x.subtract(f).multiplyBy(p_(ka)/Y)),A),this.getScaleZoom($/ws(ka),A),{flyTo:!0})):this._move(r,a)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),Zm.call(this),this},flyToBounds:function(r,a){var u=this._getBoundsCenterZoom(r,a);return this.flyTo(u.center,u.zoom,a)},setMaxBounds:function(r){return r=fe(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var a=this.options.minZoom;return this.options.minZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var a=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,a){this._enforcingBounds=!0;var u=this.getCenter(),f=this._limitCenter(u,this._zoom,fe(r));return u.equals(f)||this.panTo(f,a),this._enforcingBounds=!1,this},panInside:function(r,a){a=a||{};var u=F(a.paddingTopLeft||a.padding||[0,0]),f=F(a.paddingBottomRight||a.padding||[0,0]),x=this.project(this.getCenter()),v=this.project(r),A=this.getPixelBounds(),$=ie([A.min.add(u),A.max.subtract(f)]),H=$.getSize();if(!$.contains(v)){this._enforcingBounds=!0;var Y=v.subtract($.getCenter()),se=$.extend(v).getSize().subtract(H);x.x+=Y.x<0?-se.x:se.x,x.y+=Y.y<0?-se.y:se.y,this.panTo(this.unproject(x),a),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),f=a.divideBy(2).round(),x=u.divideBy(2).round(),v=f.subtract(x);return!v.x&&!v.y?this:(r.animate&&r.pan?this.panBy(v):(r.pan&&this._rawPanBy(v),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=c(this._handleGeolocationResponse,this),u=c(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,u,r):navigator.geolocation.getCurrentPosition(a,u,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var a=r.code,u=r.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var a=r.coords.latitude,u=r.coords.longitude,f=new me(a,u),x=f.toBounds(r.coords.accuracy*2),v=this._locateOptions;if(v.setView){var A=this.getBoundsZoom(x);this.setView(f,v.maxZoom?Math.min(A,v.maxZoom):A)}var $={latlng:f,bounds:x,timestamp:r.timestamp};for(var H in r.coords)typeof r.coords[H]=="number"&&($[H]=r.coords[H]);this.fire("locationfound",$)}},addHandler:function(r,a){if(!a)return this;var u=this[r]=new a(this);return this._handlers.push(u),this.options[r]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Fe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(te(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Fe(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,a){var u="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),f=Ee("div",u,a||this._mapPane);return r&&(this._panes[r]=f),f},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),a=this.unproject(r.getBottomLeft()),u=this.unproject(r.getTopRight());return new we(a,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,a,u){r=fe(r),u=F(u||[0,0]);var f=this.getZoom()||0,x=this.getMinZoom(),v=this.getMaxZoom(),A=r.getNorthWest(),$=r.getSouthEast(),H=this.getSize().subtract(u),Y=ie(this.project($,f),this.project(A,f)).getSize(),se=le.any3d?this.options.zoomSnap:1,ge=H.x/Y.x,Ce=H.y/Y.y,St=a?Math.max(ge,Ce):Math.min(ge,Ce);return f=this.getScaleZoom(St,f),se&&(f=Math.round(f/(se/100))*(se/100),f=a?Math.ceil(f/se)*se:Math.floor(f/se)*se),Math.max(x,Math.min(v,f))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new j(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,a){var u=this._getTopLeftPoint(r,a);return new X(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,a){var u=this.options.crs;return a=a===void 0?this._zoom:a,u.scale(r)/u.scale(a)},getScaleZoom:function(r,a){var u=this.options.crs;a=a===void 0?this._zoom:a;var f=u.zoom(r*u.scale(a));return isNaN(f)?1/0:f},project:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(ce(r),a)},unproject:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(F(r),a)},layerPointToLatLng:function(r){var a=F(r).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(r){var a=this.project(ce(r))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(ce(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(fe(r))},distance:function(r,a){return this.options.crs.distance(ce(r),ce(a))},containerPointToLayerPoint:function(r){return F(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return F(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var a=this.containerPointToLayerPoint(F(r));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ce(r)))},mouseEventToContainerPoint:function(r){return dm(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var a=this._container=am(r);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");_e(a,"scroll",this._onScroll,this),this._containerId=h(a)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&le.any3d,Ne(r,"leaflet-container"+(le.touch?" leaflet-touch":"")+(le.retina?" leaflet-retina":"")+(le.ielt9?" leaflet-oldie":"")+(le.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Ni(r,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),nt(this._mapPane,new j(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ne(r.markerPane,"leaflet-zoom-hide"),Ne(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,a,u){nt(this._mapPane,new j(0,0));var f=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var x=this._zoom!==a;this._moveStart(x,u)._move(r,a)._moveEnd(x),this.fire("viewreset"),f&&this.fire("load")},_moveStart:function(r,a){return r&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(r,a,u,f){a===void 0&&(a=this._zoom);var x=this._zoom!==a;return this._zoom=a,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),f?u&&u.pinch&&this.fire("zoom",u):((x||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return te(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){nt(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[h(this._container)]=this;var a=r?Re:_e;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),le.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){te(this._resizeRequest),this._resizeRequest=W(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,a){for(var u=[],f,x=a==="mouseout"||a==="mouseover",v=r.target||r.srcElement,A=!1;v;){if(f=this._targets[h(v)],f&&(a==="click"||a==="preclick")&&this._draggableMoved(f)){A=!0;break}if(f&&f.listens(a,!0)&&(x&&!Wc(v,r)||(u.push(f),x))||v===this._container)break;v=v.parentNode}return!u.length&&!A&&!x&&this.listens(a,!0)&&(u=[this]),u},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var a=r.target||r.srcElement;if(!(!this._loaded||a._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(a))){var u=r.type;u==="mousedown"&&zc(a),this._fireDOMEvent(r,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,a,u){if(r.type==="click"){var f=o({},r);f.type="preclick",this._fireDOMEvent(f,f.type,u)}var x=this._findEventTargets(r,a);if(u){for(var v=[],A=0;A<u.length;A++)u[A].listens(a,!0)&&v.push(u[A]);x=v.concat(x)}if(x.length){a==="contextmenu"&&mt(r);var $=x[0],H={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Y=$.getLatLng&&(!$._radius||$._radius<=10);H.containerPoint=Y?this.latLngToContainerPoint($.getLatLng()):this.mouseEventToContainerPoint(r),H.layerPoint=this.containerPointToLayerPoint(H.containerPoint),H.latlng=Y?$.getLatLng():this.layerPointToLatLng(H.layerPoint)}for(A=0;A<x.length;A++)if(x[A].fire(a,H,!0),H.originalEvent._stopped||x[A].options.bubblingMouseEvents===!1&&E(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,a=this._handlers.length;r<a;r++)this._handlers[r].disable()},whenReady:function(r,a){return this._loaded?r.call(a||this,{target:this}):this.on("load",r,a),this},_getMapPanePos:function(){return Ir(this._mapPane)||new j(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,a){var u=r&&a!==void 0?this._getNewPixelOrigin(r,a):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,a){var u=this.getSize()._divideBy(2);return this.project(r,a)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,a,u){var f=this._getNewPixelOrigin(u,a);return this.project(r,a)._subtract(f)},_latLngBoundsToNewLayerBounds:function(r,a,u){var f=this._getNewPixelOrigin(u,a);return ie([this.project(r.getSouthWest(),a)._subtract(f),this.project(r.getNorthWest(),a)._subtract(f),this.project(r.getSouthEast(),a)._subtract(f),this.project(r.getNorthEast(),a)._subtract(f)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,a,u){if(!u)return r;var f=this.project(r,a),x=this.getSize().divideBy(2),v=new X(f.subtract(x),f.add(x)),A=this._getBoundsOffset(v,u,a);return Math.abs(A.x)<=1&&Math.abs(A.y)<=1?r:this.unproject(f.add(A),a)},_limitOffset:function(r,a){if(!a)return r;var u=this.getPixelBounds(),f=new X(u.min.add(r),u.max.add(r));return r.add(this._getBoundsOffset(f,a))},_getBoundsOffset:function(r,a,u){var f=ie(this.project(a.getNorthEast(),u),this.project(a.getSouthWest(),u)),x=f.min.subtract(r.min),v=f.max.subtract(r.max),A=this._rebound(x.x,-v.x),$=this._rebound(x.y,-v.y);return new j(A,$)},_rebound:function(r,a){return r+a>0?Math.round(r-a)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(a))},_limitZoom:function(r){var a=this.getMinZoom(),u=this.getMaxZoom(),f=le.any3d?this.options.zoomSnap:1;return f&&(r=Math.round(r/f)*f),Math.max(a,Math.min(u,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Je(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,a){var u=this._getCenterOffset(r)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,a),!0)},_createAnimProxy:function(){var r=this._proxy=Ee("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(a){var u=Ec,f=this._proxy.style[u];Or(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),f===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Fe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),a=this.getZoom();Or(this._proxy,this.project(r,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,a,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var f=this.getZoomScale(a),x=this._getCenterOffset(r)._divideBy(1-1/f);return u.animate!==!0&&!this.getSize().contains(x)?!1:(W(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(r,a,!0)},this),!0)},_animateZoom:function(r,a,u,f){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=a,Ne(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:a,noUpdate:f}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Je(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Aw(r,a){return new Te(r,a)}var hn=U.extend({options:{position:"topright"},initialize:function(r){N(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var a=this._map;return a&&a.removeControl(this),this.options.position=r,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var a=this._container=this.onAdd(r),u=this.getPosition(),f=r._controlCorners[u];return Ne(a,"leaflet-control"),u.indexOf("bottom")!==-1?f.insertBefore(a,f.firstChild):f.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Fe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Ti=function(r){return new hn(r)};Te.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},a="leaflet-",u=this._controlContainer=Ee("div",a+"control-container",this._container);function f(x,v){var A=a+x+" "+a+v;r[x+v]=Ee("div",A,u)}f("top","left"),f("top","right"),f("bottom","left"),f("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Fe(this._controlCorners[r]);Fe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var mm=hn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,a,u,f){return u<f?-1:f<u?1:0}},initialize:function(r,a,u){N(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var f in r)this._addLayer(r[f],f);for(f in a)this._addLayer(a[f],f,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return hn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,a){return this._addLayer(r,a),this._map?this._update():this},addOverlay:function(r,a){return this._addLayer(r,a,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var a=this._getLayer(h(r));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){Ne(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Ne(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):Je(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Je(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",a=this._container=Ee("div",r),u=this.options.collapsed;a.setAttribute("aria-haspopup",!0),Pi(a),Uc(a);var f=this._section=Ee("section",r+"-list");u&&(this._map.on("click",this.collapse,this),_e(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=Ee("a",r+"-toggle",a);x.href="#",x.title="Layers",x.setAttribute("role","button"),_e(x,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){mt(v),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=Ee("div",r+"-base",f),this._separator=Ee("div",r+"-separator",f),this._overlaysList=Ee("div",r+"-overlays",f),a.appendChild(f)},_getLayer:function(r){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&h(this._layers[a].layer)===r)return this._layers[a]},_addLayer:function(r,a,u){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:a,overlay:u}),this.options.sortLayers&&this._layers.sort(c(function(f,x){return this.options.sortFunction(f.layer,x.layer,f.name,x.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ca(this._baseLayersList),ca(this._overlaysList),this._layerControlInputs=[];var r,a,u,f,x=0;for(u=0;u<this._layers.length;u++)f=this._layers[u],this._addItem(f),a=a||f.overlay,r=r||!f.overlay,x+=f.overlay?0:1;return this.options.hideSingleBase&&(r=r&&x>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=a&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var a=this._getLayer(h(r.target)),u=a.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;u&&this._map.fire(u,a)},_createRadioElement:function(r,a){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(a?' checked="checked"':"")+"/>",f=document.createElement("div");return f.innerHTML=u,f.firstChild},_addItem:function(r){var a=document.createElement("label"),u=this._map.hasLayer(r.layer),f;r.overlay?(f=document.createElement("input"),f.type="checkbox",f.className="leaflet-control-layers-selector",f.defaultChecked=u):f=this._createRadioElement("leaflet-base-layers_"+h(this),u),this._layerControlInputs.push(f),f.layerId=h(r.layer),_e(f,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+r.name;var v=document.createElement("span");a.appendChild(v),v.appendChild(f),v.appendChild(x);var A=r.overlay?this._overlaysList:this._baseLayersList;return A.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,a,u,f=[],x=[];this._handlingClick=!0;for(var v=r.length-1;v>=0;v--)a=r[v],u=this._getLayer(a.layerId).layer,a.checked?f.push(u):a.checked||x.push(u);for(v=0;v<x.length;v++)this._map.hasLayer(x[v])&&this._map.removeLayer(x[v]);for(v=0;v<f.length;v++)this._map.hasLayer(f[v])||this._map.addLayer(f[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,a,u,f=this._map.getZoom(),x=r.length-1;x>=0;x--)a=r[x],u=this._getLayer(a.layerId).layer,a.disabled=u.options.minZoom!==void 0&&f<u.options.minZoom||u.options.maxZoom!==void 0&&f>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,_e(r,"click",mt),this.expand();var a=this;setTimeout(function(){Re(r,"click",mt),a._preventClick=!1})}}),Mw=function(r,a,u){return new mm(r,a,u)},Hc=hn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var a="leaflet-control-zoom",u=Ee("div",a+" leaflet-bar"),f=this.options;return this._zoomInButton=this._createButton(f.zoomInText,f.zoomInTitle,a+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(f.zoomOutText,f.zoomOutTitle,a+"-out",u,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,a,u,f,x){var v=Ee("a",u,f);return v.innerHTML=r,v.href="#",v.title=a,v.setAttribute("role","button"),v.setAttribute("aria-label",a),Pi(v),_e(v,"click",Br),_e(v,"click",x,this),_e(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var r=this._map,a="leaflet-disabled";Je(this._zoomInButton,a),Je(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Ne(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Ne(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});Te.mergeOptions({zoomControl:!0}),Te.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Hc,this.addControl(this.zoomControl))});var Dw=function(r){return new Hc(r)},pm=hn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var a="leaflet-control-scale",u=Ee("div",a),f=this.options;return this._addScales(f,a+"-line",u),r.on(f.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),u},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,a,u){r.metric&&(this._mScale=Ee("div",a,u)),r.imperial&&(this._iScale=Ee("div",a,u))},_update:function(){var r=this._map,a=r.getSize().y/2,u=r.distance(r.containerPointToLatLng([0,a]),r.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(u)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var a=this._getRoundNum(r),u=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,u,a/r)},_updateImperial:function(r){var a=r*3.2808399,u,f,x;a>5280?(u=a/5280,f=this._getRoundNum(u),this._updateScale(this._iScale,f+" mi",f/u)):(x=this._getRoundNum(a),this._updateScale(this._iScale,x+" ft",x/a))},_updateScale:function(r,a,u){r.style.width=Math.round(this.options.maxWidth*u)+"px",r.innerHTML=a},_getRoundNum:function(r){var a=Math.pow(10,(Math.floor(r)+"").length-1),u=r/a;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,a*u}}),Rw=function(r){return new pm(r)},Ow='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Zc=hn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(le.inlineSvg?Ow+" ":"")+"Leaflet</a>"},initialize:function(r){N(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=Ee("div","leaflet-control-attribution"),Pi(this._container);for(var a in r._layers)r._layers[a].getAttribution&&this.addAttribution(r._layers[a].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var a in this._attributions)this._attributions[a]&&r.push(a);var u=[];this.options.prefix&&u.push(this.options.prefix),r.length&&u.push(r.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Te.mergeOptions({attributionControl:!0}),Te.addInitHook(function(){this.options.attributionControl&&new Zc().addTo(this)});var Iw=function(r){return new Zc(r)};hn.Layers=mm,hn.Zoom=Hc,hn.Scale=pm,hn.Attribution=Zc,Ti.layers=Mw,Ti.zoom=Dw,Ti.scale=Rw,Ti.attribution=Iw;var Cn=U.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Cn.addTo=function(r,a){return r.addHandler(a,this),this};var zw={Events:D},gm=le.touch?"touchstart mousedown":"mousedown",rr=B.extend({options:{clickTolerance:3},initialize:function(r,a,u,f){N(this,f),this._element=r,this._dragStartTarget=a||r,this._preventOutline=u},enable:function(){this._enabled||(_e(this._dragStartTarget,gm,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(rr._dragging===this&&this.finishDrag(!0),Re(this._dragStartTarget,gm,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Ac(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){rr._dragging===this&&this.finishDrag();return}if(!(rr._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(rr._dragging=this,this._preventOutline&&zc(this._element),Rc(),ki(),!this._moving)){this.fire("down");var a=r.touches?r.touches[0]:r,u=lm(this._element);this._startPoint=new j(a.clientX,a.clientY),this._startPos=Ir(this._element),this._parentScale=Bc(u);var f=r.type==="mousedown";_e(document,f?"mousemove":"touchmove",this._onMove,this),_e(document,f?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var a=r.touches&&r.touches.length===1?r.touches[0]:r,u=new j(a.clientX,a.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,mt(r),this._moved||(this.fire("dragstart"),this._moved=!0,Ne(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ne(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),nt(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){Je(document.body,"leaflet-dragging"),this._lastTarget&&(Je(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Re(document,"mousemove touchmove",this._onMove,this),Re(document,"mouseup touchend touchcancel",this._onUp,this),Oc(),Ci();var a=this._moved&&this._moving;this._moving=!1,rr._dragging=!1,a&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function xm(r,a,u){var f,x=[1,4,2,8],v,A,$,H,Y,se,ge,Ce;for(v=0,se=r.length;v<se;v++)r[v]._code=Vr(r[v],a);for($=0;$<4;$++){for(ge=x[$],f=[],v=0,se=r.length,A=se-1;v<se;A=v++)H=r[v],Y=r[A],H._code&ge?Y._code&ge||(Ce=ma(Y,H,ge,a,u),Ce._code=Vr(Ce,a),f.push(Ce)):(Y._code&ge&&(Ce=ma(Y,H,ge,a,u),Ce._code=Vr(Ce,a),f.push(Ce)),f.push(H));r=f}return r}function ym(r,a){var u,f,x,v,A,$,H,Y,se;if(!r||r.length===0)throw new Error("latlngs not passed");Jt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var ge=ce([0,0]),Ce=fe(r),St=Ce.getNorthWest().distanceTo(Ce.getSouthWest())*Ce.getNorthEast().distanceTo(Ce.getNorthWest());St<1700&&(ge=Kc(r));var ct=r.length,Qt=[];for(u=0;u<ct;u++){var Dt=ce(r[u]);Qt.push(a.project(ce([Dt.lat-ge.lat,Dt.lng-ge.lng])))}for($=H=Y=0,u=0,f=ct-1;u<ct;f=u++)x=Qt[u],v=Qt[f],A=x.y*v.x-v.y*x.x,H+=(x.x+v.x)*A,Y+=(x.y+v.y)*A,$+=A*3;$===0?se=Qt[0]:se=[H/$,Y/$];var ws=a.unproject(F(se));return ce([ws.lat+ge.lat,ws.lng+ge.lng])}function Kc(r){for(var a=0,u=0,f=0,x=0;x<r.length;x++){var v=ce(r[x]);a+=v.lat,u+=v.lng,f++}return ce([a/f,u/f])}var Bw={__proto__:null,clipPolygon:xm,polygonCenter:ym,centroid:Kc};function vm(r,a){if(!a||!r.length)return r.slice();var u=a*a;return r=$w(r,u),r=Fw(r,u),r}function wm(r,a,u){return Math.sqrt(Li(r,a,u,!0))}function Vw(r,a,u){return Li(r,a,u)}function Fw(r,a){var u=r.length,f=typeof Uint8Array<"u"?Uint8Array:Array,x=new f(u);x[0]=x[u-1]=1,Gc(r,x,a,0,u-1);var v,A=[];for(v=0;v<u;v++)x[v]&&A.push(r[v]);return A}function Gc(r,a,u,f,x){var v=0,A,$,H;for($=f+1;$<=x-1;$++)H=Li(r[$],r[f],r[x],!0),H>v&&(A=$,v=H);v>u&&(a[A]=1,Gc(r,a,u,f,A),Gc(r,a,u,A,x))}function $w(r,a){for(var u=[r[0]],f=1,x=0,v=r.length;f<v;f++)Uw(r[f],r[x])>a&&(u.push(r[f]),x=f);return x<v-1&&u.push(r[v-1]),u}var _m;function bm(r,a,u,f,x){var v=f?_m:Vr(r,u),A=Vr(a,u),$,H,Y;for(_m=A;;){if(!(v|A))return[r,a];if(v&A)return!1;$=v||A,H=ma(r,a,$,u,x),Y=Vr(H,u),$===v?(r=H,v=Y):(a=H,A=Y)}}function ma(r,a,u,f,x){var v=a.x-r.x,A=a.y-r.y,$=f.min,H=f.max,Y,se;return u&8?(Y=r.x+v*(H.y-r.y)/A,se=H.y):u&4?(Y=r.x+v*($.y-r.y)/A,se=$.y):u&2?(Y=H.x,se=r.y+A*(H.x-r.x)/v):u&1&&(Y=$.x,se=r.y+A*($.x-r.x)/v),new j(Y,se,x)}function Vr(r,a){var u=0;return r.x<a.min.x?u|=1:r.x>a.max.x&&(u|=2),r.y<a.min.y?u|=4:r.y>a.max.y&&(u|=8),u}function Uw(r,a){var u=a.x-r.x,f=a.y-r.y;return u*u+f*f}function Li(r,a,u,f){var x=a.x,v=a.y,A=u.x-x,$=u.y-v,H=A*A+$*$,Y;return H>0&&(Y=((r.x-x)*A+(r.y-v)*$)/H,Y>1?(x=u.x,v=u.y):Y>0&&(x+=A*Y,v+=$*Y)),A=r.x-x,$=r.y-v,f?A*A+$*$:new j(x,v)}function Jt(r){return!C(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function jm(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Jt(r)}function Nm(r,a){var u,f,x,v,A,$,H,Y;if(!r||r.length===0)throw new Error("latlngs not passed");Jt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var se=ce([0,0]),ge=fe(r),Ce=ge.getNorthWest().distanceTo(ge.getSouthWest())*ge.getNorthEast().distanceTo(ge.getNorthWest());Ce<1700&&(se=Kc(r));var St=r.length,ct=[];for(u=0;u<St;u++){var Qt=ce(r[u]);ct.push(a.project(ce([Qt.lat-se.lat,Qt.lng-se.lng])))}for(u=0,f=0;u<St-1;u++)f+=ct[u].distanceTo(ct[u+1])/2;if(f===0)Y=ct[0];else for(u=0,v=0;u<St-1;u++)if(A=ct[u],$=ct[u+1],x=A.distanceTo($),v+=x,v>f){H=(v-f)/x,Y=[$.x-H*($.x-A.x),$.y-H*($.y-A.y)];break}var Dt=a.unproject(F(Y));return ce([Dt.lat+se.lat,Dt.lng+se.lng])}var Ww={__proto__:null,simplify:vm,pointToSegmentDistance:wm,closestPointOnSegment:Vw,clipSegment:bm,_getEdgeIntersection:ma,_getBitCode:Vr,_sqClosestPointOnSegment:Li,isFlat:Jt,_flat:jm,polylineCenter:Nm},qc={project:function(r){return new j(r.lng,r.lat)},unproject:function(r){return new me(r.y,r.x)},bounds:new X([-180,-90],[180,90])},Yc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new X([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var a=Math.PI/180,u=this.R,f=r.lat*a,x=this.R_MINOR/u,v=Math.sqrt(1-x*x),A=v*Math.sin(f),$=Math.tan(Math.PI/4-f/2)/Math.pow((1-A)/(1+A),v/2);return f=-u*Math.log(Math.max($,1e-10)),new j(r.lng*a*u,f)},unproject:function(r){for(var a=180/Math.PI,u=this.R,f=this.R_MINOR/u,x=Math.sqrt(1-f*f),v=Math.exp(-r.y/u),A=Math.PI/2-2*Math.atan(v),$=0,H=.1,Y;$<15&&Math.abs(H)>1e-7;$++)Y=x*Math.sin(A),Y=Math.pow((1-Y)/(1+Y),x/2),H=Math.PI/2-2*Math.atan(v*Y)-A,A+=H;return new me(A*a,r.x*a/u)}},Hw={__proto__:null,LonLat:qc,Mercator:Yc,SphericalMercator:ae},Zw=o({},je,{code:"EPSG:3395",projection:Yc,transformation:function(){var r=.5/(Math.PI*Yc.R);return pe(r,.5,-r,.5)}()}),km=o({},je,{code:"EPSG:4326",projection:qc,transformation:pe(1/180,1,-1/180,.5)}),Kw=o({},Q,{projection:qc,transformation:pe(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,a){var u=a.lng-r.lng,f=a.lat-r.lat;return Math.sqrt(u*u+f*f)},infinite:!0});Q.Earth=je,Q.EPSG3395=Zw,Q.EPSG3857=Pe,Q.EPSG900913=qe,Q.EPSG4326=km,Q.Simple=Kw;var fn=B.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[h(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[h(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var a=r.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var u=this.getEvents();a.on(u,this),this.once("remove",function(){a.off(u,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});Te.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var a=h(r);return this._layers[a]?this:(this._layers[a]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var a=h(r);return this._layers[a]?(this._loaded&&r.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return h(r)in this._layers},eachLayer:function(r,a){for(var u in this._layers)r.call(a,this._layers[u]);return this},_addLayers:function(r){r=r?C(r)?r:[r]:[];for(var a=0,u=r.length;a<u;a++)this.addLayer(r[a])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[h(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var a=h(r);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,a=-1/0,u=this._getZoomSpan();for(var f in this._zoomBoundLayers){var x=this._zoomBoundLayers[f].options;r=x.minZoom===void 0?r:Math.min(r,x.minZoom),a=x.maxZoom===void 0?a:Math.max(a,x.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=r===1/0?void 0:r,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ps=fn.extend({initialize:function(r,a){N(this,a),this._layers={};var u,f;if(r)for(u=0,f=r.length;u<f;u++)this.addLayer(r[u])},addLayer:function(r){var a=this.getLayerId(r);return this._layers[a]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var a=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(r){var a=typeof r=="number"?r:this.getLayerId(r);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var a=Array.prototype.slice.call(arguments,1),u,f;for(u in this._layers)f=this._layers[u],f[r]&&f[r].apply(f,a);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,a){for(var u in this._layers)r.call(a,this._layers[u]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return h(r)}}),Gw=function(r,a){return new ps(r,a)},zn=ps.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),ps.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),ps.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new we;for(var a in this._layers){var u=this._layers[a];r.extend(u.getBounds?u.getBounds():u.getLatLng())}return r}}),qw=function(r,a){return new zn(r,a)},gs=U.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){N(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,a){var u=this._getIconUrl(r);if(!u){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var f=this._createImg(u,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(f,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),f},_setIconStyles:function(r,a){var u=this.options,f=u[a+"Size"];typeof f=="number"&&(f=[f,f]);var x=F(f),v=F(a==="shadow"&&u.shadowAnchor||u.iconAnchor||x&&x.divideBy(2,!0));r.className="leaflet-marker-"+a+" "+(u.className||""),v&&(r.style.marginLeft=-v.x+"px",r.style.marginTop=-v.y+"px"),x&&(r.style.width=x.x+"px",r.style.height=x.y+"px")},_createImg:function(r,a){return a=a||document.createElement("img"),a.src=r,a},_getIconUrl:function(r){return le.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Yw(r){return new gs(r)}var Ei=gs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Ei.imagePath!="string"&&(Ei.imagePath=this._detectIconPath()),(this.options.imagePath||Ei.imagePath)+gs.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var a=function(u,f,x){var v=f.exec(u);return v&&v[x]};return r=a(r,/^url\((['"])?(.+)\1\)$/,2),r&&a(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=Ee("div","leaflet-default-icon-path",document.body),a=Ni(r,"background-image")||Ni(r,"backgroundImage");if(document.body.removeChild(r),a=this._stripUrl(a),a)return a;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Cm=Cn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new rr(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ne(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Je(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var a=this._marker,u=a._map,f=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,v=Ir(a._icon),A=u.getPixelBounds(),$=u.getPixelOrigin(),H=ie(A.min._subtract($).add(x),A.max._subtract($).subtract(x));if(!H.contains(v)){var Y=F((Math.max(H.max.x,v.x)-H.max.x)/(A.max.x-H.max.x)-(Math.min(H.min.x,v.x)-H.min.x)/(A.min.x-H.min.x),(Math.max(H.max.y,v.y)-H.max.y)/(A.max.y-H.max.y)-(Math.min(H.min.y,v.y)-H.min.y)/(A.min.y-H.min.y)).multiplyBy(f);u.panBy(Y,{animate:!1}),this._draggable._newPos._add(Y),this._draggable._startPos._add(Y),nt(a._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=W(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(te(this._panRequest),this._panRequest=W(this._adjustPan.bind(this,r)))},_onDrag:function(r){var a=this._marker,u=a._shadow,f=Ir(a._icon),x=a._map.layerPointToLatLng(f);u&&nt(u,f),a._latlng=x,r.latlng=x,r.oldLatLng=this._oldLatLng,a.fire("move",r).fire("drag",r)},_onDragEnd:function(r){te(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),pa=fn.extend({options:{icon:new Ei,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,a){N(this,a),this._latlng=ce(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var a=this._latlng;return this._latlng=ce(r),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=r.icon.createIcon(this._icon),f=!1;u!==this._icon&&(this._icon&&this._removeIcon(),f=!0,r.title&&(u.title=r.title),u.tagName==="IMG"&&(u.alt=r.alt||"")),Ne(u,a),r.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_e(u,"focus",this._panOnFocus,this);var x=r.icon.createShadow(this._shadow),v=!1;x!==this._shadow&&(this._removeShadow(),v=!0),x&&(Ne(x,a),x.alt=""),this._shadow=x,r.opacity<1&&this._updateOpacity(),f&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&v&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Re(this._icon,"focus",this._panOnFocus,this),Fe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Fe(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&nt(this._icon,r),this._shadow&&nt(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(Ne(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Cm)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Cm(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Xt(this._icon,r),this._shadow&&Xt(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var a=this.options.icon.options,u=a.iconSize?F(a.iconSize):F(0,0),f=a.iconAnchor?F(a.iconAnchor):F(0,0);r.panInside(this._latlng,{paddingTopLeft:f,paddingBottomRight:u.subtract(f)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Xw(r,a){return new pa(r,a)}var sr=fn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return N(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ga=sr.extend({options:{fill:!0,radius:10},initialize:function(r,a){N(this,a),this._latlng=ce(r),this._radius=this.options.radius},setLatLng:function(r){var a=this._latlng;return this._latlng=ce(r),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var a=r&&r.radius||this._radius;return sr.prototype.setStyle.call(this,r),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,a=this._radiusY||r,u=this._clickTolerance(),f=[r+u,a+u];this._pxBounds=new X(this._point.subtract(f),this._point.add(f))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Jw(r,a){return new ga(r,a)}var Xc=ga.extend({initialize:function(r,a,u){if(typeof a=="number"&&(a=o({},u,{radius:a})),N(this,a),this._latlng=ce(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new we(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:sr.prototype.setStyle,_project:function(){var r=this._latlng.lng,a=this._latlng.lat,u=this._map,f=u.options.crs;if(f.distance===je.distance){var x=Math.PI/180,v=this._mRadius/je.R/x,A=u.project([a+v,r]),$=u.project([a-v,r]),H=A.add($).divideBy(2),Y=u.unproject(H).lat,se=Math.acos((Math.cos(v*x)-Math.sin(a*x)*Math.sin(Y*x))/(Math.cos(a*x)*Math.cos(Y*x)))/x;(isNaN(se)||se===0)&&(se=v/Math.cos(Math.PI/180*a)),this._point=H.subtract(u.getPixelOrigin()),this._radius=isNaN(se)?0:H.x-u.project([Y,r-se]).x,this._radiusY=H.y-A.y}else{var ge=f.unproject(f.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(ge).x}this._updateBounds()}});function Qw(r,a,u){return new Xc(r,a,u)}var Bn=sr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,a){N(this,a),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var a=1/0,u=null,f=Li,x,v,A=0,$=this._parts.length;A<$;A++)for(var H=this._parts[A],Y=1,se=H.length;Y<se;Y++){x=H[Y-1],v=H[Y];var ge=f(r,x,v,!0);ge<a&&(a=ge,u=f(r,x,v))}return u&&(u.distance=Math.sqrt(a)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nm(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,a){return a=a||this._defaultShape(),r=ce(r),a.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new we,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Jt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var a=[],u=Jt(r),f=0,x=r.length;f<x;f++)u?(a[f]=ce(r[f]),this._bounds.extend(a[f])):a[f]=this._convertLatLngs(r[f]);return a},_project:function(){var r=new X;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),a=new j(r,r);this._rawPxBounds&&(this._pxBounds=new X([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(r,a,u){var f=r[0]instanceof me,x=r.length,v,A;if(f){for(A=[],v=0;v<x;v++)A[v]=this._map.latLngToLayerPoint(r[v]),u.extend(A[v]);a.push(A)}else for(v=0;v<x;v++)this._projectLatlngs(r[v],a,u)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,u,f,x,v,A,$,H;for(u=0,x=0,v=this._rings.length;u<v;u++)for(H=this._rings[u],f=0,A=H.length;f<A-1;f++)$=bm(H[f],H[f+1],r,f,!0),$&&(a[x]=a[x]||[],a[x].push($[0]),($[1]!==H[f+1]||f===A-2)&&(a[x].push($[1]),x++))}},_simplifyPoints:function(){for(var r=this._parts,a=this.options.smoothFactor,u=0,f=r.length;u<f;u++)r[u]=vm(r[u],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,a){var u,f,x,v,A,$,H=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(u=0,v=this._parts.length;u<v;u++)for($=this._parts[u],f=0,A=$.length,x=A-1;f<A;x=f++)if(!(!a&&f===0)&&wm(r,$[x],$[f])<=H)return!0;return!1}});function e_(r,a){return new Bn(r,a)}Bn._flat=jm;var xs=Bn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ym(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var a=Bn.prototype._convertLatLngs.call(this,r),u=a.length;return u>=2&&a[0]instanceof me&&a[0].equals(a[u-1])&&a.pop(),a},_setLatLngs:function(r){Bn.prototype._setLatLngs.call(this,r),Jt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Jt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,a=this.options.weight,u=new j(a,a);if(r=new X(r.min.subtract(u),r.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var f=0,x=this._rings.length,v;f<x;f++)v=xm(this._rings[f],r,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var a=!1,u,f,x,v,A,$,H,Y;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(v=0,H=this._parts.length;v<H;v++)for(u=this._parts[v],A=0,Y=u.length,$=Y-1;A<Y;$=A++)f=u[A],x=u[$],f.y>r.y!=x.y>r.y&&r.x<(x.x-f.x)*(r.y-f.y)/(x.y-f.y)+f.x&&(a=!a);return a||Bn.prototype._containsPoint.call(this,r,!0)}});function t_(r,a){return new xs(r,a)}var Vn=zn.extend({initialize:function(r,a){N(this,a),this._layers={},r&&this.addData(r)},addData:function(r){var a=C(r)?r:r.features,u,f,x;if(a){for(u=0,f=a.length;u<f;u++)x=a[u],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var v=this.options;if(v.filter&&!v.filter(r))return this;var A=xa(r,v);return A?(A.feature=wa(r),A.defaultOptions=A.options,this.resetStyle(A),v.onEachFeature&&v.onEachFeature(r,A),this.addLayer(A)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(a){this._setLayerStyle(a,r)},this)},_setLayerStyle:function(r,a){r.setStyle&&(typeof a=="function"&&(a=a(r.feature)),r.setStyle(a))}});function xa(r,a){var u=r.type==="Feature"?r.geometry:r,f=u?u.coordinates:null,x=[],v=a&&a.pointToLayer,A=a&&a.coordsToLatLng||Jc,$,H,Y,se;if(!f&&!u)return null;switch(u.type){case"Point":return $=A(f),Sm(v,r,$,a);case"MultiPoint":for(Y=0,se=f.length;Y<se;Y++)$=A(f[Y]),x.push(Sm(v,r,$,a));return new zn(x);case"LineString":case"MultiLineString":return H=ya(f,u.type==="LineString"?0:1,A),new Bn(H,a);case"Polygon":case"MultiPolygon":return H=ya(f,u.type==="Polygon"?1:2,A),new xs(H,a);case"GeometryCollection":for(Y=0,se=u.geometries.length;Y<se;Y++){var ge=xa({geometry:u.geometries[Y],type:"Feature",properties:r.properties},a);ge&&x.push(ge)}return new zn(x);case"FeatureCollection":for(Y=0,se=u.features.length;Y<se;Y++){var Ce=xa(u.features[Y],a);Ce&&x.push(Ce)}return new zn(x);default:throw new Error("Invalid GeoJSON object.")}}function Sm(r,a,u,f){return r?r(a,u):new pa(u,f&&f.markersInheritOptions&&f)}function Jc(r){return new me(r[1],r[0],r[2])}function ya(r,a,u){for(var f=[],x=0,v=r.length,A;x<v;x++)A=a?ya(r[x],a-1,u):(u||Jc)(r[x]),f.push(A);return f}function Qc(r,a){return r=ce(r),r.alt!==void 0?[y(r.lng,a),y(r.lat,a),y(r.alt,a)]:[y(r.lng,a),y(r.lat,a)]}function va(r,a,u,f){for(var x=[],v=0,A=r.length;v<A;v++)x.push(a?va(r[v],Jt(r[v])?0:a-1,u,f):Qc(r[v],f));return!a&&u&&x.length>0&&x.push(x[0].slice()),x}function ys(r,a){return r.feature?o({},r.feature,{geometry:a}):wa(a)}function wa(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var eu={toGeoJSON:function(r){return ys(this,{type:"Point",coordinates:Qc(this.getLatLng(),r)})}};pa.include(eu),Xc.include(eu),ga.include(eu),Bn.include({toGeoJSON:function(r){var a=!Jt(this._latlngs),u=va(this._latlngs,a?1:0,!1,r);return ys(this,{type:(a?"Multi":"")+"LineString",coordinates:u})}}),xs.include({toGeoJSON:function(r){var a=!Jt(this._latlngs),u=a&&!Jt(this._latlngs[0]),f=va(this._latlngs,u?2:a?1:0,!0,r);return a||(f=[f]),ys(this,{type:(u?"Multi":"")+"Polygon",coordinates:f})}}),ps.include({toMultiPoint:function(r){var a=[];return this.eachLayer(function(u){a.push(u.toGeoJSON(r).geometry.coordinates)}),ys(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(r){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(r);var u=a==="GeometryCollection",f=[];return this.eachLayer(function(x){if(x.toGeoJSON){var v=x.toGeoJSON(r);if(u)f.push(v.geometry);else{var A=wa(v);A.type==="FeatureCollection"?f.push.apply(f,A.features):f.push(A)}}}),u?ys(this,{geometries:f,type:"GeometryCollection"}):{type:"FeatureCollection",features:f}}});function Pm(r,a){return new Vn(r,a)}var n_=Pm,_a=fn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,a,u){this._url=r,this._bounds=fe(a),N(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ne(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Fe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&fs(this._image),this},bringToBack:function(){return this._map&&ms(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=fe(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",a=this._image=r?this._url:Ee("img");if(Ne(a,"leaflet-image-layer"),this._zoomAnimated&&Ne(a,"leaflet-zoom-animated"),this.options.className&&Ne(a,this.options.className),a.onselectstart=g,a.onmousemove=g,a.onload=c(this.fire,this,"load"),a.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(r){var a=this._map.getZoomScale(r.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Or(this._image,u,a)},_reset:function(){var r=this._image,a=new X(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=a.getSize();nt(r,a.min),r.style.width=u.x+"px",r.style.height=u.y+"px"},_updateOpacity:function(){Xt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),r_=function(r,a,u){return new _a(r,a,u)},Tm=_a.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",a=this._image=r?this._url:Ee("video");if(Ne(a,"leaflet-image-layer"),this._zoomAnimated&&Ne(a,"leaflet-zoom-animated"),this.options.className&&Ne(a,this.options.className),a.onselectstart=g,a.onmousemove=g,a.onloadeddata=c(this.fire,this,"load"),r){for(var u=a.getElementsByTagName("source"),f=[],x=0;x<u.length;x++)f.push(u[x].src);this._url=u.length>0?f:[a.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var A=Ee("source");A.src=this._url[v],a.appendChild(A)}}});function s_(r,a,u){return new Tm(r,a,u)}var Lm=_a.extend({_initImage:function(){var r=this._image=this._url;Ne(r,"leaflet-image-layer"),this._zoomAnimated&&Ne(r,"leaflet-zoom-animated"),this.options.className&&Ne(r,this.options.className),r.onselectstart=g,r.onmousemove=g}});function i_(r,a,u){return new Lm(r,a,u)}var Sn=fn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,a){r&&(r instanceof me||C(r))?(this._latlng=ce(r),N(this,a)):(N(this,r),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Xt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Xt(this._container,1),this.bringToFront(),this.options.interactive&&(Ne(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Xt(this._container,0),this._removeTimeout=setTimeout(c(Fe,void 0,this._container),200)):Fe(this._container),this.options.interactive&&(Je(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=ce(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&fs(this._container),this},bringToBack:function(){return this._map&&ms(this._container),this},_prepareOpen:function(r){var a=this._source;if(!a._map)return!1;if(a instanceof zn){a=null;var u=this._source._layers;for(var f in u)if(u[f]._map){a=u[f];break}if(!a)return!1;this._source=a}if(!r)if(a.getCenter)r=a.getCenter();else if(a.getLatLng)r=a.getLatLng();else if(a.getBounds)r=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")r.innerHTML=a;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),a=F(this.options.offset),u=this._getAnchor();this._zoomAnimated?nt(this._container,r.add(u)):a=a.add(r).add(u);var f=this._containerBottom=-a.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=f+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});Te.include({_initOverlay:function(r,a,u,f){var x=a;return x instanceof r||(x=new r(f).setContent(a)),u&&x.setLatLng(u),x}}),fn.include({_initOverlay:function(r,a,u,f){var x=u;return x instanceof r?(N(x,f),x._source=this):(x=a&&!f?a:new r(f,this),x.setContent(u)),x}});var ba=Sn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Sn.prototype.openOn.call(this,r)},onAdd:function(r){Sn.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof sr||this._source.on("preclick",zr))},onRemove:function(r){Sn.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof sr||this._source.off("preclick",zr))},getEvents:function(){var r=Sn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",a=this._container=Ee("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=Ee("div",r+"-content-wrapper",a);if(this._contentNode=Ee("div",r+"-content",u),Pi(a),Uc(this._contentNode),_e(a,"contextmenu",zr),this._tipContainer=Ee("div",r+"-tip-container",a),this._tip=Ee("div",r+"-tip",this._tipContainer),this.options.closeButton){var f=this._closeButton=Ee("a",r+"-close-button",a);f.setAttribute("role","button"),f.setAttribute("aria-label","Close popup"),f.href="#close",f.innerHTML='<span aria-hidden="true">&#215;</span>',_e(f,"click",function(x){mt(x),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,a=r.style;a.width="",a.whiteSpace="nowrap";var u=r.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),a.width=u+1+"px",a.whiteSpace="",a.height="";var f=r.offsetHeight,x=this.options.maxHeight,v="leaflet-popup-scrolled";x&&f>x?(a.height=x+"px",Ne(r,v)):Je(r,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),u=this._getAnchor();nt(this._container,a.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,a=parseInt(Ni(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+a,f=this._containerWidth,x=new j(this._containerLeft,-u-this._containerBottom);x._add(Ir(this._container));var v=r.layerPointToContainerPoint(x),A=F(this.options.autoPanPadding),$=F(this.options.autoPanPaddingTopLeft||A),H=F(this.options.autoPanPaddingBottomRight||A),Y=r.getSize(),se=0,ge=0;v.x+f+H.x>Y.x&&(se=v.x+f-Y.x+H.x),v.x-se-$.x<0&&(se=v.x-$.x),v.y+u+H.y>Y.y&&(ge=v.y+u-Y.y+H.y),v.y-ge-$.y<0&&(ge=v.y-$.y),(se||ge)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([se,ge]))}},_getAnchor:function(){return F(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),o_=function(r,a){return new ba(r,a)};Te.mergeOptions({closePopupOnClick:!0}),Te.include({openPopup:function(r,a,u){return this._initOverlay(ba,r,a,u).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),fn.include({bindPopup:function(r,a){return this._popup=this._initOverlay(ba,this._popup,r,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof zn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Br(r);var a=r.layer||r.target;if(this._popup._source===a&&!(a instanceof sr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=a,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var ja=Sn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Sn.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Sn.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Sn.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",a=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ee("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var a,u,f=this._map,x=this._container,v=f.latLngToContainerPoint(f.getCenter()),A=f.layerPointToContainerPoint(r),$=this.options.direction,H=x.offsetWidth,Y=x.offsetHeight,se=F(this.options.offset),ge=this._getAnchor();$==="top"?(a=H/2,u=Y):$==="bottom"?(a=H/2,u=0):$==="center"?(a=H/2,u=Y/2):$==="right"?(a=0,u=Y/2):$==="left"?(a=H,u=Y/2):A.x<v.x?($="right",a=0,u=Y/2):($="left",a=H+(se.x+ge.x)*2,u=Y/2),r=r.subtract(F(a,u,!0)).add(se).add(ge),Je(x,"leaflet-tooltip-right"),Je(x,"leaflet-tooltip-left"),Je(x,"leaflet-tooltip-top"),Je(x,"leaflet-tooltip-bottom"),Ne(x,"leaflet-tooltip-"+$),nt(x,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Xt(this._container,r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(a)},_getAnchor:function(){return F(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),a_=function(r,a){return new ja(r,a)};Te.include({openTooltip:function(r,a,u){return this._initOverlay(ja,r,a,u).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),fn.include({bindTooltip:function(r,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ja,this._tooltip,r,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var a=r?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[a](u),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof zn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&(_e(a,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),_e(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var a=r.latlng,u,f;this._tooltip.options.sticky&&r.originalEvent&&(u=this._map.mouseEventToContainerPoint(r.originalEvent),f=this._map.containerPointToLayerPoint(u),a=this._map.layerPointToLatLng(f)),this._tooltip.setLatLng(a)}});var Em=gs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var a=r&&r.tagName==="DIV"?r:document.createElement("div"),u=this.options;if(u.html instanceof Element?(ca(a),a.appendChild(u.html)):a.innerHTML=u.html!==!1?u.html:"",u.bgPos){var f=F(u.bgPos);a.style.backgroundPosition=-f.x+"px "+-f.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function l_(r){return new Em(r)}gs.Default=Ei;var Ai=fn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:le.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){N(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Fe(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(fs(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ms(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof j?r:new j(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var a=this.getPane().children,u=-r(-1/0,1/0),f=0,x=a.length,v;f<x;f++)v=a[f].style.zIndex,a[f]!==this._container&&v&&(u=r(u,+v));isFinite(u)&&(this.options.zIndex=u+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!le.ielt9){Xt(this._container,this.options.opacity);var r=+new Date,a=!1,u=!1;for(var f in this._tiles){var x=this._tiles[f];if(!(!x.current||!x.loaded)){var v=Math.min(1,(r-x.loaded)/200);Xt(x.el,v),v<1?a=!0:(x.active?u=!0:this._onOpaqueTile(x),x.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),a&&(te(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Ee("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,a=this.options.maxZoom;if(r!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===r?(this._levels[u].el.style.zIndex=a-Math.abs(r-u),this._onUpdateLevel(u)):(Fe(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var f=this._levels[r],x=this._map;return f||(f=this._levels[r]={},f.el=Ee("div","leaflet-tile-container leaflet-zoom-animated",this._container),f.el.style.zIndex=a,f.origin=x.project(x.unproject(x.getPixelOrigin()),r).round(),f.zoom=r,this._setZoomTransform(f,x.getCenter(),x.getZoom()),g(f.el.offsetWidth),this._onCreateLevel(f)),this._level=f,f}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var r,a,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)a=this._tiles[r],a.retain=a.current;for(r in this._tiles)if(a=this._tiles[r],a.current&&!a.active){var f=a.coords;this._retainParent(f.x,f.y,f.z,f.z-5)||this._retainChildren(f.x,f.y,f.z,f.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var a in this._tiles)this._tiles[a].coords.z===r&&this._removeTile(a)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Fe(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,a,u,f){var x=Math.floor(r/2),v=Math.floor(a/2),A=u-1,$=new j(+x,+v);$.z=+A;var H=this._tileCoordsToKey($),Y=this._tiles[H];return Y&&Y.active?(Y.retain=!0,!0):(Y&&Y.loaded&&(Y.retain=!0),A>f?this._retainParent(x,v,A,f):!1)},_retainChildren:function(r,a,u,f){for(var x=2*r;x<2*r+2;x++)for(var v=2*a;v<2*a+2;v++){var A=new j(x,v);A.z=u+1;var $=this._tileCoordsToKey(A),H=this._tiles[$];if(H&&H.active){H.retain=!0;continue}else H&&H.loaded&&(H.retain=!0);u+1<f&&this._retainChildren(x,v,u+1,f)}},_resetView:function(r){var a=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var a=this.options;return a.minNativeZoom!==void 0&&r<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<r?a.maxNativeZoom:r},_setView:function(r,a,u,f){var x=Math.round(a);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var v=this.options.updateWhenZooming&&x!==this._tileZoom;(!f||v)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(r),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(r,a)},_setZoomTransforms:function(r,a){for(var u in this._levels)this._setZoomTransform(this._levels[u],r,a)},_setZoomTransform:function(r,a,u){var f=this._map.getZoomScale(u,r.zoom),x=r.origin.multiplyBy(f).subtract(this._map._getNewPixelOrigin(a,u)).round();le.any3d?Or(r.el,x,f):nt(r.el,x)},_resetGrid:function(){var r=this._map,a=r.options.crs,u=this._tileSize=this.getTileSize(),f=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,a.wrapLng[0]],f).x/u.x),Math.ceil(r.project([0,a.wrapLng[1]],f).x/u.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([a.wrapLat[0],0],f).y/u.x),Math.ceil(r.project([a.wrapLat[1],0],f).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var a=this._map,u=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),f=a.getZoomScale(u,this._tileZoom),x=a.project(r,this._tileZoom).floor(),v=a.getSize().divideBy(f*2);return new X(x.subtract(v),x.add(v))},_update:function(r){var a=this._map;if(a){var u=this._clampZoom(a.getZoom());if(r===void 0&&(r=a.getCenter()),this._tileZoom!==void 0){var f=this._getTiledPixelBounds(r),x=this._pxBoundsToTileRange(f),v=x.getCenter(),A=[],$=this.options.keepBuffer,H=new X(x.getBottomLeft().subtract([$,-$]),x.getTopRight().add([$,-$]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Y in this._tiles){var se=this._tiles[Y].coords;(se.z!==this._tileZoom||!H.contains(new j(se.x,se.y)))&&(this._tiles[Y].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(r,u);return}for(var ge=x.min.y;ge<=x.max.y;ge++)for(var Ce=x.min.x;Ce<=x.max.x;Ce++){var St=new j(Ce,ge);if(St.z=this._tileZoom,!!this._isValidTile(St)){var ct=this._tiles[this._tileCoordsToKey(St)];ct?ct.current=!0:A.push(St)}}if(A.sort(function(Dt,ws){return Dt.distanceTo(v)-ws.distanceTo(v)}),A.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qt=document.createDocumentFragment();for(Ce=0;Ce<A.length;Ce++)this._addTile(A[Ce],Qt);this._level.el.appendChild(Qt)}}}},_isValidTile:function(r){var a=this._map.options.crs;if(!a.infinite){var u=this._globalTileRange;if(!a.wrapLng&&(r.x<u.min.x||r.x>u.max.x)||!a.wrapLat&&(r.y<u.min.y||r.y>u.max.y))return!1}if(!this.options.bounds)return!0;var f=this._tileCoordsToBounds(r);return fe(this.options.bounds).overlaps(f)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var a=this._map,u=this.getTileSize(),f=r.scaleBy(u),x=f.add(u),v=a.unproject(f,r.z),A=a.unproject(x,r.z);return[v,A]},_tileCoordsToBounds:function(r){var a=this._tileCoordsToNwSe(r),u=new we(a[0],a[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var a=r.split(":"),u=new j(+a[0],+a[1]);return u.z=+a[2],u},_removeTile:function(r){var a=this._tiles[r];a&&(Fe(a.el),delete this._tiles[r],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Ne(r,"leaflet-tile");var a=this.getTileSize();r.style.width=a.x+"px",r.style.height=a.y+"px",r.onselectstart=g,r.onmousemove=g,le.ielt9&&this.options.opacity<1&&Xt(r,this.options.opacity)},_addTile:function(r,a){var u=this._getTilePos(r),f=this._tileCoordsToKey(r),x=this.createTile(this._wrapCoords(r),c(this._tileReady,this,r));this._initTile(x),this.createTile.length<2&&W(c(this._tileReady,this,r,null,x)),nt(x,u),this._tiles[f]={el:x,coords:r,current:!0},a.appendChild(x),this.fire("tileloadstart",{tile:x,coords:r})},_tileReady:function(r,a,u){a&&this.fire("tileerror",{error:a,tile:u,coords:r});var f=this._tileCoordsToKey(r);u=this._tiles[f],u&&(u.loaded=+new Date,this._map._fadeAnimated?(Xt(u.el,0),te(this._fadeFrame),this._fadeFrame=W(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),a||(Ne(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),le.ielt9||!this._map._fadeAnimated?W(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var a=new j(this._wrapX?p(r.x,this._wrapX):r.x,this._wrapY?p(r.y,this._wrapY):r.y);return a.z=r.z,a},_pxBoundsToTileRange:function(r){var a=this.getTileSize();return new X(r.min.unscaleBy(a).floor(),r.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function c_(r){return new Ai(r)}var vs=Ai.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,a){this._url=r,a=N(this,a),a.detectRetina&&le.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,a){return this._url===r&&a===void 0&&(a=!0),this._url=r,a||this.redraw(),this},createTile:function(r,a){var u=document.createElement("img");return _e(u,"load",c(this._tileOnLoad,this,a,u)),_e(u,"error",c(this._tileOnError,this,a,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(r),u},getTileUrl:function(r){var a={r:le.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-r.y;this.options.tms&&(a.y=u),a["-y"]=u}return _(this._url,o(a,this.options))},_tileOnLoad:function(r,a){le.ielt9?setTimeout(c(r,this,null,a),0):r(null,a)},_tileOnError:function(r,a,u){var f=this.options.errorTileUrl;f&&a.getAttribute("src")!==f&&(a.src=f),r(u,a)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,a=this.options.maxZoom,u=this.options.zoomReverse,f=this.options.zoomOffset;return u&&(r=a-r),r+f},_getSubdomain:function(r){var a=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var r,a;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(a=this._tiles[r].el,a.onload=g,a.onerror=g,!a.complete)){a.src=M;var u=this._tiles[r].coords;Fe(a),delete this._tiles[r],this.fire("tileabort",{tile:a,coords:u})}},_removeTile:function(r){var a=this._tiles[r];if(a)return a.el.setAttribute("src",M),Ai.prototype._removeTile.call(this,r)},_tileReady:function(r,a,u){if(!(!this._map||u&&u.getAttribute("src")===M))return Ai.prototype._tileReady.call(this,r,a,u)}});function Am(r,a){return new vs(r,a)}var Mm=vs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,a){this._url=r;var u=o({},this.defaultWmsParams);for(var f in a)f in this.options||(u[f]=a[f]);a=N(this,a);var x=a.detectRetina&&le.retina?2:1,v=this.getTileSize();u.width=v.x*x,u.height=v.y*x,this.wmsParams=u},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,vs.prototype.onAdd.call(this,r)},getTileUrl:function(r){var a=this._tileCoordsToNwSe(r),u=this._crs,f=ie(u.project(a[0]),u.project(a[1])),x=f.min,v=f.max,A=(this._wmsVersion>=1.3&&this._crs===km?[x.y,x.x,v.y,v.x]:[x.x,x.y,v.x,v.y]).join(","),$=vs.prototype.getTileUrl.call(this,r);return $+S(this.wmsParams,$,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+A},setParams:function(r,a){return o(this.wmsParams,r),a||this.redraw(),this}});function u_(r,a){return new Mm(r,a)}vs.WMS=Mm,Am.wms=u_;var Fn=fn.extend({options:{padding:.1},initialize:function(r){N(this,r),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ne(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,a){var u=this._map.getZoomScale(a,this._zoom),f=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,a),v=f.multiplyBy(-u).add(x).subtract(this._map._getNewPixelOrigin(r,a));le.any3d?Or(this._container,v,u):nt(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,a=this._map.getSize(),u=this._map.containerPointToLayerPoint(a.multiplyBy(-r)).round();this._bounds=new X(u,u.add(a.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Dm=Fn.extend({options:{tolerance:0},getEvents:function(){var r=Fn.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Fn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");_e(r,"mousemove",this._onMouseMove,this),_e(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),_e(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){te(this._redrawRequest),delete this._ctx,Fe(this._container),Re(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var a in this._layers)r=this._layers[a],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fn.prototype._update.call(this);var r=this._bounds,a=this._container,u=r.getSize(),f=le.retina?2:1;nt(a,r.min),a.width=f*u.x,a.height=f*u.y,a.style.width=u.x+"px",a.style.height=u.y+"px",le.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Fn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[h(r)]=r;var a=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var a=r._order,u=a.next,f=a.prev;u?u.prev=f:this._drawLast=f,f?f.next=u:this._drawFirst=u,delete r._order,delete this._layers[h(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var a=r.options.dashArray.split(/[, ]+/),u=[],f,x;for(x=0;x<a.length;x++){if(f=Number(a[x]),isNaN(f))return;u.push(f)}r.options._dashArray=u}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||W(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var a=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new X,this._redrawBounds.extend(r._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(r._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var a=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,a=this._redrawBounds;if(this._ctx.save(),a){var u=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var f=this._drawFirst;f;f=f.next)r=f.layer,(!a||r._pxBounds&&r._pxBounds.intersects(a))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,a){if(this._drawing){var u,f,x,v,A=r._parts,$=A.length,H=this._ctx;if($){for(H.beginPath(),u=0;u<$;u++){for(f=0,x=A[u].length;f<x;f++)v=A[u][f],H[f?"lineTo":"moveTo"](v.x,v.y);a&&H.closePath()}this._fillStroke(H,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var a=r._point,u=this._ctx,f=Math.max(Math.round(r._radius),1),x=(Math.max(Math.round(r._radiusY),1)||f)/f;x!==1&&(u.save(),u.scale(1,x)),u.beginPath(),u.arc(a.x,a.y/x,f,0,Math.PI*2,!1),x!==1&&u.restore(),this._fillStroke(u,r)}},_fillStroke:function(r,a){var u=a.options;u.fill&&(r.globalAlpha=u.fillOpacity,r.fillStyle=u.fillColor||u.color,r.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(r.setLineDash&&r.setLineDash(a.options&&a.options._dashArray||[]),r.globalAlpha=u.opacity,r.lineWidth=u.weight,r.strokeStyle=u.color,r.lineCap=u.lineCap,r.lineJoin=u.lineJoin,r.stroke())},_onClick:function(r){for(var a=this._map.mouseEventToLayerPoint(r),u,f,x=this._drawFirst;x;x=x.next)u=x.layer,u.options.interactive&&u._containsPoint(a)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(u))&&(f=u);this._fireEvent(f?[f]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,a)}},_handleMouseOut:function(r){var a=this._hoveredLayer;a&&(Je(this._container,"leaflet-interactive"),this._fireEvent([a],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,a){if(!this._mouseHoverThrottled){for(var u,f,x=this._drawFirst;x;x=x.next)u=x.layer,u.options.interactive&&u._containsPoint(a)&&(f=u);f!==this._hoveredLayer&&(this._handleMouseOut(r),f&&(Ne(this._container,"leaflet-interactive"),this._fireEvent([f],r,"mouseover"),this._hoveredLayer=f)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,a,u){this._map._fireDOMEvent(a,u||a.type,r)},_bringToFront:function(r){var a=r._order;if(a){var u=a.next,f=a.prev;if(u)u.prev=f;else return;f?f.next=u:u&&(this._drawFirst=u),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(r)}},_bringToBack:function(r){var a=r._order;if(a){var u=a.next,f=a.prev;if(f)f.next=u;else return;u?u.prev=f:f&&(this._drawLast=f),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(r)}}});function Rm(r){return le.canvas?new Dm(r):null}var Mi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),d_={_initContainer:function(){this._container=Ee("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Fn.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var a=r._container=Mi("shape");Ne(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",r._path=Mi("path"),a.appendChild(r._path),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){var a=r._container;this._container.appendChild(a),r.options.interactive&&r.addInteractiveTarget(a)},_removePath:function(r){var a=r._container;Fe(a),r.removeInteractiveTarget(a),delete this._layers[h(r)]},_updateStyle:function(r){var a=r._stroke,u=r._fill,f=r.options,x=r._container;x.stroked=!!f.stroke,x.filled=!!f.fill,f.stroke?(a||(a=r._stroke=Mi("stroke")),x.appendChild(a),a.weight=f.weight+"px",a.color=f.color,a.opacity=f.opacity,f.dashArray?a.dashStyle=C(f.dashArray)?f.dashArray.join(" "):f.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=f.lineCap.replace("butt","flat"),a.joinstyle=f.lineJoin):a&&(x.removeChild(a),r._stroke=null),f.fill?(u||(u=r._fill=Mi("fill")),x.appendChild(u),u.color=f.fillColor||f.color,u.opacity=f.fillOpacity):u&&(x.removeChild(u),r._fill=null)},_updateCircle:function(r){var a=r._point.round(),u=Math.round(r._radius),f=Math.round(r._radiusY||u);this._setPath(r,r._empty()?"M0 0":"AL "+a.x+","+a.y+" "+u+","+f+" 0,"+65535*360)},_setPath:function(r,a){r._path.v=a},_bringToFront:function(r){fs(r._container)},_bringToBack:function(r){ms(r._container)}},Na=le.vml?Mi:Mt,Di=Fn.extend({_initContainer:function(){this._container=Na("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Na("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Fe(this._container),Re(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Fn.prototype._update.call(this);var r=this._bounds,a=r.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,u.setAttribute("width",a.x),u.setAttribute("height",a.y)),nt(u,r.min),u.setAttribute("viewBox",[r.min.x,r.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(r){var a=r._path=Na("path");r.options.className&&Ne(a,r.options.className),r.options.interactive&&Ne(a,"leaflet-interactive"),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Fe(r._path),r.removeInteractiveTarget(r._path),delete this._layers[h(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var a=r._path,u=r.options;a&&(u.stroke?(a.setAttribute("stroke",u.color),a.setAttribute("stroke-opacity",u.opacity),a.setAttribute("stroke-width",u.weight),a.setAttribute("stroke-linecap",u.lineCap),a.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?a.setAttribute("stroke-dasharray",u.dashArray):a.removeAttribute("stroke-dasharray"),u.dashOffset?a.setAttribute("stroke-dashoffset",u.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),u.fill?(a.setAttribute("fill",u.fillColor||u.color),a.setAttribute("fill-opacity",u.fillOpacity),a.setAttribute("fill-rule",u.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(r,a){this._setPath(r,jn(r._parts,a))},_updateCircle:function(r){var a=r._point,u=Math.max(Math.round(r._radius),1),f=Math.max(Math.round(r._radiusY),1)||u,x="a"+u+","+f+" 0 1,0 ",v=r._empty()?"M0 0":"M"+(a.x-u)+","+a.y+x+u*2+",0 "+x+-u*2+",0 ";this._setPath(r,v)},_setPath:function(r,a){r._path.setAttribute("d",a)},_bringToFront:function(r){fs(r._path)},_bringToBack:function(r){ms(r._path)}});le.vml&&Di.include(d_);function Om(r){return le.svg||le.vml?new Di(r):null}Te.include({getRenderer:function(r){var a=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var a=this._paneRenderers[r];return a===void 0&&(a=this._createRenderer({pane:r}),this._paneRenderers[r]=a),a},_createRenderer:function(r){return this.options.preferCanvas&&Rm(r)||Om(r)}});var Im=xs.extend({initialize:function(r,a){xs.prototype.initialize.call(this,this._boundsToLatLngs(r),a)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=fe(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function h_(r,a){return new Im(r,a)}Di.create=Na,Di.pointsToPath=jn,Vn.geometryToLayer=xa,Vn.coordsToLatLng=Jc,Vn.coordsToLatLngs=ya,Vn.latLngToCoords=Qc,Vn.latLngsToCoords=va,Vn.getFeature=ys,Vn.asFeature=wa,Te.mergeOptions({boxZoom:!0});var zm=Cn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){_e(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Re(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Fe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),ki(),Rc(),this._startPoint=this._map.mouseEventToContainerPoint(r),_e(document,{contextmenu:Br,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=Ee("div","leaflet-zoom-box",this._container),Ne(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var a=new X(this._point,this._startPoint),u=a.getSize();nt(this._box,a.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Fe(this._box),Je(this._container,"leaflet-crosshair")),Ci(),Oc(),Re(document,{contextmenu:Br,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var a=new we(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Te.addInitHook("addHandler","boxZoom",zm),Te.mergeOptions({doubleClickZoom:!0});var Bm=Cn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var a=this._map,u=a.getZoom(),f=a.options.zoomDelta,x=r.originalEvent.shiftKey?u-f:u+f;a.options.doubleClickZoom==="center"?a.setZoom(x):a.setZoomAround(r.containerPoint,x)}});Te.addInitHook("addHandler","doubleClickZoom",Bm),Te.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Vm=Cn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new rr(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Ne(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Je(this._map._container,"leaflet-grab"),Je(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=fe(this._map.options.maxBounds);this._offsetLimit=ie(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var a=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(a),this._prunePositions(a)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,a){return r-(r-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;r.x<a.min.x&&(r.x=this._viscousLimit(r.x,a.min.x)),r.y<a.min.y&&(r.y=this._viscousLimit(r.y,a.min.y)),r.x>a.max.x&&(r.x=this._viscousLimit(r.x,a.max.x)),r.y>a.max.y&&(r.y=this._viscousLimit(r.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,a=Math.round(r/2),u=this._initialWorldOffset,f=this._draggable._newPos.x,x=(f-a+u)%r+a-u,v=(f+a+u)%r-a-u,A=Math.abs(x+u)<Math.abs(v+u)?x:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=A},_onDragEnd:function(r){var a=this._map,u=a.options,f=!u.inertia||r.noInertia||this._times.length<2;if(a.fire("dragend",r),f)a.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,A=u.easeLinearity,$=x.multiplyBy(A/v),H=$.distanceTo([0,0]),Y=Math.min(u.inertiaMaxSpeed,H),se=$.multiplyBy(Y/H),ge=Y/(u.inertiaDeceleration*A),Ce=se.multiplyBy(-ge/2).round();!Ce.x&&!Ce.y?a.fire("moveend"):(Ce=a._limitOffset(Ce,a.options.maxBounds),W(function(){a.panBy(Ce,{duration:ge,easeLinearity:A,noMoveStart:!0,animate:!0})}))}}});Te.addInitHook("addHandler","dragging",Vm),Te.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Fm=Cn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),_e(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Re(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,a=document.documentElement,u=r.scrollTop||a.scrollTop,f=r.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(f,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var a=this._panKeys={},u=this.keyCodes,f,x;for(f=0,x=u.left.length;f<x;f++)a[u.left[f]]=[-1*r,0];for(f=0,x=u.right.length;f<x;f++)a[u.right[f]]=[r,0];for(f=0,x=u.down.length;f<x;f++)a[u.down[f]]=[0,r];for(f=0,x=u.up.length;f<x;f++)a[u.up[f]]=[0,-1*r]},_setZoomDelta:function(r){var a=this._zoomKeys={},u=this.keyCodes,f,x;for(f=0,x=u.zoomIn.length;f<x;f++)a[u.zoomIn[f]]=r;for(f=0,x=u.zoomOut.length;f<x;f++)a[u.zoomOut[f]]=-r},_addHooks:function(){_e(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Re(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var a=r.keyCode,u=this._map,f;if(a in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(f=this._panKeys[a],r.shiftKey&&(f=F(f).multiplyBy(3)),u.options.maxBounds&&(f=u._limitOffset(F(f),u.options.maxBounds)),u.options.worldCopyJump){var x=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(f)));u.panTo(x)}else u.panBy(f)}else if(a in this._zoomKeys)u.setZoom(u.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;Br(r)}}});Te.addInitHook("addHandler","keyboard",Fm),Te.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var $m=Cn.extend({addHooks:function(){_e(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Re(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var a=hm(r),u=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var f=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),f),Br(r)},_performZoom:function(){var r=this._map,a=r.getZoom(),u=this._map.options.zoomSnap||0;r._stop();var f=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(f))))/Math.LN2,v=u?Math.ceil(x/u)*u:x,A=r._limitZoom(a+(this._delta>0?v:-v))-a;this._delta=0,this._startTime=null,A&&(r.options.scrollWheelZoom==="center"?r.setZoom(a+A):r.setZoomAround(this._lastMousePos,a+A))}});Te.addInitHook("addHandler","scrollWheelZoom",$m);var f_=600;Te.mergeOptions({tapHold:le.touchNative&&le.safari&&le.mobile,tapTolerance:15});var Um=Cn.extend({addHooks:function(){_e(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Re(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var a=r.touches[0];this._startPos=this._newPos=new j(a.clientX,a.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(_e(document,"touchend",mt),_e(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),f_),_e(document,"touchend touchcancel contextmenu",this._cancel,this),_e(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Re(document,"touchend",mt),Re(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Re(document,"touchend touchcancel contextmenu",this._cancel,this),Re(document,"touchmove",this._onMove,this)},_onMove:function(r){var a=r.touches[0];this._newPos=new j(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,a){var u=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});u._simulated=!0,a.target.dispatchEvent(u)}});Te.addInitHook("addHandler","tapHold",Um),Te.mergeOptions({touchZoom:le.touch,bounceAtZoomLimits:!0});var Wm=Cn.extend({addHooks:function(){Ne(this._map._container,"leaflet-touch-zoom"),_e(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Je(this._map._container,"leaflet-touch-zoom"),Re(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var a=this._map;if(!(!r.touches||r.touches.length!==2||a._animatingZoom||this._zooming)){var u=a.mouseEventToContainerPoint(r.touches[0]),f=a.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(u.add(f)._divideBy(2))),this._startDist=u.distanceTo(f),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),_e(document,"touchmove",this._onTouchMove,this),_e(document,"touchend touchcancel",this._onTouchEnd,this),mt(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var a=this._map,u=a.mouseEventToContainerPoint(r.touches[0]),f=a.mouseEventToContainerPoint(r.touches[1]),x=u.distanceTo(f)/this._startDist;if(this._zoom=a.getScaleZoom(x,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&x<1||this._zoom>a.getMaxZoom()&&x>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var v=u._add(f)._divideBy(2)._subtract(this._centerPoint);if(x===1&&v.x===0&&v.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),te(this._animRequest);var A=c(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=W(A,this,!0),mt(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,te(this._animRequest),Re(document,"touchmove",this._onTouchMove,this),Re(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Te.addInitHook("addHandler","touchZoom",Wm),Te.BoxZoom=zm,Te.DoubleClickZoom=Bm,Te.Drag=Vm,Te.Keyboard=Fm,Te.ScrollWheelZoom=$m,Te.TapHold=Um,Te.TouchZoom=Wm,n.Bounds=X,n.Browser=le,n.CRS=Q,n.Canvas=Dm,n.Circle=Xc,n.CircleMarker=ga,n.Class=U,n.Control=hn,n.DivIcon=Em,n.DivOverlay=Sn,n.DomEvent=Ew,n.DomUtil=Tw,n.Draggable=rr,n.Evented=B,n.FeatureGroup=zn,n.GeoJSON=Vn,n.GridLayer=Ai,n.Handler=Cn,n.Icon=gs,n.ImageOverlay=_a,n.LatLng=me,n.LatLngBounds=we,n.Layer=fn,n.LayerGroup=ps,n.LineUtil=Ww,n.Map=Te,n.Marker=pa,n.Mixin=zw,n.Path=sr,n.Point=j,n.PolyUtil=Bw,n.Polygon=xs,n.Polyline=Bn,n.Popup=ba,n.PosAnimation=fm,n.Projection=Hw,n.Rectangle=Im,n.Renderer=Fn,n.SVG=Di,n.SVGOverlay=Lm,n.TileLayer=vs,n.Tooltip=ja,n.Transformation=de,n.Util=R,n.VideoOverlay=Tm,n.bind=c,n.bounds=ie,n.canvas=Rm,n.circle=Qw,n.circleMarker=Jw,n.control=Ti,n.divIcon=l_,n.extend=o,n.featureGroup=qw,n.geoJSON=Pm,n.geoJson=n_,n.gridLayer=c_,n.icon=Yw,n.imageOverlay=r_,n.latLng=ce,n.latLngBounds=fe,n.layerGroup=Gw,n.map=Aw,n.marker=Xw,n.point=F,n.polygon=t_,n.polyline=e_,n.popup=o_,n.rectangle=h_,n.setOptions=N,n.stamp=h,n.svg=Om,n.svgOverlay=i_,n.tileLayer=Am,n.tooltip=a_,n.transformation=pe,n.version=s,n.videoOverlay=s_;var m_=window.L;n.noConflict=function(){return window.L=m_,this},window.L=n})})(vh,vh.exports);var JT=vh.exports;const jt=F0(JT),QT=({vehicleStats:e,recentActivity:t,formatTimeAgo:n,driversStats:s,tripsStats:o})=>i.jsxs("div",{className:"space-y-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Business Overview"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6",children:[i.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"})})}),i.jsx("div",{className:"ml-5 w-0 flex-1",children:i.jsxs("dl",{children:[i.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Vehicles"}),i.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.total})]})})]})})}),i.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsx("div",{className:"ml-5 w-0 flex-1",children:i.jsxs("dl",{children:[i.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Vehicles"}),i.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.active})]})})]})})}),i.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsxs("svg",{className:"h-6 w-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),i.jsx("div",{className:"ml-5 w-0 flex-1",children:i.jsxs("dl",{children:[i.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"In Maintenance"}),i.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.maintenance})]})})]})})}),i.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-6 w-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),i.jsx("div",{className:"ml-5 w-0 flex-1",children:i.jsxs("dl",{children:[i.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Retired Vehicles"}),i.jsx("dd",{className:"text-lg font-medium text-gray-900",children:e.retired})]})})]})})}),i.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-6 w-6 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),i.jsx("div",{className:"ml-5 w-0 flex-1",children:i.jsxs("dl",{children:[i.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Drivers Hired"}),i.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(s==null?void 0:s.hired)||0})]})})]})})}),i.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-6 w-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})}),i.jsx("div",{className:"ml-5 w-0 flex-1",children:i.jsxs("dl",{children:[i.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Trips"}),i.jsx("dd",{className:"text-lg font-medium text-gray-900",children:(o==null?void 0:o.total)||0})]})})]})})})]}),i.jsx("div",{className:"bg-white shadow rounded-lg",children:i.jsxs("div",{className:"px-6 py-6 sm:p-8",children:[i.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Recent Activity"}),i.jsx("div",{className:"mt-5",children:t.length===0?i.jsxs("div",{className:"text-center py-6",children:[i.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"})}),i.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No recent activity"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add vehicles to see activity here."})]}):i.jsx("div",{className:"flow-root",children:i.jsx("ul",{className:"space-y-6",children:t.map((l,c)=>{let d="bg-blue-500",h=i.jsx("svg",{className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"})});return l.type==="driver_hired"?(d="bg-indigo-500",h=i.jsx("svg",{className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})):l.type==="trip_created"&&(d="bg-orange-500",h=i.jsx("svg",{className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})),i.jsx("li",{children:i.jsxs("div",{className:"relative flex items-start space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("span",{className:`h-10 w-10 rounded-full ${d} flex items-center justify-center ring-4 ring-white shadow-sm`,children:h})}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-gray-900",children:l.message}),l.vehicle&&i.jsx("div",{className:"mt-2",children:i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:l.vehicle.status})}),l.driver&&i.jsx("div",{className:"mt-2",children:i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:"Hired"})}),l.trip&&i.jsx("div",{className:"mt-2",children:i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:l.trip.status})})]}),i.jsx("div",{className:"ml-4 flex-shrink-0",children:i.jsx("time",{className:"text-xs text-gray-500",children:n(l.timestamp)})})]})})]})},l.id)})})})})]})})]}),eL=({vehicles:e,loading:t,clearVehicleForm:n,setShowAddVehicle:s,handleViewVehicleDetails:o,handleEditVehicle:l,handleDeleteVehicle:c})=>i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Fleet Management"}),i.jsxs("button",{onClick:()=>{n(),s(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium flex items-center",children:[i.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Vehicle"]})]}),i.jsxs("div",{className:"bg-white shadow rounded-lg",children:[i.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:i.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Your Vehicles (",e.length,")"]})}),t?i.jsxs("div",{className:"p-6 text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading vehicles..."})]}):e.length===0?i.jsxs("div",{className:"p-6 text-center",children:[i.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"})}),i.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No vehicles"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding your first vehicle."}),i.jsx("div",{className:"mt-6",children:i.jsx("button",{onClick:()=>{n(),s(!0)},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Add Vehicle"})})]}):i.jsx("div",{className:"p-6",children:i.jsx("div",{className:"space-y-4",children:e.map(d=>{var h;return i.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"w-1/3 p-4",children:(h=d.vehicleImage)!=null&&h.url?i.jsx("img",{src:d.vehicleImage.url,alt:"Vehicle",className:"w-full h-40 object-cover rounded-md"}):i.jsx("div",{className:"w-full h-40 bg-gray-200 rounded-md flex items-center justify-center",children:i.jsx("svg",{className:"h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"})})})}),i.jsxs("div",{className:"w-2/3 p-4 flex flex-col justify-between",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:d.registeredNumber}),i.jsx("p",{className:"text-sm text-gray-600",children:d.makersName})]}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"space-y-1",children:[d.seatingCapacity&&i.jsxs("p",{className:"text-sm text-gray-500",children:["Seats: ",d.seatingCapacity]}),d.vehicleType&&i.jsxs("p",{className:"text-sm text-gray-500",children:["Type: ",d.vehicleType]})]})})]}),i.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[i.jsx("button",{onClick:()=>o(d),className:"text-blue-600 hover:text-blue-800 font-medium",children:"View Details"}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:()=>l(d),className:"text-gray-600 hover:text-gray-800 p-2 rounded-md hover:bg-gray-100",title:"Edit Vehicle",children:i.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),i.jsx("button",{onClick:()=>c(d._id),className:"text-red-600 hover:text-red-800 p-2 rounded-md hover:bg-red-50",title:"Delete Vehicle",children:i.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]})]})]})},d._id)})})})]})]}),tL=({activeSubTab:e,setActiveSubTab:t,drivers:n,hiredDrivers:s,pendingOffers:o,driversLoading:l,hiredDriversLoading:c,pendingOffersLoading:d,fetchAvailableDrivers:h,fetchHiredDrivers:m,fetchPendingOffers:p,selectedDriver:g,showDriverDetails:y,setSelectedDriver:P,setShowDriverDetails:w,offerForm:N,setOfferForm:S,showOfferModal:k,setShowOfferModal:_})=>{const[C,E]=b.useState(null),[M,V]=b.useState({}),[O,z]=b.useState(!1),[ee,J]=b.useState(""),[W,te]=b.useState({HMV:!1,LMV:!1,MCWG:!1,MCWOG:!1}),R=async j=>{try{z(!0);const T=localStorage.getItem("token");if(!T)return;const F=await fetch(`/api/drivers/${j}`,{headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"}});if(F.ok){const X=await F.json();V(ie=>({...ie,[j]:X.driver}))}else console.error("Failed to fetch driver details",F.status),G.error("Failed to fetch driver details")}catch(T){console.error("Error fetching driver details",T),G.error("Error fetching driver details")}finally{z(!1)}},U=j=>{C===j?E(null):(E(j),M[j]||R(j))},I=j=>j.filter(T=>(ee===""||T.name&&T.name.toLowerCase().includes(ee.toLowerCase())||T.dlNumber&&T.dlNumber.toLowerCase().includes(ee.toLowerCase()))&&(()=>{const ie=Object.entries(W).filter(([fe,me])=>me);if(ie.length===0)return!0;const we=Array.isArray(T.vehicleClass)?T.vehicleClass:[T.vehicleClass];return ie.some(([fe,me])=>we.some(ce=>ce===fe))})()),D=j=>{te(T=>({...T,[j]:!T[j]}))},B=()=>{J(""),te({HMV:!1,LMV:!1,MCWG:!1,MCWOG:!1})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Hire Drivers"}),i.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md text-sm",onClick:()=>{h(),m(),p()},children:"Refresh"})]}),i.jsxs("div",{className:"bg-white shadow rounded-lg",children:[i.jsx("div",{className:"border-b border-gray-200",children:i.jsxs("nav",{className:"flex space-x-8 px-6",children:[i.jsx("button",{onClick:()=>t(j=>({...j,drivers:"available"})),className:`py-4 px-1 border-b-2 font-medium text-sm ${e.drivers==="available"?"border-yellow-500 text-yellow-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Available Drivers"}),i.jsx("button",{onClick:()=>t(j=>({...j,drivers:"pending"})),className:`py-4 px-1 border-b-2 font-medium text-sm ${e.drivers==="pending"?"border-yellow-500 text-yellow-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Pending Offers"}),i.jsx("button",{onClick:()=>t(j=>({...j,drivers:"hired"})),className:`py-4 px-1 border-b-2 font-medium text-sm ${e.drivers==="hired"?"border-yellow-500 text-yellow-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Hired Drivers"})]})}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-6",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),i.jsx("input",{type:"text",placeholder:"Search drivers by name or DL number...",value:ee,onChange:j=>J(j.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500"})]})}),i.jsxs("div",{className:"flex flex-wrap items-center space-x-4",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Vehicle Class:"}),["HMV","LMV","MCWG","MCWOG"].map(j=>i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:W[j],onChange:()=>D(j),className:"h-4 w-4 text-yellow-600 focus:ring-yellow-500 border-gray-300 rounded"}),i.jsx("span",{className:"ml-2 text-sm text-gray-700",children:j})]},j))]}),i.jsx("button",{onClick:B,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Clear Filters"})]})}),e.drivers==="available"&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Available Drivers"}),i.jsx("div",{className:"bg-white",children:l?i.jsxs("div",{className:"p-6 text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading drivers..."})]}):n.length===0?i.jsxs("div",{className:"text-center text-gray-600",children:[i.jsx("p",{children:"No available drivers found."}),i.jsx("p",{className:"text-sm mt-2",children:"All drivers may have pending offers or be hired by other businesses."})]}):(()=>{const j=I(n);return j.length===0?i.jsxs("div",{className:"text-center text-gray-600",children:[i.jsx("p",{children:"No drivers match your search criteria."}),i.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your search terms or filters."})]}):i.jsx("div",{className:"space-y-4",children:j.map(T=>i.jsxs("div",{className:"border rounded-lg shadow-sm bg-white hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[T.profileImage?i.jsx("img",{src:T.profileImage,alt:T.name||"Driver",className:"w-12 h-12 rounded-full object-cover"}):i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-lg",children:T.name?T.name.charAt(0).toUpperCase():"D"}),i.jsx("div",{children:i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:T.name||"Unnamed Driver"})})]}),i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:["DL: ",T.dlNumber||"N/A"]}),i.jsx("span",{className:"text-sm text-gray-600",children:Array.isArray(T.vehicleClass)?T.vehicleClass.join(", "):T.vehicleClass||"N/A"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{className:"text-blue-600 hover:text-blue-800 font-medium text-sm",onClick:()=>U(T._id||T.id),children:C===(T._id||T.id)?"Hide Details":"View Details"}),i.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1.5 rounded-md text-sm",onClick:()=>{P(T),S({message:"",salaryPerDay:""}),_(!0)},children:"Send Job Offer"})]})]})]})}),C===(T._id||T.id)&&i.jsx("div",{className:"border-t bg-gray-50 p-5",children:O?i.jsxs("div",{className:"flex items-center justify-center py-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),i.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Loading details..."})]}):M[T._id||T.id]?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),i.jsx("p",{className:"text-sm text-gray-900",children:M[T._id||T.id].name||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DL Number"}),i.jsx("p",{className:"text-sm text-gray-900",children:M[T._id||T.id].dlNumber||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),i.jsx("p",{className:"text-sm text-gray-900",children:M[T._id||T.id].dateOfBirth?new Date(M[T._id||T.id].dateOfBirth).toLocaleDateString():"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Group"}),i.jsx("p",{className:"text-sm text-gray-900",children:M[T._id||T.id].bloodGroup||"N/A"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),i.jsx("p",{className:"text-sm text-gray-900",children:M[T._id||T.id].permanentAddress||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Classes"}),i.jsx("p",{className:"text-sm text-gray-900",children:Array.isArray(M[T._id||T.id].vehicleClass)?M[T._id||T.id].vehicleClass.join(", "):M[T._id||T.id].vehicleClass||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DL Validity"}),i.jsx("p",{className:"text-sm text-gray-900",children:M[T._id||T.id].dlValidity?new Date(M[T._id||T.id].dlValidity).toLocaleDateString():"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M[T._id||T.id].status==="Available"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:M[T._id||T.id].status||"N/A"})]})]})]}):i.jsx("div",{className:"text-center text-gray-500 py-4",children:i.jsx("p",{children:"Failed to load driver details"})})})]},T._id||T.id))})})()})]}),e.drivers==="pending"&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Pending Job Offers"}),i.jsx("div",{className:"bg-white",children:d?i.jsxs("div",{className:"p-6 text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading pending offers..."})]}):o.length===0?i.jsxs("div",{className:"text-center text-gray-600",children:[i.jsx("p",{children:"No pending job offers."}),i.jsx("p",{className:"text-sm mt-2",children:"All your job offers have been responded to."})]}):(()=>{const j=I(o.map(T=>T.driver)).map(T=>o.find(F=>F.driver._id===T._id||F.driver.id===T.id));return j.length===0?i.jsxs("div",{className:"text-center text-gray-600",children:[i.jsx("p",{children:"No pending offers match your search criteria."}),i.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your search terms or filters."})]}):i.jsx("div",{className:"space-y-4",children:j.map(T=>i.jsx("div",{className:"border rounded-lg shadow-sm bg-white hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"p-5",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[T.driver.profileImage?i.jsx("img",{src:T.driver.profileImage,alt:T.driver.name||"Driver",className:"w-12 h-12 rounded-full object-cover"}):i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-orange-600 rounded-full flex items-center justify-center text-white font-semibold text-lg",children:T.driver.name?T.driver.name.charAt(0).toUpperCase():"D"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:T.driver.name||"Unnamed Driver"}),i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 mt-1",children:"Pending Response"})]})]}),i.jsx("div",{className:"flex items-center space-x-6",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:["DL: ",T.driver.dlNumber||"N/A"]}),i.jsx("span",{className:"text-sm text-gray-600",children:Array.isArray(T.driver.vehicleClass)?T.driver.vehicleClass.join(", "):T.driver.vehicleClass||"N/A"}),i.jsxs("span",{className:"text-sm text-gray-600",children:["Salary: ",T.salaryPerDay,"/day"]})]})})]}),i.jsxs("div",{className:"mt-4 pt-4 border-t",children:[i.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[i.jsx("p",{className:"text-sm text-gray-700 font-medium mb-1",children:"Message:"}),i.jsx("p",{className:"text-sm text-gray-600",children:T.message})]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Sent: ",new Date(T.sentAt).toLocaleDateString()]})]})]})},T.id))})})()})]}),e.drivers==="hired"&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Hired Drivers"}),i.jsx("div",{className:"bg-white",children:c?i.jsxs("div",{className:"p-6 text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading hired drivers..."})]}):s.length===0?i.jsx("div",{className:"text-center text-gray-600",children:"You have not hired any drivers yet."}):(()=>{const j=I(s);return j.length===0?i.jsxs("div",{className:"text-center text-gray-600",children:[i.jsx("p",{children:"No hired drivers match your search criteria."}),i.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your search terms or filters."})]}):i.jsx("div",{className:"space-y-4",children:j.map(T=>i.jsxs("div",{className:"border rounded-lg shadow-sm bg-white hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[T.profileImage?i.jsx("img",{src:T.profileImage,alt:T.name||"Driver",className:"w-12 h-12 rounded-full object-cover"}):i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center text-white font-semibold text-lg",children:T.name?T.name.charAt(0).toUpperCase():"D"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:T.name||"Unnamed Driver"}),i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 mt-1",children:"Hired"})]})]}),i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:["DL: ",T.dlNumber||"N/A"]}),i.jsx("span",{className:"text-sm text-gray-600",children:Array.isArray(T.vehicleClass)?T.vehicleClass.join(", "):T.vehicleClass||"N/A"})]}),i.jsx("div",{children:i.jsx("button",{className:"text-blue-600 hover:text-blue-800 font-medium text-sm",onClick:()=>U(T._id||T.id),children:C===(T._id||T.id)?"Hide Details":"View Details"})})]})]})}),C===(T._id||T.id)&&i.jsx("div",{className:"border-t bg-gray-50 p-5",children:O?i.jsxs("div",{className:"flex items-center justify-center py-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),i.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Loading details..."})]}):M[T._id||T.id]?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),i.jsx("p",{className:"text-sm text-gray-900",children:M[T._id||T.id].name||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DL Number"}),i.jsx("p",{className:"text-sm text-gray-900",children:M[T._id||T.id].dlNumber||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),i.jsx("p",{className:"text-sm text-gray-900",children:M[T._id||T.id].dateOfBirth?new Date(M[T._id||T.id].dateOfBirth).toLocaleDateString():"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Group"}),i.jsx("p",{className:"text-sm text-gray-900",children:M[T._id||T.id].bloodGroup||"N/A"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),i.jsx("p",{className:"text-sm text-gray-900",children:M[T._id||T.id].permanentAddress||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Classes"}),i.jsx("p",{className:"text-sm text-gray-900",children:Array.isArray(M[T._id||T.id].vehicleClass)?M[T._id||T.id].vehicleClass.join(", "):M[T._id||T.id].vehicleClass||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DL Validity"}),i.jsx("p",{className:"text-sm text-gray-900",children:M[T._id||T.id].dlValidity?new Date(M[T._id||T.id].dlValidity).toLocaleDateString():"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M[T._id||T.id].status==="Available"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:M[T._id||T.id].status||"N/A"})]})]})]}):i.jsx("div",{className:"text-center text-gray-500 py-4",children:i.jsx("p",{children:"Failed to load driver details"})})})]},T._id||T.id))})})()})]})]})]}),k&&g&&i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:i.jsx("div",{className:"relative top-24 mx-auto p-5 border w-11/12 md:w-1/2 lg:w-1/3 shadow-lg rounded-md bg-white",children:i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Send Job Offer"}),i.jsx("button",{onClick:()=>_(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),i.jsx("textarea",{rows:3,value:N.message,onChange:j=>S(T=>({...T,message:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Write a short message to the driver"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salary / day (INR)"}),i.jsx("input",{type:"number",min:"0",value:N.salaryPerDay,onChange:j=>S(T=>({...T,salaryPerDay:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., 1500"})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),i.jsx("button",{onClick:async()=>{try{const j=localStorage.getItem("token"),T=await fetch("/api/job-offers",{method:"POST",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"},body:JSON.stringify({driverId:g._id||g.id,message:N.message,salaryPerDay:Number(N.salaryPerDay)})});if(T.ok)G.success("Offer sent"),_(!1),h(),p();else{const F=await T.json();G.error(F.message||"Failed to send offer")}}catch(j){console.error(j),G.error("Failed to send offer")}},className:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md",children:"Send Offer"})]})]})})})]})},nL=()=>{const[e,t]=b.useState([]),[n,s]=b.useState(!1),[o,l]=b.useState(null),[c,d]=b.useState({}),[h,m]=b.useState(!1),[p,g]=b.useState(""),[y,P]=b.useState("all"),[w,N]=b.useState(!1),[S,k]=b.useState(""),[_,C]=b.useState(null),[E,M]=b.useState(""),[V,O]=b.useState(0),[z,ee]=b.useState("");b.useEffect(()=>{J()},[]);const J=async()=>{try{s(!0);const j=localStorage.getItem("token");if(!j)return;const T=await fetch("/api/drivers/hired",{headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}});if(T.ok){const F=await T.json();t(Array.isArray(F.drivers)?F.drivers:[])}else console.error("Failed to fetch hired drivers",T.status),G.error("Failed to fetch hired drivers")}catch(j){console.error("Error fetching hired drivers",j),G.error("Error fetching hired drivers")}finally{s(!1)}},W=async j=>{try{m(!0);const T=localStorage.getItem("token");if(!T)return;const F=await fetch(`/api/drivers/${j}`,{headers:{Authorization:`Bearer ${T}`,"Content-Type":"application/json"}});if(F.ok){const X=await F.json();d(ie=>({...ie,[j]:X.driver}))}else console.error("Failed to fetch driver details",F.status),G.error("Failed to fetch driver details")}catch(T){console.error("Error fetching driver details",T),G.error("Error fetching driver details")}finally{m(!1)}},te=j=>{o===j?l(null):(l(j),c[j]||W(j))},R=(j,T)=>{C(j),k(T),M(""),O(0),ee(""),N(!0)},U=async()=>{if(!(!_||!S))try{const j=localStorage.getItem("token");if(!j)return;let T="",F={};switch(S){case"on-leave":T=`/api/drivers/${_._id||_.id}/status`,F={status:"on-leave",reason:E};break;case"suspend":T=`/api/drivers/${_._id||_.id}/status`,F={status:"suspended",reason:E};break;case"remove":T=`/api/drivers/${_._id||_.id}/remove`,F={reason:E,rating:V,review:z};break;default:return}const X=await fetch(T,{method:"PUT",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"},body:JSON.stringify(F)});if(X.ok){const ie={"on-leave":"Driver marked as on leave",suspend:"Driver suspended",remove:"Driver removed and made available for hiring"};G.success(ie[S]),N(!1),J()}else{const ie=await X.json();G.error(ie.message||`Failed to ${S} driver`)}}catch(j){console.error(`Error ${S} driver:`,j),G.error(`Failed to ${S} driver`)}},I=j=>{const T={active:{color:"bg-green-100 text-green-800",text:"Active"},"on-leave":{color:"bg-yellow-100 text-yellow-800",text:"On Leave"},suspended:{color:"bg-red-100 text-red-800",text:"Suspended"},hired:{color:"bg-blue-100 text-blue-800",text:"Hired"}},F=T[j]||T.hired;return i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${F.color}`,children:F.text})},B=(j=>j.filter(T=>{const F=p===""||T.name&&T.name.toLowerCase().includes(p.toLowerCase())||T.dlNumber&&T.dlNumber.toLowerCase().includes(p.toLowerCase()),X=y==="all"||T.status===y;return F&&X}))(e);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Driver Management"}),i.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md text-sm",onClick:J,children:"Refresh"})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border p-4",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-6",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),i.jsx("input",{type:"text",placeholder:"Search drivers by name or DL number...",value:p,onChange:j=>g(j.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Status:"}),i.jsxs("select",{value:y,onChange:j=>P(j.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"on-leave",children:"On Leave"}),i.jsx("option",{value:"suspended",children:"Suspended"})]})]})]})}),i.jsx("div",{className:"bg-white shadow rounded-lg",children:i.jsx("div",{className:"p-6",children:n?i.jsxs("div",{className:"p-6 text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading drivers..."})]}):e.length===0?i.jsxs("div",{className:"text-center text-gray-600",children:[i.jsx("p",{children:"No hired drivers found."}),i.jsx("p",{className:"text-sm mt-2",children:"Hire drivers from the Hire page to manage them here."})]}):B.length===0?i.jsxs("div",{className:"text-center text-gray-600",children:[i.jsx("p",{children:"No drivers match your search criteria."}),i.jsx("p",{className:"text-sm mt-2",children:"Try adjusting your search terms or filters."})]}):i.jsx("div",{className:"space-y-4",children:B.map(j=>i.jsxs("div",{className:"border rounded-lg shadow-sm bg-white hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"p-5",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[j.profileImage?i.jsx("img",{src:j.profileImage,alt:j.name||"Driver",className:"w-12 h-12 rounded-full object-cover"}):i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center text-white font-semibold text-lg",children:j.name?j.name.charAt(0).toUpperCase():"D"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j.name||"Unnamed Driver"}),i.jsx("div",{className:"flex items-center space-x-2 mt-1",children:I(j.status)})]})]}),i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:["DL: ",j.dlNumber||"N/A"]}),i.jsx("span",{className:"text-sm text-gray-600",children:Array.isArray(j.vehicleClass)?j.vehicleClass.join(", "):j.vehicleClass||"N/A"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{className:"text-blue-600 hover:text-blue-800 font-medium text-sm",onClick:()=>te(j._id||j.id),children:o===(j._id||j.id)?"Hide Details":"View Details"}),i.jsxs("div",{className:"flex space-x-1",children:[i.jsx("button",{className:"bg-yellow-600 hover:bg-yellow-700 text-white px-2 py-1 rounded text-xs",onClick:()=>R(j,"on-leave"),disabled:j.status==="on-leave",children:"On Leave"}),i.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded text-xs",onClick:()=>R(j,"suspend"),disabled:j.status==="suspended",children:"Suspend"}),i.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 text-white px-2 py-1 rounded text-xs",onClick:()=>R(j,"remove"),children:"Remove"})]})]})]})]})}),o===(j._id||j.id)&&i.jsx("div",{className:"border-t bg-gray-50 p-5",children:h?i.jsxs("div",{className:"flex items-center justify-center py-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),i.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Loading details..."})]}):c[j._id||j.id]?i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),i.jsx("p",{className:"text-sm text-gray-900",children:c[j._id||j.id].name||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DL Number"}),i.jsx("p",{className:"text-sm text-gray-900",children:c[j._id||j.id].dlNumber||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),i.jsx("p",{className:"text-sm text-gray-900",children:c[j._id||j.id].dateOfBirth?new Date(c[j._id||j.id].dateOfBirth).toLocaleDateString():"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Group"}),i.jsx("p",{className:"text-sm text-gray-900",children:c[j._id||j.id].bloodGroup||"N/A"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),i.jsx("p",{className:"text-sm text-gray-900",children:c[j._id||j.id].permanentAddress||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Classes"}),i.jsx("p",{className:"text-sm text-gray-900",children:Array.isArray(c[j._id||j.id].vehicleClass)?c[j._id||j.id].vehicleClass.join(", "):c[j._id||j.id].vehicleClass||"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"DL Validity"}),i.jsx("p",{className:"text-sm text-gray-900",children:c[j._id||j.id].dlValidity?new Date(c[j._id||j.id].dlValidity).toLocaleDateString():"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),I(c[j._id||j.id].status)]})]})]}):i.jsx("div",{className:"text-center text-gray-500 py-4",children:i.jsx("p",{children:"Failed to load driver details"})})})]},j._id||j.id))})})}),w&&_&&i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:i.jsx("div",{className:"relative top-24 mx-auto p-5 border w-11/12 md:w-1/2 lg:w-1/3 shadow-lg rounded-md bg-white",children:i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[S==="on-leave"&&"Mark Driver as On Leave",S==="suspend"&&"Suspend Driver",S==="remove"&&"Remove Driver"]}),i.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[i.jsxs("p",{className:"text-sm text-gray-700",children:[i.jsx("strong",{children:"Driver:"})," ",_.name||"Unnamed Driver"]}),i.jsxs("p",{className:"text-sm text-gray-700",children:[i.jsx("strong",{children:"DL Number:"})," ",_.dlNumber||"N/A"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reason *"}),i.jsx("textarea",{rows:3,value:E,onChange:j=>M(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter reason for this action...",required:!0})]}),S==="remove"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rating (1-5 stars)"}),i.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(j=>i.jsx("button",{type:"button",onClick:()=>O(j),className:`text-2xl ${j<=V?"text-yellow-400":"text-gray-300"}`,children:""},j))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Review"}),i.jsx("textarea",{rows:3,value:z,onChange:j=>ee(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Write a review about this driver..."})]})]}),i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:i.jsxs("p",{className:"text-sm text-yellow-800",children:[S==="on-leave"&&"This will mark the driver as on leave. They will not be available for new assignments.",S==="suspend"&&"This will suspend the driver. They will not be available for any assignments until unsuspended.",S==="remove"&&"This will remove the driver from your team and make them available for hiring by other businesses."]})})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),i.jsxs("button",{onClick:U,disabled:!E.trim(),className:`px-4 py-2 text-sm font-medium text-white rounded-md ${S==="on-leave"?"bg-yellow-600 hover:bg-yellow-700":S==="suspend"?"bg-red-600 hover:bg-red-700":"bg-gray-600 hover:bg-gray-700"} disabled:bg-gray-400`,children:[S==="on-leave"&&"Mark as On Leave",S==="suspend"&&"Suspend Driver",S==="remove"&&"Remove Driver"]})]})]})})})]})},rL=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),i.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:i.jsx("p",{className:"text-gray-600",children:"Reports and analytics features will be implemented here."})})]}),sL=({vehicles:e,onRefreshVehicles:t})=>{const n=b.useRef(null),s=b.useRef(null),o=b.useRef(null),l=b.useRef([]),[c,d]=b.useState([]),[h,m]=b.useState(!1),[p,g]=b.useState({waypoints:[],route:[],distanceKm:0,startDate:"",endDate:"",vehicleId:"",driverId:"",driverBata:0,ratePerKm:0,vehicleRent:0,totalAmount:0,numDays:1}),[y,P]=b.useState({start:[],end:[]}),[w,N]=b.useState({vehicles:new Set,drivers:new Set});b.useEffect(()=>{!s.current&&n.current&&(s.current=jt.map(n.current,{zoomControl:!0,scrollWheelZoom:!1,preferCanvas:!0}).setView([20.5937,78.9629],5),jt.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:" OpenStreetMap"}).addTo(s.current))},[]),b.useEffect(()=>{g(R=>!R.waypoints||R.waypoints.length<2?{...R,waypoints:[{address:"",coords:null},{address:"",coords:null}]}:R)},[]),b.useEffect(()=>{(async()=>{try{const U=localStorage.getItem("token");if(!U)return;const[I,D]=await Promise.all([Ae.get("/api/drivers/available",{headers:{Authorization:`Bearer ${U}`}}),Ae.get("/api/drivers/hired",{headers:{Authorization:`Bearer ${U}`}})]),B=Array.isArray(I.data.drivers)?I.data.drivers:[],j=Array.isArray(D.data.drivers)?D.data.drivers:[],T=new Map;[...B,...j].forEach(F=>T.set(String(F._id||F.id),F)),d(Array.from(T.values()))}catch(U){console.error(U)}})(),t==null||t()},[]);const S=async R=>{if(!R||R.length<3)return[];const U=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(R)}&limit=5&countrycodes=IN`;return(await(await fetch(U,{headers:{"Accept-Language":"en"}})).json()).map(B=>({display:B.display_name,lat:parseFloat(B.lat),lng:parseFloat(B.lon)}))},k=async(R,U)=>{g(I=>{const D={...I};return D.waypoints[R]={...D.waypoints[R]||{},address:U},D});try{const I=await S(U);P(D=>({...D,[R]:I}))}catch(I){console.error(I)}},_=(R,U)=>{if(g(I=>{const D={...I};return D.waypoints[R]={address:U.display,coords:{lat:U.lat,lng:U.lng}},D}),s.current&&s.current.setView([U.lat,U.lng],12),P(I=>({...I,[R]:[]})),s.current){const I=jt.icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"}),D=jt.marker([U.lat,U.lng],{icon:I}).bindPopup(U.display);l.current[R]&&s.current.removeLayer(l.current[R]),D.addTo(s.current),l.current[R]=D}},C=R=>{if(!s.current)return;o.current&&(s.current.removeLayer(o.current),o.current=null),o.current=jt.polyline(R.map(I=>[I.lat,I.lng]),{color:"blue",weight:4}).addTo(s.current);const U=o.current.getBounds();s.current.fitBounds(U,{padding:[20,20]})},E=async()=>{if(!p.waypoints||p.waypoints.length<2)return;const R=p.waypoints.filter(B=>B==null?void 0:B.coords).map(B=>`${B.coords.lng},${B.coords.lat}`);if(R.length<2)return;const U=`/api/maps/osrm?coords=${encodeURIComponent(R.join(";"))}`,I=`https://router.project-osrm.org/route/v1/driving/${R.join(";")}?overview=full&geometries=geojson`;let D;try{const B=await fetch(U);if(!B.ok)throw new Error(`Backend proxy ${B.status}`);D=await B.json()}catch(B){try{const j=`https://corsproxy.io/?${encodeURIComponent(I)}`,T=await fetch(j);if(!T.ok)throw new Error(`corsproxy.io ${T.status}`);D=await T.json()}catch(j){console.error("Route fetch failed",B,j),G.error("Failed to calculate route");return}}if(D.routes&&D.routes[0]){const B=D.routes[0],j=B.geometry.coordinates.map(([F,X])=>({lat:X,lng:F})),T=+(B.distance/1e3).toFixed(2);g(F=>({...F,route:j,distanceKm:T})),C(j)}else G.error("No route found")};b.useEffect(()=>{E()},[JSON.stringify(p.waypoints)]);const M=()=>{g(R=>({...R,waypoints:[...R.waypoints||[],{address:"",coords:null}]}))},V=R=>{g(U=>{const I={...U};return I.waypoints=I.waypoints.filter((D,B)=>B!==R),I})},O=(R,U)=>{g(I=>{const D={...I},B=[...D.waypoints],j=B.splice(R,1)[0];return B.splice(U,0,j),D.waypoints=B,D})},z=()=>new Date().toISOString().split("T")[0],ee=()=>{const R=new Date;return R.setMonth(R.getMonth()+2),R.toISOString().split("T")[0]},J=()=>{if(!p.startDate||!p.endDate)return;const R=new Date(p.startDate),I=new Date(p.endDate)-R;if(I<0)return;const D=Math.max(1,Math.floor(I/(1e3*60*60*24))+1),B=(p.driverBata||0)*D+(p.ratePerKm||0)*(p.distanceKm||0)+(p.vehicleRent||0)*D;g(j=>({...j,numDays:D,totalAmount:+B.toFixed(2)}))};b.useEffect(()=>{J()},[p.startDate,p.endDate,p.driverBata,p.ratePerKm,p.vehicleRent,p.distanceKm]);const W=async()=>{var R;if(!(!p.startDate||!p.endDate))try{const U=localStorage.getItem("token"),I=await Ae.get("/api/trips/availability",{params:{startDate:p.startDate,endDate:p.endDate},headers:{Authorization:`Bearer ${U}`}});N({vehicles:new Set(I.data.unavailableVehicles||[]),drivers:new Set(I.data.unavailableDrivers||[])})}catch(U){if(((R=U.response)==null?void 0:R.status)===404)return;console.error(U)}};b.useEffect(()=>{W()},[p.startDate,p.endDate]);const te=async R=>{var U,I,D,B,j,T;R.preventDefault();try{m(!0);const F=localStorage.getItem("token"),X={trip_id:`TRIP-${Date.now()}`,startAddress:(U=p.waypoints[0])==null?void 0:U.address,endAddress:(I=p.waypoints[p.waypoints.length-1])==null?void 0:I.address,startCoords:(D=p.waypoints[0])==null?void 0:D.coords,endCoords:(B=p.waypoints[p.waypoints.length-1])==null?void 0:B.coords,route:p.route,distanceKm:p.distanceKm,startDate:p.startDate,endDate:p.endDate,vehicleId:p.vehicleId,driverId:p.driverId,status:"scheduled",driverBata:p.driverBata,ratePerKm:p.ratePerKm,vehicleRent:p.vehicleRent,totalAmount:p.totalAmount,numDays:p.numDays},ie=await Ae.post("/api/trips",X,{headers:{Authorization:`Bearer ${F}`}});G.success("Trip created"),g(we=>({...we,waypoints:[],route:[],distanceKm:0,vehicleId:"",driverId:"",driverBata:0,ratePerKm:0,vehicleRent:0,totalAmount:0,numDays:1})),o.current&&s.current&&(s.current.removeLayer(o.current),o.current=null)}catch(F){const X=((T=(j=F.response)==null?void 0:j.data)==null?void 0:T.message)||"Failed to create trip";G.error(X)}finally{m(!1)}};return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-1 bg-white shadow rounded-lg p-6 space-y-4",children:i.jsxs("form",{onSubmit:te,className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Route"}),i.jsx("button",{type:"button",onClick:M,className:"text-blue-600 hover:text-blue-800 text-sm",children:"Add destination"})]}),i.jsxs("div",{className:"space-y-3",children:[p.waypoints.map((R,U)=>i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{value:R.address||"",onChange:I=>k(U,I.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:U===0?"Choose starting point...":U===p.waypoints.length-1?"Choose destination...":`Stop ${U}`}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{type:"button",onClick:()=>O(U,Math.max(0,U-1)),disabled:U===0,className:"p-2 rounded border disabled:opacity-40",title:"Move up",children:""}),i.jsx("button",{type:"button",onClick:()=>O(U,Math.min(p.waypoints.length-1,U+1)),disabled:U===p.waypoints.length-1,className:"p-2 rounded border disabled:opacity-40",title:"Move down",children:""}),i.jsx("button",{type:"button",onClick:()=>V(U),disabled:p.waypoints.length<=2&&(U===0||U===p.waypoints.length-1),className:"p-2 rounded border disabled:opacity-40",title:"Remove",children:""})]})]}),Array.isArray(y[U])&&y[U].length>0&&i.jsx("div",{className:"border rounded mt-1 bg-white max-h-40 overflow-auto z-10",children:y[U].map((I,D)=>i.jsx("button",{type:"button",onClick:()=>_(U,I),className:"w-full text-left px-3 py-2 hover:bg-gray-100",children:I.display},`wg-${U}-${D}`))})]},U)),p.waypoints.length<2&&i.jsx("p",{className:"text-xs text-gray-500",children:"Add at least a start and a destination."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start date"}),i.jsx("input",{type:"date",min:z(),max:ee(),value:p.startDate,onChange:R=>g(U=>({...U,startDate:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End date"}),i.jsx("input",{type:"date",min:p.startDate||z(),max:ee(),value:p.endDate,onChange:R=>g(U=>({...U,endDate:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver bata (per day)"}),i.jsx("input",{type:"number",min:"0",value:p.driverBata,onChange:R=>g(U=>({...U,driverBata:Number(R.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rate per km"}),i.jsx("input",{type:"number",min:"0",value:p.ratePerKm,onChange:R=>g(U=>({...U,ratePerKm:Number(R.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle rent (per day)"}),i.jsx("input",{type:"number",min:"0",value:p.vehicleRent,onChange:R=>g(U=>({...U,vehicleRent:Number(R.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle"}),i.jsxs("select",{value:p.vehicleId,onChange:R=>g(U=>({...U,vehicleId:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Select vehicle"}),e.map(R=>i.jsxs("option",{value:R._id,disabled:w.vehicles.has(String(R._id)),children:[R.registeredNumber," ",w.vehicles.has(String(R._id))?"(Unavailable)":""]},R._id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver"}),i.jsxs("select",{value:p.driverId,onChange:R=>g(U=>({...U,driverId:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Select driver"}),c.map(R=>i.jsxs("option",{value:R._id||R.id,disabled:w.drivers.has(String(R._id||R.id)),children:[R.name||"Unnamed Driver"," ",w.drivers.has(String(R._id||R.id))?"(Unavailable)":""]},R._id||R.id))]})]}),i.jsxs("div",{className:"w-full text-sm text-gray-700 bg-gray-50 border border-gray-200 rounded-md p-3 flex flex-wrap gap-6",children:[i.jsxs("div",{children:["Days: ",i.jsx("span",{className:"font-medium",children:p.numDays})]}),i.jsxs("div",{children:["Distance: ",i.jsxs("span",{className:"font-medium",children:[p.distanceKm," km"]})," ",i.jsx("button",{type:"button",onClick:E,className:"ml-2 text-blue-600 hover:text-blue-800",children:"Recompute"})]}),i.jsxs("div",{children:["Total: ",i.jsxs("span",{className:"font-semibold",children:[" ",p.totalAmount.toLocaleString()]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"submit",disabled:h||p.waypoints.filter(R=>R==null?void 0:R.coords).length<2||!p.vehicleId||!p.driverId||!p.startDate||!p.endDate,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm disabled:bg-gray-400",children:h?"Creating...":"Create Trip"})})]})}),i.jsx("div",{className:"lg:col-span-2 bg-white shadow rounded-lg p-2 overflow-hidden",children:i.jsx("div",{ref:n,className:"w-full h-[480px] rounded-md overflow-hidden"})})]})})},iL=()=>{const[e,t]=b.useState([]),[n,s]=b.useState(!1),o=async()=>{try{s(!0);const c=localStorage.getItem("token"),d=await fetch("/api/trips",{headers:{Authorization:`Bearer ${c}`}});if(!d.ok)throw new Error("Failed to load trips");const h=await d.json();t(Array.isArray(h.trips)?h.trips:[])}catch(c){console.error(c),G.error("Failed to load trips")}finally{s(!1)}};b.useEffect(()=>{o()},[]);const l=async c=>{if(confirm("Delete this trip?"))try{const d=localStorage.getItem("token");if(!(await fetch(`/api/trips/${c}`,{method:"DELETE",headers:{Authorization:`Bearer ${d}`}})).ok)throw new Error("Delete failed");G.success("Trip deleted"),o()}catch(d){console.error(d),G.error("Failed to delete trip")}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["All Trips (",e.length,")"]}),i.jsx("button",{onClick:o,className:"text-sm px-3 py-1.5 rounded-md bg-blue-600 text-white hover:bg-blue-700",children:"Refresh"})]}),i.jsx("div",{className:"bg-white shadow rounded-lg",children:n?i.jsx("div",{className:"p-6",children:"Loading..."}):e.length===0?i.jsx("div",{className:"p-6 text-gray-600",children:"No trips yet."}):i.jsx("div",{className:"p-4 space-y-3",children:e.map(c=>{var d,h;return i.jsxs("div",{className:"border rounded-md p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-sm text-gray-900 font-medium",children:[c.startAddress,"  ",c.endAddress]}),i.jsxs("div",{className:"text-xs text-gray-600",children:[new Date(c.startDate).toLocaleDateString()," - ",new Date(c.endDate).toLocaleDateString(),"  ",c.numDays||1," day(s)"]}),i.jsxs("div",{className:"text-xs text-gray-600",children:["Distance: ",c.distanceKm," km  Total:  ",Number(c.totalAmount||0).toLocaleString()]}),i.jsxs("div",{className:"text-xs text-gray-500",children:["Vehicle: ",((d=c.vehicleId)==null?void 0:d.registeredNumber)||c.vehicleId,"  Driver: ",((h=c.driverId)==null?void 0:h.name)||c.driverId]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${c.status==="completed"?"bg-green-100 text-green-800":c.status==="in_progress"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:c.status}),i.jsx("button",{onClick:()=>l(c._id),className:"text-red-600 hover:text-red-800 text-sm",children:"Delete"})]})]},c._id)})})})]})},oL=({activeSubTab:e,setActiveSubTab:t,vehicles:n,fetchVehicles:s})=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Trips"})}),i.jsxs("div",{className:"bg-white shadow rounded-lg",children:[i.jsx("div",{className:"border-b border-gray-200",children:i.jsxs("nav",{className:"flex space-x-8 px-6",children:[i.jsx("button",{onClick:()=>t(o=>({...o,trips:"add"})),className:`py-4 px-1 border-b-2 font-medium text-sm ${e.trips==="add"?"border-yellow-500 text-yellow-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Add Trip"}),i.jsx("button",{onClick:()=>t(o=>({...o,trips:"view"})),className:`py-4 px-1 border-b-2 font-medium text-sm ${e.trips==="view"?"border-yellow-500 text-yellow-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"View Trips"})]})}),i.jsxs("div",{className:"p-6",children:[e.trips==="add"&&i.jsx(sL,{vehicles:n,onRefreshVehicles:s}),e.trips==="view"&&i.jsx(iL,{})]})]})]});delete jt.Icon.Default.prototype._getIconUrl;jt.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const aL=({onProfileUpdate:e})=>{const[t,n]=b.useState(null),[s,o]=b.useState(!0),[l,c]=b.useState(!1),[d,h]=b.useState(!1),[m,p]=b.useState({profileIcon:null,email:"",companyName:"",ownerName:"",contactNumber:"",panCard:"",panCardImage:null,address:{line1:"",line2:"",city:"",state:"",pincode:"",country:"India"}}),[g,y]=b.useState({coordinates:null,address:""}),[P,w]=b.useState(!1),[N,S]=b.useState(null),[k,_]=b.useState(null),[C,E]=b.useState(!1),[M,V]=b.useState(!1),[O,z]=b.useState([]),[ee,J]=b.useState({isValid:null,suggestions:[],loading:!1}),[W,te]=b.useState(!1),R=b.useRef(null),U=b.useRef(null),I=b.useRef(null);b.useEffect(()=>{D()},[]),b.useEffect(()=>{t===null&&!s&&c(!0)},[t,s]),b.useEffect(()=>{l&&w(!0)},[l]),b.useEffect(()=>{if(P&&!N&&R.current){const ue=setTimeout(()=>{console.log("Initializing Leaflet map...");try{const ae=jt.map(R.current).setView([28.6139,77.209],10);jt.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors"}).addTo(ae),S(ae),console.log("Map initialized successfully"),ae.on("click",de=>{const{lat:pe,lng:Pe}=de.latlng;console.log("Map clicked:",pe,Pe),y(Mt=>({...Mt,coordinates:{lat:pe,lng:Pe}})),k&&ae.removeLayer(k);const qe=jt.marker([pe,Pe]).addTo(ae);_(qe),we(pe,Pe)})}catch(ae){console.error("Error initializing map:",ae),te(!0)}},100);return()=>clearTimeout(ue)}},[P,N]),b.useEffect(()=>{if(N&&g.coordinates){console.log("Updating map location:",g.coordinates),N.setView([g.coordinates.lat,g.coordinates.lng],15),k&&N.removeLayer(k);const ue=jt.marker([g.coordinates.lat,g.coordinates.lng]).addTo(N);_(ue)}},[g.coordinates,N]),b.useEffect(()=>()=>{N&&(console.log("Cleaning up map..."),N.remove())},[N]);const D=async()=>{var ue,ae,de,pe,Pe,qe,Mt;try{o(!0);const jn=localStorage.getItem("token");if(!jn){console.log("No token found for business profile");return}const Nn=await fetch("/api/business/profile",{headers:{Authorization:`Bearer ${jn}`,"Content-Type":"application/json"}});if(Nn.ok){const De=await Nn.json();n(De.business),p({profileIcon:De.business.profileIcon||null,email:((ue=De.business.userId)==null?void 0:ue.email)||"",companyName:De.business.companyName||"",ownerName:De.business.ownerName||"",contactNumber:De.business.contactNumber||"",panCard:De.business.panCard||"",panCardImage:De.business.panCardImage||null,address:{line1:((ae=De.business.address)==null?void 0:ae.line1)||"",line2:((de=De.business.address)==null?void 0:de.line2)||"",city:((pe=De.business.address)==null?void 0:pe.city)||"",state:((Pe=De.business.address)==null?void 0:Pe.state)||"",pincode:((qe=De.business.address)==null?void 0:qe.pincode)||"",country:((Mt=De.business.address)==null?void 0:Mt.country)||"India"}}),De.business.location&&De.business.location.coordinates&&y({coordinates:{lat:De.business.location.coordinates[1],lng:De.business.location.coordinates[0]},address:De.business.location.address||""}),console.log("Business profile fetched:",De.business)}else Nn.status===404?(console.log("Business profile not found, fetching user info"),n(null),await B()):(console.error("Failed to fetch business profile:",Nn.status),G.error("Failed to load business profile"))}catch(jn){console.error("Error fetching business profile:",jn),G.error("Error loading business profile")}finally{o(!1)}},B=async()=>{try{const ue=localStorage.getItem("token");if(!ue){console.log("No token found for user info");return}const ae=await fetch("/api/business/user-info",{headers:{Authorization:`Bearer ${ue}`,"Content-Type":"application/json"}});if(ae.ok){const de=await ae.json();console.log("User info fetched:",de.user),p(pe=>({...pe,email:de.user.email||""}))}else console.error("Failed to fetch user info:",ae.status)}catch(ue){console.error("Error fetching user info:",ue)}},j=async ue=>{ue.preventDefault();try{h(!0);const ae=localStorage.getItem("token"),de={...m,location:g.coordinates?{coordinates:g.coordinates,address:g.address,accuracy:g.accuracy||null,source:g.source||"manual",confidence:g.confidence||null}:null};console.log("Sending profile data:",JSON.stringify(de,null,2));const pe=await fetch("/api/business/profile",{method:"POST",headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"},body:JSON.stringify(de)});if(pe.ok){const Pe=await pe.json();n(Pe.business),c(!1),G.success("Business profile saved successfully!"),console.log("Business profile saved:",Pe.business),e&&e()}else{const Pe=await pe.json();console.error("Profile save error:",Pe),console.error("Response status:",pe.status),G.error("Error saving profile: "+Pe.message)}}catch(ae){console.error("Error saving business profile:",ae),G.error("Error saving business profile")}finally{h(!1)}},T=ue=>{const{name:ae,value:de}=ue.target;if(ae.includes(".")){const[pe,Pe]=ae.split(".");p(qe=>({...qe,[pe]:{...qe[pe],[Pe]:de}}))}else p(pe=>({...pe,[ae]:de}))},F=(ue,ae)=>{const de=ue.target.files[0];if(de){const pe=new FileReader;pe.onload=Pe=>{ae==="profileIcon"?p(qe=>({...qe,profileIcon:Pe.target.result})):ae==="panCardImage"&&(p(qe=>({...qe,panCardImage:Pe.target.result})),X(Pe.target.result))},pe.readAsDataURL(de)}},X=async ue=>{try{V(!0);const ae=localStorage.getItem("token");if(!ae){G.error("Please login first");return}console.log("Extracting PAN data...");const de=await fetch("/api/business/extract-pan",{method:"POST",headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"},body:JSON.stringify({imageUrl:ue})});if(de.ok){const pe=await de.json();if(console.log("PAN extraction response:",pe),pe.data&&pe.data.panNumber){const Pe=[];p(qe=>{const Mt={...qe,panCard:pe.data.panNumber||qe.panCard};return pe.data.panNumber&&Pe.push("PAN Card Number"),Mt}),z(Pe),console.log("PAN data extracted successfully"),G.success(`Updated: ${Pe.join(", ")}`),setTimeout(()=>{z([])},3e3)}else console.warn("No PAN number found in image"),G.error("No PAN number found in the image"),ce()}else{const pe=await de.json();console.error("PAN extraction failed:",pe),pe.error&&pe.error.includes("Insufficient credits")?G.error("PAN extraction service is temporarily unavailable. Please enter the PAN number manually."):pe.error&&pe.error.includes("API key not configured")?G.error("PAN extraction service is not configured. Please enter the PAN number manually."):G.error("Failed to extract PAN data: "+(pe.message||"Unknown error")),ce()}}catch(ae){console.error("Error extracting PAN data:",ae),G.error("Error extracting PAN data: "+ae.message),ce()}finally{V(!1)}},ie=()=>{if(!navigator.geolocation){G.error("Geolocation is not supported by this browser");return}E(!0),navigator.geolocation.getCurrentPosition(ue=>{const{latitude:ae,longitude:de}=ue.coords;console.log("Current location:",ae,de),y(pe=>({...pe,coordinates:{lat:ae,lng:de},source:"gps"})),we(ae,de),E(!1)},ue=>{console.error("Error getting location:",ue),G.error("Unable to get your location"),E(!1)})},we=async(ue,ae)=>{try{const de=await fetch(`/api/maps/reverse-geocode?lat=${ue}&lng=${ae}`);if(de.ok){const pe=await de.json();y(Pe=>({...Pe,address:pe.address}))}}catch(de){console.error("Reverse geocoding error:",de)}},fe=async()=>{const ue=`${m.address.line1||""}${m.address.line2?", "+m.address.line2:""}, ${m.address.city||""}, ${m.address.state||""} ${m.address.pincode||""}, ${m.address.country||"India"}`;if(!m.address.line1&&!m.address.city&&!m.address.state&&!m.address.pincode){G.error("Please enter at least some address information to find location");return}try{E(!0);const ae=await fetch(`/api/maps/geocode-enhanced?address=${encodeURIComponent(ue)}`);if(ae.ok){const de=await ae.json();console.log("Geocoding result:",de),y({coordinates:de.coordinates,address:de.address,confidence:de.confidence,source:"geocoded"}),G.success(`Location found! (Confidence: ${Math.round(de.confidence*100)}%)`)}else G.error("Address not found")}catch(ae){console.error("Geocoding error:",ae),G.error("Error finding location")}finally{E(!1)}},me=()=>{y({coordinates:null,address:""}),k&&N&&(N.removeLayer(k),_(null))},ce=()=>{p(ue=>({...ue,panCardImage:null})),I.current&&(I.current.value="")},Q=ue=>O.includes(ue),je=async()=>{const ue=`${m.address.line1||""}${m.address.line2?", "+m.address.line2:""}, ${m.address.city||""}, ${m.address.state||""} ${m.address.pincode||""}, ${m.address.country||"India"}`;if(!m.address.line1&&!m.address.city&&!m.address.state&&!m.address.pincode){J({isValid:!1,suggestions:[],loading:!1}),G.error("Please enter at least some address information to validate");return}try{J(de=>({...de,loading:!0}));const ae=await fetch(`/api/maps/geocode-enhanced?address=${encodeURIComponent(ue)}`);if(ae.ok){const de=await ae.json();J({isValid:!0,suggestions:[{address:de.address,confidence:de.confidence,coordinates:de.coordinates}],loading:!1}),de.confidence>.7&&y({coordinates:de.coordinates,address:de.address,confidence:de.confidence,source:"geocoded"})}else J({isValid:!1,suggestions:[],loading:!1})}catch(ae){console.error("Address validation error:",ae),J({isValid:!1,suggestions:[],loading:!1})}};return s?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Business Profile"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your business information and location"})]}),!l&&t&&i.jsxs("button",{onClick:()=>c(!0),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-6 py-3 rounded-lg font-medium flex items-center transition-colors",children:[i.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Profile"]})]}),i.jsx("form",{onSubmit:j,className:"space-y-6",noValidate:!0,children:i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-yellow-200 overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-yellow-500 to-yellow-600 px-6 py-8",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-20 w-20 bg-white rounded-full flex items-center justify-center overflow-hidden shadow-lg",children:m.profileIcon?i.jsx("img",{src:m.profileIcon,alt:"Profile",className:"h-full w-full object-cover"}):i.jsx("svg",{className:"h-10 w-10 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"ml-6 text-white",children:[i.jsx("h2",{className:"text-2xl font-bold",children:m.companyName||"Company Name"}),i.jsx("p",{className:"text-yellow-100 text-lg",children:m.ownerName||"Owner Name"}),m.address.city&&i.jsxs("p",{className:"text-yellow-200 text-sm mt-1",children:[m.address.city,", ",m.address.state]})]})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Icon"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:m.profileIcon?i.jsx("img",{src:m.profileIcon,alt:"Profile",className:"h-full w-full object-cover"}):i.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),i.jsx("input",{ref:U,type:"file",accept:"image/*",onChange:ue=>F(ue,"profileIcon"),className:"block text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-yellow-50 file:text-yellow-700 hover:file:bg-yellow-100"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),i.jsx("input",{type:"email",name:"email",value:m.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-100 text-gray-600 cursor-not-allowed",placeholder:"Email address"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Email cannot be changed"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number"}),i.jsx("input",{type:"tel",name:"contactNumber",value:m.contactNumber,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter contact number"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),i.jsx("input",{type:"text",name:"companyName",value:m.companyName,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter company name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Owner Name"}),i.jsx("input",{type:"text",name:"ownerName",value:m.ownerName,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Enter owner name"})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[i.jsx("svg",{className:"h-5 w-5 mr-2 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"PAN Card Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PAN Card Image"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-lg bg-gray-200 flex items-center justify-center overflow-hidden",children:m.panCardImage?i.jsx("img",{src:m.panCardImage,alt:"PAN Card",className:"h-full w-full object-cover"}):i.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})})}),i.jsx("input",{ref:I,type:"file",accept:"image/*",onChange:ue=>F(ue,"panCardImage"),className:"block text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-yellow-50 file:text-yellow-700 hover:file:bg-yellow-100"})]}),i.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Upload a clear image of your PAN card. We'll automatically extract the PAN number.",i.jsx("br",{}),i.jsx("span",{className:"text-yellow-600 font-medium",children:"Note: If auto-extraction fails, you can manually enter the PAN number below."})]}),M&&i.jsxs("div",{className:"mt-2 flex items-center text-yellow-600",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-yellow-600 mr-2"}),i.jsx("span",{className:"text-sm",children:"Extracting PAN data..."})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PAN Card Number"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"text",name:"panCard",value:m.panCard,onChange:T,className:`flex-1 px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500 ${Q("PAN Card Number")?"border-green-500 bg-green-50 text-green-800":"border-gray-300"}`,placeholder:"ABCDE1234F",style:{textTransform:"uppercase"}}),i.jsx("button",{type:"button",onClick:()=>{const ue=m.panCard.toUpperCase();/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(ue)?G.success("PAN number format is valid!"):G.error("Please enter a valid PAN number (e.g., ABCDE1234F)")},className:"px-3 py-2 bg-yellow-100 text-yellow-700 rounded-md hover:bg-yellow-200 text-sm font-medium",children:"Validate"})]}),Q("PAN Card Number")&&i.jsx("p",{className:"text-xs text-green-600 mt-1",children:" Auto-extracted from image"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: 5 letters, 4 numbers, 1 letter (e.g., ABCDE1234F)"})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[i.jsxs("svg",{className:"h-5 w-5 mr-2 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Address"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 1"}),i.jsx("input",{type:"text",name:"address.line1",value:m.address.line1,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Street address"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address Line 2"}),i.jsx("input",{type:"text",name:"address.line2",value:m.address.line2,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Apartment, suite, etc. (optional)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),i.jsx("input",{type:"text",name:"address.city",value:m.address.city,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"City"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),i.jsx("input",{type:"text",name:"address.state",value:m.address.state,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"State"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),i.jsx("input",{type:"text",name:"address.pincode",value:m.address.pincode,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"123456"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),i.jsx("input",{type:"text",name:"address.country",value:m.address.country,onChange:T,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Country"})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{type:"button",onClick:je,disabled:ee.loading,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 flex items-center",children:ee.loading?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Validating..."]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Validate Address"]})}),ee.isValid!==null&&i.jsx("div",{className:"flex items-center",children:ee.isValid?i.jsxs("div",{className:"flex items-center text-green-600",children:[i.jsx("svg",{className:"h-5 w-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),i.jsx("span",{className:"text-sm font-medium",children:"Valid Address"})]}):i.jsxs("div",{className:"flex items-center text-red-600",children:[i.jsx("svg",{className:"h-5 w-5 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),i.jsx("span",{className:"text-sm font-medium",children:"Invalid Address"})]})})]}),ee.suggestions.length>0&&i.jsxs("div",{className:"mt-3 bg-blue-50 border border-blue-200 rounded-lg p-3",children:[i.jsx("h6",{className:"text-sm font-medium text-blue-900 mb-2",children:"Address Suggestions"}),ee.suggestions.map((ue,ae)=>i.jsxs("div",{className:"text-sm text-blue-800",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Suggested:"})," ",ue.address]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Confidence:"})," ",Math.round(ue.confidence*100),"%"]}),ue.confidence>.7&&i.jsx("p",{className:"text-green-600 font-medium",children:" High confidence - location auto-set"})]},ae))]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[i.jsx("svg",{className:"h-5 w-5 mr-2 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),"Business Location"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{type:"button",onClick:ie,disabled:C,className:"px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 disabled:bg-gray-400 flex items-center",children:C?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Getting Location..."]}):i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Use Current Location"]})}),i.jsx("button",{type:"button",onClick:fe,disabled:C,className:"px-4 py-2 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 disabled:bg-gray-400 flex items-center",children:C?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Finding..."]}):i.jsxs(i.Fragment,{children:[i.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Find from Address"]})}),g.coordinates&&i.jsxs("button",{type:"button",onClick:me,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 flex items-center",children:[i.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear Location"]})]}),g.coordinates&&i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[i.jsx("h5",{className:"text-sm font-medium text-yellow-900 mb-2",children:"Selected Location"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("p",{className:"text-sm text-yellow-800",children:[i.jsx("strong",{children:"Coordinates:"})," ",g.coordinates.lat.toFixed(6),", ",g.coordinates.lng.toFixed(6)]}),g.address&&i.jsxs("p",{className:"text-sm text-yellow-800",children:[i.jsx("strong",{children:"Address:"})," ",g.address]}),g.confidence&&i.jsxs("p",{className:"text-sm text-yellow-800",children:[i.jsx("strong",{children:"Confidence:"})," ",Math.round(g.confidence*100),"%"]}),g.source&&i.jsxs("p",{className:"text-sm text-yellow-800",children:[i.jsx("strong",{children:"Source:"})," ",g.source==="geocoded"?"Auto-detected":"Manual selection"]})]})]}),i.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[i.jsx("div",{className:"bg-gray-100 px-4 py-2 text-sm text-gray-600 border-b",children:"Click on the map to set your business location"}),W?i.jsx("div",{className:"h-64 w-full bg-gray-100 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),i.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Map failed to load"}),i.jsx("button",{onClick:()=>{te(!1),S(null)},className:"mt-2 px-3 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-700",children:"Retry"})]})}):i.jsx("div",{ref:R,className:"h-64 w-full",style:{minHeight:"256px",zIndex:1}})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[i.jsx("button",{type:"button",onClick:()=>c(!1),className:"px-6 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:d,className:"px-6 py-2 text-sm font-medium text-white bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-400 rounded-md flex items-center",children:d?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save Profile"})]})]})]})})]})},lL=()=>{var te,R,U,I,D,B,j,T,F,X,ie,we,fe,me,ce;const[e,t]=b.useState([]),[n,s]=b.useState(!1),[o,l]=b.useState(null),[c,d]=b.useState(!1),[h,m]=b.useState(!1),[p,g]=b.useState({message:"",advancePercentage:20}),[y,P]=b.useState({driverId:"",startCoords:{lat:0,lng:0},endCoords:{lat:0,lng:0},distanceKm:0,ratePerKm:0,vehicleRent:0,driverBata:0}),[w,N]=b.useState(!1),[S,k]=b.useState(null),[_,C]=b.useState([]),E=async()=>{try{s(!0);const Q=localStorage.getItem("token"),je=await fetch("/api/enquiries/business",{headers:{Authorization:`Bearer ${Q}`}});if(!je.ok)throw new Error("Failed to load enquiries");const ue=await je.json();t(ue.enquiries||[])}catch(Q){console.error("Error fetching enquiries:",Q),G.error("Failed to load enquiries")}finally{s(!1)}},M=async()=>{try{const Q=localStorage.getItem("token"),je=await fetch("/api/drivers",{headers:{Authorization:`Bearer ${Q}`}});if(!je.ok)throw new Error("Failed to load drivers");const ue=await je.json();C(ue.drivers||[])}catch(Q){console.error("Error fetching drivers:",Q),G.error("Failed to load drivers")}},V=async()=>{try{const Q=localStorage.getItem("token");if(!(await fetch(`/api/enquiries/${o._id}/respond`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify(p)})).ok)throw new Error("Failed to respond to enquiry");G.success("Response sent successfully"),d(!1),g({message:"",advancePercentage:20}),E()}catch(Q){console.error("Error responding to enquiry:",Q),G.error("Failed to respond to enquiry")}},O=async()=>{try{const Q=localStorage.getItem("token");if(!(await fetch(`/api/enquiries/${o._id}/create-trip`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Q}`},body:JSON.stringify(y)})).ok)throw new Error("Failed to create trip");G.success("Trip created successfully"),m(!1),P({driverId:"",startCoords:{lat:0,lng:0},endCoords:{lat:0,lng:0},distanceKm:0,ratePerKm:0,vehicleRent:0,driverBata:0}),E()}catch(Q){console.error("Error creating trip:",Q),G.error("Failed to create trip")}},z=Q=>{l(Q),d(!0)},ee=Q=>{l(Q),m(!0),M(),P({driverId:"",startCoords:Q.startCoords||{lat:0,lng:0},endCoords:Q.endCoords||{lat:0,lng:0},distanceKm:Q.distanceKm||0,ratePerKm:0,vehicleRent:0,driverBata:0})},J=Q=>{k(Q),N(!0)};b.useEffect(()=>{E()},[]);const W=Q=>{switch(Q){case"pending":return"bg-yellow-100 text-yellow-800";case"responded":return"bg-blue-100 text-blue-800";case"trip_created":return"bg-green-100 text-green-800";case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customer Enquiries"}),i.jsx("button",{onClick:E,className:"text-sm px-3 py-1.5 rounded-md bg-blue-600 text-white hover:bg-blue-700",children:"Refresh"})]}),i.jsxs("div",{className:"bg-white shadow rounded-lg",children:[i.jsx("div",{className:"p-4 border-b",children:i.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["All Enquiries (",e.length,")"]})}),n?i.jsx("div",{className:"p-6",children:"Loading enquiries..."}):e.length===0?i.jsx("div",{className:"p-6 text-gray-600",children:"No enquiries yet."}):i.jsx("div",{className:"p-4 space-y-4",children:e.map(Q=>{var je,ue,ae,de,pe,Pe,qe,Mt;return i.jsx("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[(je=Q.vehicleId)==null?void 0:je.registeredNumber," - ",(ue=Q.vehicleId)==null?void 0:ue.makersName]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${W(Q.status)}`,children:Q.status.replace("_"," ")})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600 mb-2",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Customer:"})," ",((ae=Q.customerId)==null?void 0:ae.name)||((de=Q.customerId)==null?void 0:de.email)]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Vehicle Class:"})," ",(pe=Q.vehicleId)==null?void 0:pe.vehicleClass]})]}),i.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[i.jsx("strong",{children:"Route:"})," ",Q.startingPoint,"  ",Q.destination]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600 mb-2",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Dates:"})," ",new Date(Q.startDate).toLocaleDateString()," - ",new Date(Q.endDate).toLocaleDateString()]}),Q.distanceKm>0&&i.jsxs("div",{children:[i.jsx("strong",{children:"Distance:"})," ",Q.distanceKm," km"]})]}),Q.message&&i.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[i.jsx("strong",{children:"Message:"})," ",Q.message]}),((Pe=Q.businessResponse)==null?void 0:Pe.message)&&i.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-sm",children:[i.jsx("strong",{children:"Your Response:"})," ",Q.businessResponse.message]}),Q.status==="trip_created"&&i.jsxs("div",{className:"mt-2 p-2 bg-green-50 rounded text-sm",children:[i.jsx("strong",{children:"Trip Created!"})," Total: ",(qe=Q.totalAmount)==null?void 0:qe.toLocaleString(),"  Advance Required: ",(Mt=Q.advanceAmount)==null?void 0:Mt.toLocaleString()]})]}),i.jsxs("div",{className:"flex flex-col space-y-2 ml-4",children:[i.jsx("button",{onClick:()=>J(Q),className:"bg-gray-500 hover:bg-gray-600 text-white px-3 py-1 rounded text-sm",children:"View Details"}),Q.status==="pending"&&i.jsx("button",{onClick:()=>z(Q),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm",children:"Respond"}),Q.status==="responded"&&i.jsx("button",{onClick:()=>ee(Q),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm",children:"Create Trip"})]})]})},Q._id)})})]}),c&&o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Respond to Enquiry"}),i.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[(te=o.vehicleId)==null?void 0:te.registeredNumber," - ",(R=o.vehicleId)==null?void 0:R.makersName]}),i.jsxs("div",{className:"text-xs text-gray-600",children:[o.startingPoint,"  ",o.destination]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Response Message"}),i.jsx("textarea",{value:p.message,onChange:Q=>g(je=>({...je,message:Q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",rows:4,placeholder:"Your response to the customer..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Advance Percentage (%)"}),i.jsx("input",{type:"number",value:p.advancePercentage,onChange:Q=>g(je=>({...je,advancePercentage:parseInt(Q.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",min:"0",max:"100"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg",children:"Cancel"}),i.jsx("button",{onClick:V,className:"px-4 py-2 text-sm font-medium text-white bg-blue-500 hover:bg-blue-600 rounded-lg",children:"Send Response"})]})]})}),h&&o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Create Trip from Enquiry"}),i.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[(U=o.vehicleId)==null?void 0:U.registeredNumber," - ",(I=o.vehicleId)==null?void 0:I.makersName]}),i.jsxs("div",{className:"text-xs text-gray-600",children:[o.startingPoint,"  ",o.destination]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Driver"}),i.jsxs("select",{value:y.driverId,onChange:Q=>P(je=>({...je,driverId:Q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[i.jsx("option",{value:"",children:"Select a driver"}),_.map(Q=>i.jsxs("option",{value:Q._id,children:[Q.name," - ",Q.licenseNumber]},Q._id))]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Distance (km)"}),i.jsx("input",{type:"number",value:y.distanceKm,onChange:Q=>P(je=>({...je,distanceKm:parseFloat(Q.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Distance in km"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rate per km ()"}),i.jsx("input",{type:"number",value:y.ratePerKm,onChange:Q=>P(je=>({...je,ratePerKm:parseFloat(Q.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Rate per km"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Rent ()"}),i.jsx("input",{type:"number",value:y.vehicleRent,onChange:Q=>P(je=>({...je,vehicleRent:parseFloat(Q.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Vehicle rent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver Bata ()"}),i.jsx("input",{type:"number",value:y.driverBata,onChange:Q=>P(je=>({...je,driverBata:parseFloat(Q.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Driver bata"})]})]}),i.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[i.jsxs("div",{className:"text-sm text-blue-800",children:[i.jsx("strong",{children:"Total Amount:"})," ",(y.distanceKm*y.ratePerKm+y.vehicleRent+y.driverBata).toLocaleString()]}),i.jsxs("div",{className:"text-xs text-blue-600",children:["Advance Required: ",Math.round((y.distanceKm*y.ratePerKm+y.vehicleRent+y.driverBata)*(((D=o.businessResponse)==null?void 0:D.advancePercentage)||20)/100).toLocaleString()]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx("button",{onClick:()=>m(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg",children:"Cancel"}),i.jsx("button",{onClick:O,disabled:!y.driverId||!y.distanceKm||!y.ratePerKm,className:"px-4 py-2 text-sm font-medium text-white bg-green-500 hover:bg-green-600 disabled:bg-gray-300 disabled:cursor-not-allowed rounded-lg",children:"Create Trip"})]})]})}),w&&S&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Enquiry Details"}),i.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Vehicle Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Registration:"})," ",(B=S.vehicleId)==null?void 0:B.registeredNumber]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Make/Model:"})," ",(j=S.vehicleId)==null?void 0:j.makersName]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Class:"})," ",(T=S.vehicleId)==null?void 0:T.vehicleClass]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Type:"})," ",(F=S.vehicleId)==null?void 0:F.vehicleType]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Seating:"})," ",(X=S.vehicleId)==null?void 0:X.seatingCapacity," seats"]})]})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Customer Information"}),i.jsxs("div",{className:"text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Name:"})," ",((ie=S.customerId)==null?void 0:ie.name)||"N/A"]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Email:"})," ",(we=S.customerId)==null?void 0:we.email]})]})]}),i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Trip Details"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"From:"})," ",S.startingPoint]}),i.jsxs("div",{children:[i.jsx("strong",{children:"To:"})," ",S.destination]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Start Date:"})," ",new Date(S.startDate).toLocaleDateString()]}),i.jsxs("div",{children:[i.jsx("strong",{children:"End Date:"})," ",new Date(S.endDate).toLocaleDateString()]}),S.distanceKm>0&&i.jsxs("div",{children:[i.jsx("strong",{children:"Distance:"})," ",S.distanceKm," km"]})]})]}),S.message&&i.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Customer Message"}),i.jsx("p",{className:"text-sm text-gray-700",children:S.message})]}),((fe=S.businessResponse)==null?void 0:fe.message)&&i.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Your Response"}),i.jsx("p",{className:"text-sm text-gray-700 mb-2",children:S.businessResponse.message}),i.jsxs("div",{className:"text-xs text-gray-500",children:[i.jsx("strong",{children:"Advance Percentage:"})," ",S.businessResponse.advancePercentage,"%"]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[i.jsx("strong",{children:"Responded:"})," ",new Date(S.businessResponse.respondedAt).toLocaleString()]})]}),S.status==="trip_created"&&i.jsxs("div",{className:"bg-green-100 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Trip Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Total Amount:"})," ",(me=S.totalAmount)==null?void 0:me.toLocaleString()]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Advance Required:"})," ",(ce=S.advanceAmount)==null?void 0:ce.toLocaleString()]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Payment Status:"})," ",S.paymentStatus]}),S.tripId&&i.jsxs("div",{children:[i.jsx("strong",{children:"Trip ID:"})," ",S.tripId.trip_id]})]})]}),i.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Status"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${W(S.status)}`,children:S.status.replace("_"," ")}),i.jsxs("span",{className:"text-sm text-gray-600",children:["Created: ",new Date(S.createdAt).toLocaleString()]})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx("button",{onClick:()=>N(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg",children:"Close"}),S.status==="pending"&&i.jsx("button",{onClick:()=>{N(!1),z(S)},className:"px-4 py-2 text-sm font-medium text-white bg-blue-500 hover:bg-blue-600 rounded-lg",children:"Respond"}),S.status==="responded"&&i.jsx("button",{onClick:()=>{N(!1),ee(S)},className:"px-4 py-2 text-sm font-medium text-white bg-green-500 hover:bg-green-600 rounded-lg",children:"Create Trip"})]})]})})]})},cL=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customer Management"}),i.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:i.jsx("p",{className:"text-gray-600",children:"Customer management features will be implemented here."})})]}),uL=({onLogout:e})=>{var _i,bi;const[t,n]=b.useState("overview"),[s,o]=b.useState({trips:"add",drivers:"available"}),[l,c]=b.useState([]),[d,h]=b.useState(!1),[m,p]=b.useState(!1),[g,y]=b.useState(null),[P,w]=b.useState(!1),[N,S]=b.useState(null),[k,_]=b.useState(!1),[C,E]=b.useState([]),[M,V]=b.useState({total:0,active:0,maintenance:0,retired:0}),[O,z]=b.useState({hired:0,available:0}),[ee,J]=b.useState({total:0,active:0,completed:0}),[W,te]=b.useState({vehicleImage:null,rcImage:null,registeredNumber:"",makersName:"",registeredOwnerName:"",vehicleClass:"",fuel:"",certificateOfFitnessFrom:"",certificateOfFitnessTo:"",seatingCapacity:"",vehicleType:""}),[R,U]=b.useState(!1),[I,D]=b.useState(!1),[B,j]=b.useState([]),[T,F]=b.useState(!1),[X,ie]=b.useState(null),[we,fe]=b.useState(!1),[me,ce]=b.useState(null),Q=b.useRef(null),je=b.useRef(null),[ue,ae]=b.useState([]),[de,pe]=b.useState([]),[Pe,qe]=b.useState([]),[Mt,jn]=b.useState(!1),[Nn,De]=b.useState(!1),[_c,fi]=b.useState(!1),[mi,Xo]=b.useState(null),[Jo,bc]=b.useState(!1),[jc,pi]=b.useState(!1),[Qo,ea]=b.useState({message:"",salaryPerDay:""}),[ft,gi]=b.useState(null),[Nc,ta]=b.useState(!1),na=()=>{e()},xi=K=>{const q=new Date,ve=new Date(K),re=Math.floor((q-ve)/1e3);return re<60?"Just now":re<3600?`${Math.floor(re/60)}m ago`:re<86400?`${Math.floor(re/3600)}h ago`:`${Math.floor(re/86400)}d ago`};b.useEffect(()=>{vi()},[]),b.useEffect(()=>{(t==="fleet"||t==="overview")&&Rr(),t==="hire"&&(yi(),ra(),nr()),t==="overview"&&(kc(),sa())},[t]);const yi=async()=>{try{jn(!0);const K=localStorage.getItem("token");if(!K)return;const q=await fetch("/api/drivers/available",{headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"}});if(q.ok){const ve=await q.json();ae(Array.isArray(ve.drivers)?ve.drivers:[])}else console.error("Failed to fetch drivers",q.status),G.error("Failed to fetch drivers")}catch(K){console.error("Error fetching drivers",K),G.error("Error fetching drivers")}finally{jn(!1)}},ra=async()=>{try{De(!0);const K=localStorage.getItem("token");if(!K)return;const q=await fetch("/api/drivers/hired",{headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"}});if(q.ok){const ve=await q.json();pe(Array.isArray(ve.drivers)?ve.drivers:[])}else console.error("Failed to fetch hired drivers",q.status),G.error("Failed to fetch hired drivers")}catch(K){console.error("Error fetching hired drivers",K),G.error("Error fetching hired drivers")}finally{De(!1)}},nr=async()=>{try{fi(!0);const K=localStorage.getItem("token");if(!K)return;const q=await fetch("/api/job-offers/business",{headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"}});if(q.ok){const re=((await q.json()).jobOffers||[]).filter(ke=>ke.status==="pending");qe(re)}else console.error("Failed to fetch pending offers",q.status),G.error("Failed to fetch pending offers")}catch(K){console.error("Error fetching pending offers",K),G.error("Error fetching pending offers")}finally{fi(!1)}},Rr=async()=>{try{_(!0);const K=localStorage.getItem("token");if(!K){console.log("No token found, skipping vehicle fetch");return}const q=await fetch("/api/vehicles",{headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"}});if(q.ok){const re=(await q.json()).vehicles||[];c(re);const ke={total:re.length,active:re.filter(xe=>xe.status==="active").length,maintenance:re.filter(xe=>xe.status==="maintenance").length,retired:re.filter(xe=>xe.status==="retired").length};V(ke);const Ye=re.sort((xe,Ze)=>new Date(Ze.createdAt||Ze.addedAt)-new Date(xe.createdAt||xe.addedAt)).slice(0,3).map(xe=>({id:`vehicle-${xe._id}`,type:"vehicle_added",message:`Vehicle ${xe.registeredNumber} (${xe.makersName}) was added`,timestamp:xe.createdAt||xe.addedAt,vehicle:{registeredNumber:xe.registeredNumber,makersName:xe.makersName,status:xe.status}}));E(xe=>{const Ze=xe.filter(Xe=>Xe.type!=="vehicle_added");return[...Ye,...Ze].sort((Xe,Ut)=>new Date(Ut.timestamp)-new Date(Xe.timestamp)).slice(0,10)}),console.log("Vehicles fetched successfully:",re.length),console.log("Vehicle stats:",ke)}else console.error("Failed to fetch vehicles:",q.status)}catch(K){console.error("Error fetching vehicles:",K),K.message.includes("Failed to fetch")&&console.log("Backend server is not running. Please start it with: cd backend && npm run dev")}finally{_(!1)}},kc=async()=>{var K;try{const q=localStorage.getItem("token");if(!q){console.log("No token found for drivers stats");return}console.log("Fetching drivers stats...");const[ve,re]=await Promise.all([fetch("/api/drivers/available",{headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"}}),fetch("/api/drivers/hired",{headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"}})]);let ke=0,Ye=0,xe=[];if(console.log("Available drivers response status:",ve.status),console.log("Hired drivers response status:",re.status),ve.ok?(ke=((K=(await ve.json()).drivers)==null?void 0:K.length)||0,console.log("Available drivers count:",ke)):console.error("Failed to fetch available drivers:",ve.status),re.ok){const Ut=(await re.json()).drivers||[];Ye=Ut.length,console.log("Hired drivers count:",Ye),console.log("Hired drivers data:",Ut),xe=Ut.sort((Ct,hs)=>new Date(hs.updatedAt||hs.createdAt)-new Date(Ct.updatedAt||Ct.createdAt)).slice(0,3).map(Ct=>({id:`driver-${Ct._id}`,type:"driver_hired",message:`Driver ${Ct.name} was hired`,timestamp:Ct.updatedAt||Ct.createdAt,driver:{name:Ct.name,status:"hired"}}))}else console.error("Failed to fetch hired drivers:",re.status);const Ze={hired:Ye,available:ke};console.log("Setting drivers stats:",Ze),z(Ze),xe.length>0&&E(Xe=>{const Ut=Xe.filter(Ct=>Ct.type!=="driver_hired");return[...xe,...Ut].sort((Ct,hs)=>new Date(hs.timestamp)-new Date(Ct.timestamp)).slice(0,10)})}catch(q){console.error("Error fetching drivers stats:",q)}},sa=async()=>{try{const K=localStorage.getItem("token");if(!K){console.log("No token found for trips stats");return}console.log("Fetching trips stats...");const q=await fetch("/api/trips",{headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"}});if(console.log("Trips response status:",q.status),q.ok){const re=(await q.json()).trips||[];console.log("Trips data:",re);const ke={total:re.length,active:re.filter(xe=>xe.status==="active").length,completed:re.filter(xe=>xe.status==="completed").length};console.log("Setting trips stats:",ke),J(ke);const Ye=re.sort((xe,Ze)=>new Date(Ze.createdAt)-new Date(xe.createdAt)).slice(0,3).map(xe=>({id:`trip-${xe._id}`,type:"trip_created",message:`Trip from ${xe.startAddress} to ${xe.endAddress} was created`,timestamp:xe.createdAt,trip:{startAddress:xe.startAddress,endAddress:xe.endAddress,status:xe.status}}));E(xe=>{const Ze=xe.filter(Xe=>Xe.type!=="trip_created");return[...Ye,...Ze].sort((Xe,Ut)=>new Date(Ut.timestamp)-new Date(Xe.timestamp)).slice(0,10)})}else console.error("Failed to fetch trips:",q.status)}catch(K){console.error("Error fetching trips stats:",K)}},vi=async()=>{try{ta(!0);const K=localStorage.getItem("token");if(!K){console.log("No token found for business profile");return}const q=await fetch("/api/business/profile",{headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"}});if(q.ok){const ve=await q.json();gi(ve.business),console.log("Business profile fetched:",ve.business)}else q.status===404?(console.log("Business profile not found - will be created when user opens profile modal"),gi(null)):(console.error("Failed to fetch business profile:",q.status),G.error("Failed to load business profile"))}catch(K){console.error("Error fetching business profile:",K),G.error("Error loading business profile")}finally{ta(!1)}},ia=(K,q=800,ve=.8)=>new Promise(re=>{const ke=document.createElement("canvas"),Ye=ke.getContext("2d"),xe=new Image;xe.onload=()=>{let{width:Ze,height:Xe}=xe;Ze>q&&(Xe=Xe*q/Ze,Ze=q),ke.width=Ze,ke.height=Xe,Ye.drawImage(xe,0,0,Ze,Xe);const Ut=ke.toDataURL("image/jpeg",ve);re(Ut)},xe.src=URL.createObjectURL(K)}),ds=async(K,q)=>{const ve=K.target.files[0];if(ve)try{const re=await ia(ve);te(ke=>({...ke,[q]:re})),q==="rcImage"&&(m&&D(!0),await Cc(re),m&&D(!1))}catch(re){console.error("Error processing image:",re),G.error("Error processing image. Please try again.")}},Cc=async K=>{try{U(!0);const q=localStorage.getItem("token");if(!q){alert("Please login first");return}console.log("Extracting RC data..."),console.log("Image data length:",K.length),console.log("Image data preview:",K.substring(0,100)+"...");const ve=await fetch("/api/vehicles/extract-rc",{method:"POST",headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"},body:JSON.stringify({imageUrl:K})});if(ve.ok){const re=await ve.json();if(console.log("RC extraction response:",re),console.log("Raw RC data:",re.data),re.data){const ke=[];te(Ye=>{var Ze,Xe;const xe={...Ye,registeredNumber:re.data.registeredNumber||"",makersName:re.data.makersName||"",registeredOwnerName:re.data.registeredOwnerName||"",vehicleClass:re.data.vehicleClass||"",fuel:re.data.fuel||"",seatingCapacity:re.data.seatingCapacity||"",certificateOfFitnessFrom:((Ze=re.data.certificateOfFitness)==null?void 0:Ze.validFrom)||"",certificateOfFitnessTo:((Xe=re.data.certificateOfFitness)==null?void 0:Xe.validTo)||""};return re.data.registeredNumber&&ke.push("Registration Number"),re.data.makersName&&ke.push("Manufacturer"),re.data.registeredOwnerName&&ke.push("Owner Name"),re.data.vehicleClass&&ke.push("Vehicle Class"),re.data.fuel&&ke.push("Fuel Type"),re.data.seatingCapacity&&re.data.seatingCapacity!==null&&re.data.seatingCapacity!=="null"?(console.log("Seating capacity found:",re.data.seatingCapacity),ke.push("Seating Capacity")):console.log("Seating capacity NOT found in RC data, will remain empty"),xe}),j(ke),console.log("RC data extracted successfully"),G.success(`Updated: ${ke.join(", ")}`),setTimeout(()=>{j([])},3e3)}else console.warn("No data extracted from RC image")}else{const re=await ve.json();console.error("RC extraction failed:",re),console.error("Response status:",ve.status),console.error("Response headers:",ve.headers),G.error("Failed to extract RC data: "+(re.message||"Unknown error"))}}catch(q){console.error("Error extracting RC data:",q),q.message.includes("Failed to fetch")?alert("Cannot connect to server. Please make sure the backend is running on http://localhost:4000"):alert("Error extracting RC data: "+q.message)}finally{U(!1)}},dn=()=>{te({vehicleImage:null,rcImage:null,registeredNumber:"",makersName:"",registeredOwnerName:"",vehicleClass:"",fuel:"",certificateOfFitnessFrom:"",certificateOfFitnessTo:"",seatingCapacity:"",vehicleType:""}),Q.current&&(Q.current.value=""),je.current&&(je.current.value="")},oa=K=>{var q,ve;y(K),te({vehicleImage:null,rcImage:null,registeredNumber:K.registeredNumber||"",makersName:K.makersName||"",registeredOwnerName:K.registeredOwnerName||"",vehicleClass:K.vehicleClass||"",fuel:K.fuel||"",certificateOfFitnessFrom:(q=K.certificateOfFitness)!=null&&q.validFrom?new Date(K.certificateOfFitness.validFrom).toISOString().split("T")[0]:"",certificateOfFitnessTo:(ve=K.certificateOfFitness)!=null&&ve.validTo?new Date(K.certificateOfFitness.validTo).toISOString().split("T")[0]:"",seatingCapacity:K.seatingCapacity||"",vehicleType:K.vehicleType||""}),p(!0)},Sc=K=>{S(K),w(!0)},In=K=>B.includes(K),wi=K=>{ie(K),F(!0)},Pc=async()=>{if(X)try{const K=localStorage.getItem("token"),q=await fetch(`/api/vehicles/${X}`,{method:"DELETE",headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"}});if(q.ok)G.success("Vehicle deleted successfully!"),Rr();else{const ve=await q.json();G.error("Error deleting vehicle: "+ve.message)}}catch(K){console.error("Error deleting vehicle:",K),G.error("Error deleting vehicle: "+K.message)}finally{F(!1),ie(null)}},Tc=()=>{F(!1),ie(null)},aa=(K,q)=>{ce({url:K,alt:q}),fe(!0)},Lc=()=>{fe(!1),ce(null)},Yt=async K=>{K.preventDefault();try{_(!0);const q=localStorage.getItem("token"),ve=await fetch(`/api/vehicles/${g._id}/images`,{method:"PUT",headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"},body:JSON.stringify({vehicleImage:W.vehicleImage,rcImage:W.rcImage,registeredNumber:W.registeredNumber,makersName:W.makersName,registeredOwnerName:W.registeredOwnerName,vehicleClass:W.vehicleClass,fuel:W.fuel,certificateOfFitness:{validFrom:W.certificateOfFitnessFrom,validTo:W.certificateOfFitnessTo},seatingCapacity:parseInt(W.seatingCapacity),vehicleType:W.vehicleType})});if(ve.ok){const re=await ve.json();console.log("Vehicle updated successfully:",re),p(!1),y(null),dn(),Rr(),G.success("Vehicle updated successfully!")}else{const re=await ve.json();G.error("Error updating vehicle: "+re.message)}}catch(q){console.error("Error updating vehicle:",q),G.error("Error updating vehicle: "+q.message)}finally{_(!1)}},le=async K=>{K.preventDefault();try{_(!0);const q=localStorage.getItem("token");console.log("=== FRONTEND DEBUG ==="),console.log("Token from localStorage:",q?`${q.substring(0,20)}...`:"Missing"),console.log("Authorization header:",`Bearer ${q}`),console.log("Vehicle form data:",W);const ve=await fetch("/api/vehicles",{method:"POST",headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"},body:JSON.stringify({vehicleImage:W.vehicleImage,rcImage:W.rcImage,registeredNumber:W.registeredNumber,makersName:W.makersName,registeredOwnerName:W.registeredOwnerName,vehicleClass:W.vehicleClass,fuel:W.fuel,certificateOfFitness:{validFrom:W.certificateOfFitnessFrom,validTo:W.certificateOfFitnessTo},seatingCapacity:parseInt(W.seatingCapacity)||null,vehicleType:W.vehicleType})});if(ve.ok){const re=await ve.json();console.log("Vehicle added successfully:",re),h(!1),dn();const ke={id:re.vehicle.id,type:"vehicle_added",message:`Vehicle ${re.vehicle.registeredNumber} (${re.vehicle.makersName}) was added`,timestamp:new Date().toISOString(),vehicle:{registeredNumber:re.vehicle.registeredNumber,makersName:re.vehicle.makersName,status:re.vehicle.status}};E(Ye=>[ke,...Ye.slice(0,4)]),V(Ye=>({...Ye,total:Ye.total+1,active:re.vehicle.status==="active"?Ye.active+1:Ye.active})),Rr(),G.success("Vehicle added successfully!")}else{const re=await ve.json();G.error("Error adding vehicle: "+re.message),dn()}}catch(q){console.error("Error adding vehicle:",q),G.error("Error adding vehicle: "+q.message),dn()}finally{_(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[i.jsxs("div",{className:"w-64 bg-white shadow-lg flex flex-col sticky top-0 h-screen",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-8 w-8 bg-yellow-500 rounded-lg flex items-center justify-center mr-3",children:i.jsxs("svg",{className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),i.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 14H17a1 1 0 001-1V8a1 1 0 00-1-1h-3z"})]})}),i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"MobiTrak Business"})]})}),i.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:[{id:"overview",name:"Overview",icon:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"},{id:"fleet",name:"Fleet Management",icon:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"},{id:"enquiries",name:"Customer Enquiries",icon:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"},{id:"hire",name:"Hire Drivers",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},{id:"driver-management",name:"Driver Management",icon:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"},{id:"trips",name:"Trips",icon:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"},{id:"reports",name:"Reports",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},{id:"profile",name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}].map(K=>i.jsxs("button",{onClick:()=>n(K.id),className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ${t===K.id?"bg-yellow-100 text-yellow-700 border-r-2 border-yellow-500":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[i.jsx("svg",{className:"h-5 w-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:K.icon})}),K.name]},K.id))}),i.jsxs("div",{className:"p-4 border-t border-gray-200",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("div",{className:"h-12 w-12 bg-gray-300 rounded-full flex items-center justify-center mr-3 overflow-hidden",children:ft!=null&&ft.profileIcon?i.jsx("img",{src:ft.profileIcon,alt:"Profile",className:"h-full w-full object-cover"}):i.jsx("svg",{className:"h-6 w-6 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(ft==null?void 0:ft.companyName)||"Business Name"}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:(ft==null?void 0:ft.ownerName)||"Owner Name"}),(ft==null?void 0:ft.address)&&i.jsxs("p",{className:"text-xs text-gray-400 truncate",children:[ft.address.city,", ",ft.address.state]})]})]}),i.jsx("button",{onClick:na,className:"w-full bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Logout"})]})]}),i.jsx("div",{className:"flex-1 flex flex-col min-h-screen",children:i.jsx("main",{className:"flex-1 py-8 px-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[t==="overview"&&i.jsx(QT,{vehicleStats:M,recentActivity:C,formatTimeAgo:xi,driversStats:O,tripsStats:ee}),t==="fleet"&&i.jsx(eL,{vehicles:l,loading:k,clearVehicleForm:dn,setShowAddVehicle:h,handleViewVehicleDetails:Sc,handleEditVehicle:oa,handleDeleteVehicle:wi}),t==="enquiries"&&i.jsx(lL,{}),t==="hire"&&i.jsx(tL,{activeSubTab:s,setActiveSubTab:o,drivers:ue,hiredDrivers:de,pendingOffers:Pe,driversLoading:Mt,hiredDriversLoading:Nn,pendingOffersLoading:_c,fetchAvailableDrivers:yi,fetchHiredDrivers:ra,fetchPendingOffers:nr,selectedDriver:mi,showDriverDetails:Jo,setSelectedDriver:Xo,setShowDriverDetails:bc,offerForm:Qo,setOfferForm:ea,showOfferModal:jc,setShowOfferModal:pi}),t==="driver-management"&&i.jsx(nL,{}),t==="customers"&&i.jsx(cL,{}),t==="reports"&&i.jsx(rL,{}),t==="trips"&&i.jsx(oL,{activeSubTab:s,setActiveSubTab:o,vehicles:l,fetchVehicles:Rr}),t==="profile"&&i.jsx(aL,{onProfileUpdate:vi})]})})}),d&&i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:i.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add New Vehicle"}),i.jsx("button",{onClick:()=>{dn(),h(!1)},className:"text-gray-400 hover:text-gray-600",children:i.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("form",{onSubmit:le,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Image (Optional)"}),i.jsx("input",{ref:Q,type:"file",accept:"image/*",onChange:K=>ds(K,"vehicleImage"),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),W.vehicleImage&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:W.vehicleImage,alt:"Vehicle preview",className:"h-32 w-32 object-cover rounded-lg"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RC Book Image (Required) *"}),i.jsx("input",{ref:je,type:"file",accept:"image/*",onChange:K=>ds(K,"rcImage"),required:!0,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),W.rcImage&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:W.rcImage,alt:"RC preview",className:"h-32 w-32 object-cover rounded-lg"})}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Upload a clear image of your vehicle's RC book. We'll automatically extract the details."}),R&&i.jsxs("div",{className:"mt-2 flex items-center text-blue-600",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),i.jsx("span",{className:"text-sm",children:"Extracting RC data..."})]})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"RC Book Information (Auto-filled)"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registered Number"}),i.jsx("input",{type:"text",value:W.registeredNumber,onChange:K=>te(q=>({...q,registeredNumber:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",placeholder:"Auto-filled from RC"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maker's Name"}),i.jsx("input",{type:"text",value:W.makersName,onChange:K=>te(q=>({...q,makersName:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",placeholder:"Auto-filled from RC"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name of Regd Owner"}),i.jsx("input",{type:"text",value:W.registeredOwnerName,onChange:K=>te(q=>({...q,registeredOwnerName:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",placeholder:"Auto-filled from RC"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class of Vehicle"}),i.jsx("input",{type:"text",value:W.vehicleClass,onChange:K=>te(q=>({...q,vehicleClass:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",placeholder:"Auto-filled from RC"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fuel"}),i.jsx("input",{type:"text",value:W.fuel,onChange:K=>te(q=>({...q,fuel:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",placeholder:"Auto-filled from RC"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate of Fitness Valid From"}),i.jsx("input",{type:"date",value:W.certificateOfFitnessFrom,onChange:K=>te(q=>({...q,certificateOfFitnessFrom:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate of Fitness Valid To"}),i.jsx("input",{type:"date",value:W.certificateOfFitnessTo,onChange:K=>te(q=>({...q,certificateOfFitnessTo:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seating Capacity"}),i.jsx("input",{type:"number",value:W.seatingCapacity,onChange:K=>te(q=>({...q,seatingCapacity:K.target.value})),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${In("Seating Capacity")?"border-green-500 bg-green-50 text-green-800":"border-gray-300 bg-white"}`,placeholder:W.seatingCapacity?"Auto-filled from RC":"Not found in RC - Enter manually",min:"1",max:"100"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Type *"}),i.jsxs("select",{value:W.vehicleType,onChange:K=>te(q=>({...q,vehicleType:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",required:!0,children:[i.jsx("option",{value:"",children:"Select Vehicle Type"}),i.jsx("option",{value:"Logistics",children:"Logistics"}),i.jsx("option",{value:"Passenger",children:"Passenger"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>{dn(),h(!1)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:k||!W.rcImage||R,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 rounded-md flex items-center",children:k?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):R?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Extracting RC..."]}):"Add Vehicle"})]})]})]})})}),m&&i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:i.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Edit Vehicle"}),i.jsx("button",{onClick:()=>{dn(),p(!1),y(null)},className:"text-gray-400 hover:text-gray-600",children:i.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("form",{onSubmit:Yt,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Image (Optional)"}),i.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Upload a new image to replace the current one, or leave empty to keep the existing image."}),i.jsx("input",{ref:Q,type:"file",accept:"image/*",onChange:K=>ds(K,"vehicleImage"),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),W.vehicleImage&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:W.vehicleImage,alt:"Vehicle preview",className:"h-32 w-32 object-cover rounded-lg"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"RC Document (Required)"}),i.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Upload a new RC document to replace the current one, or leave empty to keep the existing document."}),i.jsx("input",{ref:je,type:"file",accept:"image/*",onChange:K=>ds(K,"rcImage"),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),W.rcImage&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:W.rcImage,alt:"RC preview",className:"h-32 w-32 object-cover rounded-lg"})}),I&&i.jsxs("div",{className:"mt-2 flex items-center text-blue-600",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),i.jsx("span",{className:"text-sm",children:"Extracting RC data..."})]})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-3",children:"RC Book Information (Auto-filled)"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registered Number"}),i.jsx("input",{type:"text",value:W.registeredNumber,onChange:K=>te(q=>({...q,registeredNumber:K.target.value})),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${In("Registration Number")?"border-green-500 bg-green-50 text-green-800":"border-gray-300 bg-white"}`,placeholder:"Auto-filled from RC"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Maker's Name"}),i.jsx("input",{type:"text",value:W.makersName,onChange:K=>te(q=>({...q,makersName:K.target.value})),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${In("Manufacturer")?"border-green-500 bg-green-50 text-green-800":"border-gray-300 bg-white"}`,placeholder:"Auto-filled from RC"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name of Regd Owner"}),i.jsx("input",{type:"text",value:W.registeredOwnerName,onChange:K=>te(q=>({...q,registeredOwnerName:K.target.value})),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${In("Owner Name")?"border-green-500 bg-green-50 text-green-800":"border-gray-300 bg-white"}`,placeholder:"Auto-filled from RC"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Class of Vehicle"}),i.jsx("input",{type:"text",value:W.vehicleClass,onChange:K=>te(q=>({...q,vehicleClass:K.target.value})),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${In("Vehicle Class")?"border-green-500 bg-green-50 text-green-800":"border-gray-300 bg-white"}`,placeholder:"Auto-filled from RC"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fuel"}),i.jsx("input",{type:"text",value:W.fuel,onChange:K=>te(q=>({...q,fuel:K.target.value})),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${In("Fuel Type")?"border-green-500 bg-green-50 text-green-800":"border-gray-300 bg-white"}`,placeholder:"Auto-filled from RC"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate of Fitness Valid From"}),i.jsx("input",{type:"date",value:W.certificateOfFitnessFrom,onChange:K=>te(q=>({...q,certificateOfFitnessFrom:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Certificate of Fitness Valid To"}),i.jsx("input",{type:"date",value:W.certificateOfFitnessTo,onChange:K=>te(q=>({...q,certificateOfFitnessTo:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Seating Capacity"}),i.jsx("input",{type:"number",value:W.seatingCapacity,onChange:K=>te(q=>({...q,seatingCapacity:K.target.value})),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 ${In("Seating Capacity")?"border-green-500 bg-green-50 text-green-800":"border-gray-300 bg-white"}`,placeholder:W.seatingCapacity?"Auto-filled from RC":"Not found in RC - Enter manually",min:"1",max:"100"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Type *"}),i.jsxs("select",{value:W.vehicleType,onChange:K=>te(q=>({...q,vehicleType:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white",required:!0,children:[i.jsx("option",{value:"",children:"Select Vehicle Type"}),i.jsx("option",{value:"Logistics",children:"Logistics"}),i.jsx("option",{value:"Passenger",children:"Passenger"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>{dn(),p(!1),y(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:k,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 rounded-md flex items-center",children:k?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Updating..."]}):"Update Vehicle"})]})]})]})})}),P&&N&&i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:i.jsx("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Vehicle Details"}),i.jsx("button",{onClick:()=>{w(!1),S(null)},className:"text-gray-400 hover:text-gray-600",children:i.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[((_i=N.vehicleImage)==null?void 0:_i.url)&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Vehicle Image"}),i.jsx("img",{src:N.vehicleImage.url,alt:"Vehicle",className:"w-full h-48 object-cover rounded-md cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>aa(N.vehicleImage.url,"Vehicle")})]}),((bi=N.rcImage)==null?void 0:bi.url)&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"RC Document"}),i.jsx("img",{src:N.rcImage.url,alt:"RC Document",className:"w-full h-48 object-cover rounded-md cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>aa(N.rcImage.url,"RC Document")})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Registration Number"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.registeredNumber})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Maker's Name"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.makersName})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Registered Owner"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.registeredOwnerName})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vehicle Class"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.vehicleClass})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fuel Type"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.fuel})]})]}),i.jsxs("div",{className:"space-y-4",children:[N.vehicleType&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Vehicle Type"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.vehicleType})]}),N.seatingCapacity&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Seating Capacity"}),i.jsxs("p",{className:"mt-1 text-sm text-gray-900",children:[N.seatingCapacity," seats"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Added On"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.createdAt?new Date(N.createdAt).toLocaleString():"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Updated"}),i.jsx("p",{className:"mt-1 text-sm text-gray-900",children:N.lastUpdated?new Date(N.lastUpdated).toLocaleString():"N/A"})]})]})]}),N.certificateOfFitness&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Certificate of Fitness"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Valid From"}),i.jsx("p",{className:"text-sm text-gray-900",children:N.certificateOfFitness.validFrom?new Date(N.certificateOfFitness.validFrom).toLocaleDateString():"N/A"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-500",children:"Valid To"}),i.jsx("p",{className:"text-sm text-gray-900",children:N.certificateOfFitness.validTo?new Date(N.certificateOfFitness.validTo).toLocaleDateString():"N/A"})]})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t",children:[i.jsx("button",{onClick:()=>{w(!1),S(null)},className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Close"}),i.jsx("button",{onClick:()=>{w(!1),S(null),oa(N)},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:"Edit Vehicle"})]})]})})}),we&&me&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:i.jsxs("div",{className:"relative max-w-4xl max-h-full p-4",children:[i.jsx("button",{onClick:Lc,className:"absolute top-4 right-4 text-white hover:text-gray-300 z-10",children:i.jsx("svg",{className:"h-8 w-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("img",{src:me.url,alt:me.alt,className:"max-w-full max-h-full object-contain rounded-lg"})]})}),T&&i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:i.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:i.jsxs("div",{className:"mt-3 text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:i.jsx("svg",{className:"h-6 w-6 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mt-4",children:"Delete Vehicle"}),i.jsx("div",{className:"mt-2 px-7 py-3",children:i.jsx("p",{className:"text-sm text-gray-500",children:"Are you sure you want to delete this vehicle? This action cannot be undone and will permanently remove the vehicle and all associated images."})}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-4",children:[i.jsx("button",{onClick:Tc,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"}),i.jsx("button",{onClick:Pc,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:"Delete Vehicle"})]})]})})}),i.jsx(_f,{position:"top-right"})]})},dL=({isOpen:e,onClose:t,vehicle:n,onSubmit:s})=>{var J,W,te,R,U,I;const o=b.useRef(null),l=b.useRef(null),c=b.useRef(null),d=b.useRef([]),[h,m]=b.useState({waypoints:[{address:"",coords:null},{address:"",coords:null}],startDate:"",endDate:"",message:"",route:[],distanceKm:0}),[p,g]=b.useState({}),[y,P]=b.useState(!1);b.useEffect(()=>{e&&!l.current&&o.current&&(l.current=jt.map(o.current,{zoomControl:!0,scrollWheelZoom:!1,preferCanvas:!0}).setView([20.5937,78.9629],5),jt.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:" OpenStreetMap"}).addTo(l.current))},[e]),b.useEffect(()=>{e?(m({waypoints:[{address:"",coords:null},{address:"",coords:null}],startDate:"",endDate:"",message:"",route:[],distanceKm:0}),g({})):(c.current&&l.current&&(l.current.removeLayer(c.current),c.current=null),d.current.forEach(D=>{l.current&&l.current.removeLayer(D)}),d.current=[])},[e]);const w=async D=>{if(!D||D.length<3)return[];const B=`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(D)}&limit=5&countrycodes=IN`;return(await(await fetch(B,{headers:{"Accept-Language":"en"}})).json()).map(F=>({display:F.display_name,lat:parseFloat(F.lat),lng:parseFloat(F.lon)}))},N=async(D,B)=>{m(j=>{const T={...j};return T.waypoints[D]={...T.waypoints[D]||{},address:B},T});try{const j=await w(B);g(T=>({...T,[D]:j}))}catch(j){console.error("Search error:",j)}},S=(D,B)=>{if(m(j=>{const T={...j};return T.waypoints[D]={address:B.display,coords:{lat:B.lat,lng:B.lng}},T}),l.current&&l.current.setView([B.lat,B.lng],12),g(j=>({...j,[D]:[]})),l.current){const j=jt.icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconSize:[25,41],iconAnchor:[12,41],shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"}),T=jt.marker([B.lat,B.lng],{icon:j}).bindPopup(B.display);d.current[D]&&l.current.removeLayer(d.current[D]),T.addTo(l.current),d.current[D]=T}},k=()=>{m(D=>({...D,waypoints:[...D.waypoints||[],{address:"",coords:null}]}))},_=D=>{m(B=>{const j={...B};return j.waypoints=j.waypoints.filter((T,F)=>F!==D),j})},C=(D,B)=>{m(j=>{const T={...j},F=[...T.waypoints],X=F.splice(D,1)[0];return F.splice(B,0,X),T.waypoints=F,T})},E=D=>{if(!l.current)return;c.current&&(l.current.removeLayer(c.current),c.current=null),c.current=jt.polyline(D.map(j=>[j.lat,j.lng]),{color:"blue",weight:4}).addTo(l.current);const B=c.current.getBounds();l.current.fitBounds(B,{padding:[20,20]})},M=async()=>{if(!h.waypoints||h.waypoints.length<2)return;const D=h.waypoints.filter(B=>B==null?void 0:B.coords).map(B=>`${B.coords.lng},${B.coords.lat}`);if(!(D.length<2))try{const B=`/api/maps/osrm?coords=${encodeURIComponent(D.join(";"))}`,j=await fetch(B);if(j.ok){const T=await j.json();if(T.routes&&T.routes[0]){const F=T.routes[0],X=F.geometry.coordinates.map(([we,fe])=>({lat:fe,lng:we})),ie=+(F.distance/1e3).toFixed(2);m(we=>({...we,route:X,distanceKm:ie})),E(X)}}else throw new Error("Backend route failed")}catch{try{const j=`https://router.project-osrm.org/route/v1/driving/${D.join(";")}?overview=full&geometries=geojson`,T=`https://corsproxy.io/?${encodeURIComponent(j)}`,F=await fetch(T);if(F.ok){const X=await F.json();if(X.routes&&X.routes[0]){const ie=X.routes[0],we=ie.geometry.coordinates.map(([me,ce])=>({lat:ce,lng:me})),fe=+(ie.distance/1e3).toFixed(2);m(me=>({...me,route:we,distanceKm:fe})),E(we)}}}catch(j){console.error("Route calculation failed:",j),G.error("Failed to calculate route")}}};b.useEffect(()=>{M()},[JSON.stringify(h.waypoints)]);const V=async D=>{var F,X,ie,we;if(D.preventDefault(),!((F=h.waypoints[0])!=null&&F.address)||!((X=h.waypoints[1])!=null&&X.address)||!h.startDate||!h.endDate){G.error("Please fill in all required fields");return}if(!((ie=h.waypoints[0])!=null&&ie.coords)||!((we=h.waypoints[1])!=null&&we.coords)){G.error("Please select valid locations from the suggestions");return}const B=new Date(h.startDate),j=new Date(h.endDate),T=new Date;if(T.setHours(0,0,0,0),B<T){G.error("Start date cannot be in the past");return}if(j<B){G.error("End date cannot be before start date");return}if(h.distanceKm>=350&&j.getTime()===B.getTime()){G.error("For distances 350km or more, end date must be after start date");return}try{P(!0);const fe={vehicleId:n._id,startingPoint:h.waypoints[0].address,destination:h.waypoints[h.waypoints.length-1].address,startDate:h.startDate,endDate:h.endDate,message:h.message,startCoords:h.waypoints[0].coords,endCoords:h.waypoints[h.waypoints.length-1].coords,route:h.route,distanceKm:h.distanceKm};await s(fe),t()}catch(fe){console.error("Submit error:",fe),G.error("Failed to submit enquiry")}finally{P(!1)}},O=()=>new Date().toISOString().split("T")[0],z=()=>{const D=new Date;return D.setMonth(D.getMonth()+2),D.toISOString().split("T")[0]},ee=()=>h.distanceKm>=350&&h.startDate||O();return e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Send Enquiry"}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),n&&i.jsxs("div",{className:"bg-gray-50 p-4 border-b",children:[i.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Vehicle Information"}),i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsxs("div",{className:"font-medium",children:[n.registeredNumber," - ",n.makersName]}),i.jsxs("div",{children:[n.vehicleClass,"  ",n.vehicleType,"  Seating: ",n.seatingCapacity]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 p-6 flex-1 overflow-hidden",children:[i.jsx("div",{className:"space-y-4 overflow-y-auto",children:i.jsxs("form",{onSubmit:V,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Route"}),i.jsx("button",{type:"button",onClick:k,className:"text-yellow-600 hover:text-yellow-800 text-sm",children:"Add destination"})]}),i.jsxs("div",{className:"space-y-3",children:[h.waypoints.map((D,B)=>i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{value:D.address||"",onChange:j=>N(B,j.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:B===0?"Choose starting point...":B===h.waypoints.length-1?"Choose destination...":`Stop ${B}`}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{type:"button",onClick:()=>C(B,Math.max(0,B-1)),disabled:B===0,className:"p-2 rounded border disabled:opacity-40",title:"Move up",children:""}),i.jsx("button",{type:"button",onClick:()=>C(B,Math.min(h.waypoints.length-1,B+1)),disabled:B===h.waypoints.length-1,className:"p-2 rounded border disabled:opacity-40",title:"Move down",children:""}),i.jsx("button",{type:"button",onClick:()=>_(B),disabled:h.waypoints.length<=2&&(B===0||B===h.waypoints.length-1),className:"p-2 rounded border disabled:opacity-40",title:"Remove",children:""})]})]}),Array.isArray(p[B])&&p[B].length>0&&i.jsx("div",{className:"absolute z-20 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-40 overflow-auto",children:p[B].map((j,T)=>i.jsx("button",{type:"button",onClick:()=>S(B,j),className:"w-full text-left px-3 py-2 hover:bg-yellow-50 hover:text-yellow-800",children:j.display},`wg-${B}-${T}`))})]},B)),h.waypoints.length<2&&i.jsx("p",{className:"text-xs text-gray-500",children:"Add at least a start and a destination."})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date *"}),i.jsx("input",{type:"date",min:O(),max:z(),value:h.startDate,onChange:D=>m(B=>({...B,startDate:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date *"}),i.jsx("input",{type:"date",min:ee(),max:z(),value:h.endDate,onChange:D=>m(B=>({...B,endDate:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message (Optional)"}),i.jsx("textarea",{value:h.message,onChange:D=>m(B=>({...B,message:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-yellow-500",placeholder:"Any additional requirements or questions...",rows:3,maxLength:500}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[h.message.length,"/500 characters"]})]}),h.distanceKm>0&&i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:i.jsxs("div",{className:"text-sm text-yellow-800",children:[i.jsx("div",{className:"font-medium",children:"Route Information"}),i.jsxs("div",{children:["Distance: ",h.distanceKm," km"]}),i.jsxs("div",{children:["Route: ",(J=h.waypoints[0])==null?void 0:J.address,"  ",(W=h.waypoints[h.waypoints.length-1])==null?void 0:W.address]}),h.distanceKm<350&&i.jsx("div",{className:"text-xs mt-1 text-yellow-600",children:"* Same day trips allowed for distances under 350km"})]})}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:y||!((te=h.waypoints[0])!=null&&te.address)||!((R=h.waypoints[1])!=null&&R.address)||!h.startDate||!h.endDate||!((U=h.waypoints[0])!=null&&U.coords)||!((I=h.waypoints[1])!=null&&I.coords),className:"px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 disabled:bg-gray-400",children:y?"Sending...":"Send Enquiry"})]})]})}),i.jsx("div",{className:"bg-gray-100 rounded-lg overflow-hidden h-full",children:i.jsx("div",{ref:o,className:"w-full h-full"})})]})]})}):null},hL=()=>{const[e,t]=b.useState([]),[n,s]=b.useState(!1),[o,l]=b.useState({search:"",vehicleClass:"",vehicleType:"",minSeatingCapacity:"",maxSeatingCapacity:""}),[c,d]=b.useState(null),[h,m]=b.useState(!1),p=async()=>{try{s(!0);const w=new URLSearchParams;Object.entries(o).forEach(([k,_])=>{_&&w.append(k,_)});const N=await fetch(`/api/enquiries/vehicles?${w}`);if(!N.ok)throw new Error("Failed to load vehicles");const S=await N.json();t(S.vehicles||[])}catch(w){console.error("Error fetching vehicles:",w),G.error("Failed to load vehicles")}finally{s(!1)}},g=async w=>{try{const N=localStorage.getItem("token"),S=await fetch("/api/enquiries/submit",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${N}`},body:JSON.stringify({vehicleId:c._id,...w})});if(!S.ok){const _=await S.json();throw console.error("Enquiry submission error:",_),new Error(_.message||"Failed to submit enquiry")}const k=await S.json();console.log("Enquiry submitted successfully:",k),G.success("Enquiry submitted successfully"),m(!1),d(null)}catch(N){throw console.error("Error submitting enquiry:",N),G.error("Failed to submit enquiry"),N}},y=(w,N)=>{l(S=>({...S,[w]:N}))},P=w=>{d(w),m(!0)};return b.useEffect(()=>{p()},[]),b.useEffect(()=>{const w=setTimeout(()=>{p()},500);return()=>clearTimeout(w)},[o]),i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Find Vehicles"}),i.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),i.jsx("input",{type:"text",value:o.search,onChange:w=>y("search",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Vehicle number, make, class..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Class"}),i.jsxs("select",{value:o.vehicleClass,onChange:w=>y("vehicleClass",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[i.jsx("option",{value:"",children:"All Classes"}),i.jsx("option",{value:"LMV",children:"LMV"}),i.jsx("option",{value:"HMV",children:"HMV"}),i.jsx("option",{value:"MCWG",children:"MCWG"}),i.jsx("option",{value:"MCC",children:"MCC"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vehicle Type"}),i.jsxs("select",{value:o.vehicleType,onChange:w=>y("vehicleType",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",children:[i.jsx("option",{value:"",children:"All Types"}),i.jsx("option",{value:"Logistics",children:"Logistics"}),i.jsx("option",{value:"Passenger",children:"Passenger"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Seating"}),i.jsx("input",{type:"number",value:o.minSeatingCapacity,onChange:w=>y("minSeatingCapacity",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Min capacity"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Seating"}),i.jsx("input",{type:"number",value:o.maxSeatingCapacity,onChange:w=>y("maxSeatingCapacity",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Max capacity"})]})]})}),i.jsxs("div",{className:"bg-white shadow rounded-lg",children:[i.jsx("div",{className:"p-4 border-b",children:i.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Available Vehicles (",e.length,")"]})}),n?i.jsx("div",{className:"p-6",children:"Loading vehicles..."}):e.length===0?i.jsx("div",{className:"p-6 text-gray-600",children:"No vehicles found matching your criteria."}):i.jsx("div",{className:"p-4 space-y-4",children:e.map(w=>{var N,S,k;return i.jsxs("div",{className:"border rounded-lg p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[((N=w.vehicleImage)==null?void 0:N.url)&&i.jsx("img",{src:w.vehicleImage.url,alt:"Vehicle",className:"w-16 h-16 object-cover rounded-lg"}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[w.registeredNumber," - ",w.makersName]}),i.jsxs("div",{className:"text-xs text-gray-600",children:["Class: ",w.vehicleClass,"  Type: ",w.vehicleType||"N/A","  Seating: ",w.seatingCapacity||"N/A"]}),i.jsxs("div",{className:"text-xs text-gray-500",children:["Business: ",((S=w.businessId)==null?void 0:S.name)||((k=w.businessId)==null?void 0:k.email)||"N/A"]})]})]}),i.jsx("button",{onClick:()=>P(w),className:"bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Send Enquiry"})]},w._id)})})]}),i.jsx(dL,{isOpen:h,onClose:()=>{m(!1),d(null)},vehicle:c,onSubmit:g})]})},fL=()=>{const[e,t]=b.useState([]),[n,s]=b.useState(!1),o=vf(),l=async()=>{try{s(!0);const d=localStorage.getItem("token");if(console.log("fetchEnquiries - Starting fetch with token:",d?"Present":"Missing"),!d){console.log("fetchEnquiries - No token, redirecting to login"),G.error("Please log in to view your enquiries"),o("/login");return}console.log("fetchEnquiries - Making request to /api/enquiries/customer");const h=await fetch("/api/enquiries/customer",{headers:{Authorization:`Bearer ${d}`,"Content-Type":"application/json"}});if(console.log("fetchEnquiries - Response status:",h.status),!h.ok){const p=await h.json();if(console.log("fetchEnquiries - Error response:",p),h.status===401){console.log("fetchEnquiries - 401 error, redirecting to login"),G.error("Session expired. Please log in again."),o("/login");return}throw new Error(p.message||"Failed to load enquiries")}const m=await h.json();console.log("fetchEnquiries - Success response:",m),t(m.enquiries||[])}catch(d){console.error("fetchEnquiries - Error:",d),G.error(d.message||"Failed to load enquiries")}finally{s(!1)}},c=async d=>{try{const h=localStorage.getItem("token");if(!(await fetch(`/api/enquiries/${d}/confirm-payment`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({paymentDetails:{transactionId:`TXN-${Date.now()}`,paymentMethod:"Online Payment"}})})).ok)throw new Error("Failed to confirm payment");G.success("Payment confirmed successfully"),l()}catch(h){console.error("Error confirming payment:",h),G.error("Failed to confirm payment")}};return b.useEffect(()=>{const d=localStorage.getItem("token"),h=localStorage.getItem("user");if(console.log("EnquiriesPage - Token:",d?"Present":"Missing"),console.log("EnquiriesPage - User:",h?JSON.parse(h):"Missing"),!d||!h){console.log("EnquiriesPage - No auth data, redirecting to login"),G.error("Please log in to view your enquiries"),o("/login");return}console.log("EnquiriesPage - Auth data present, fetching enquiries"),l()},[o]),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Enquiries"}),i.jsx("button",{onClick:l,className:"text-sm px-3 py-1.5 rounded-md bg-blue-600 text-white hover:bg-blue-700",children:"Refresh"})]}),i.jsxs("div",{className:"bg-white shadow rounded-lg",children:[i.jsx("div",{className:"p-4 border-b",children:i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Enquiry History"})}),n?i.jsx("div",{className:"p-6",children:"Loading enquiries..."}):e.length===0?i.jsx("div",{className:"p-6 text-gray-600",children:"No enquiries yet."}):i.jsx("div",{className:"p-4 space-y-4",children:e.map(d=>{var h,m,p,g,y;return i.jsxs("div",{className:"border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[(h=d.vehicleId)==null?void 0:h.registeredNumber," - ",(m=d.vehicleId)==null?void 0:m.makersName]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${d.status==="confirmed"?"bg-green-100 text-green-800":d.status==="trip_created"?"bg-blue-100 text-blue-800":d.status==="responded"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:d.status.replace("_"," ")})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Route: ",d.startingPoint,"  ",d.destination]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Dates: ",new Date(d.startDate).toLocaleDateString()," - ",new Date(d.endDate).toLocaleDateString()]}),((p=d.businessResponse)==null?void 0:p.message)&&i.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[i.jsx("strong",{children:"Business Response:"})," ",d.businessResponse.message]}),d.status==="trip_created"&&i.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-sm",children:[i.jsx("strong",{children:"Trip Created!"})," Total: ",(g=d.totalAmount)==null?void 0:g.toLocaleString(),"  Advance Required: ",(y=d.advanceAmount)==null?void 0:y.toLocaleString(),i.jsx("div",{className:"mt-2",children:i.jsx("button",{onClick:()=>c(d._id),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded text-sm",children:"Confirm Payment"})})]})]},d._id)})})]})]})},mL=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Track Your Shipments"}),i.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:i.jsxs("div",{className:"max-w-md",children:[i.jsx("label",{htmlFor:"tracking-number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter Tracking Number"}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("input",{type:"text",id:"tracking-number",className:"flex-1 min-w-0 block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your tracking number"}),i.jsx("button",{className:"bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Track"})]})]})}),i.jsx("div",{className:"bg-white shadow rounded-lg",children:i.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[i.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Active Shipments"}),i.jsx("div",{className:"mt-5",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"#TRK-001234"}),i.jsx("p",{className:"text-sm text-gray-500",children:"From: New York, NY"}),i.jsx("p",{className:"text-sm text-gray-500",children:"To: Los Angeles, CA"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"In Transit"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Expected: Dec 25, 2024"})]})]}),i.jsx("div",{className:"mt-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:"60%"}})}),i.jsx("span",{className:"ml-3 text-sm text-gray-600",children:"60% Complete"})]})})]}),i.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"#TRK-001235"}),i.jsx("p",{className:"text-sm text-gray-500",children:"From: Chicago, IL"}),i.jsx("p",{className:"text-sm text-gray-500",children:"To: Miami, FL"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Processing"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Expected: Dec 28, 2024"})]})]}),i.jsx("div",{className:"mt-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-primary-500 h-2 rounded-full",style:{width:"25%"}})}),i.jsx("span",{className:"ml-3 text-sm text-gray-600",children:"25% Complete"})]})})]})]})})]})})]}),pL=()=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"}),i.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:i.jsx("p",{className:"text-gray-600",children:"Profile management features will be implemented here."})})]}),gL=({onLogout:e})=>{const[t,n]=b.useState("vehicles"),s=()=>{e()};return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("header",{className:"bg-white shadow-sm border-b",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-8 w-8 bg-primary-400 rounded-lg flex items-center justify-center mr-3",children:i.jsxs("svg",{className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),i.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 14H17a1 1 0 001-1V8a1 1 0 00-1-1h-3z"})]})}),i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"MobiTrak Customer"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Customer"}),i.jsx("button",{onClick:s,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium",children:"Logout"})]})]})})}),i.jsx("nav",{className:"bg-white shadow-sm",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"flex space-x-8",children:[{id:"vehicles",name:"Find Vehicles"},{id:"enquiries",name:"My Enquiries"},{id:"tracking",name:"Track Shipments"},{id:"profile",name:"Profile"}].map(o=>i.jsx("button",{onClick:()=>n(o.id),className:`py-4 px-1 border-b-2 font-medium text-sm ${t===o.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:o.name},o.id))})})}),i.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[t==="vehicles"&&i.jsx(hL,{}),t==="enquiries"&&i.jsx(fL,{}),t==="tracking"&&i.jsx(mL,{}),t==="profile"&&i.jsx(pL,{})]})})]})},xL=({driverProfile:e,setDriverProfile:t,profileForm:n,setProfileForm:s,licenseImages:o,setLicenseImages:l,handleImageUpload:c,extractLicenseInfo:d,handleSubmitProfile:h,loading:m})=>{const[p,g]=b.useState(!1),[y,P]=b.useState(!1),[w,N]=b.useState(null),[S,k]=b.useState({line1:"",line2:"",city:"",state:"",pincode:"",country:"India"}),[_,C]=b.useState({front:!1,back:!1}),[E,M]=b.useState(null),V=b.useRef(null);b.useEffect(()=>{e&&(N(e.profileIcon||null),k(e.address||{line1:"",line2:"",city:"",state:"",pincode:"",country:"India"}))},[e]);const O=I=>{const D=I.target.files[0];if(D){const B=new FileReader;B.onload=j=>{N(j.target.result)},B.readAsDataURL(D)}},z=I=>{const{name:D,value:B}=I.target;k(j=>({...j,[D]:B}))},ee=async I=>{I.preventDefault();try{P(!0);const D=localStorage.getItem("token");if(!o.front||!o.back){G.error("Please upload both front and back images of your driving license first");return}const B=o.front.split(",")[1],j=o.back.split(",")[1],T={...n,frontImageBase64:B,backImageBase64:j};console.log("Sending profile data with license images:",T);const F=await fetch("/api/drivers/upload-license",{method:"POST",headers:{Authorization:`Bearer ${D}`,"Content-Type":"application/json"},body:JSON.stringify(T)});if(console.log("Response status:",F.status),F.ok){const X=await F.json();console.log("Profile saved successfully:",X),t(X.driver),g(!1),G.success("Driver profile saved successfully!")}else{const X=await F.json();console.error("Error response:",X),G.error("Error saving profile: "+(X.message||"Server error"))}}catch(D){console.error("Error saving driver profile:",D),G.error("Error saving driver profile: "+D.message)}finally{P(!1)}},J=async()=>{try{P(!0);const I=localStorage.getItem("token"),D={...n,profileIcon:w,address:S,frontImageBase64:o.front?o.front.split(",")[1]:null,backImageBase64:o.back?o.back.split(",")[1]:null};console.log("Sending profile update data:",D),console.log("Profile Icon data:",w),console.log("Address data:",S);const B=await fetch("/api/drivers/upload-license",{method:"POST",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify(D)});if(console.log("Response status:",B.status),B.ok){const j=await B.json();console.log("Profile updated successfully:",j),t(j.driver),g(!1),G.success("Driver profile updated successfully!")}else{const j=await B.json();console.error("Error response:",j),G.error("Error updating profile: "+(j.message||"Server error"))}}catch(I){console.error("Error updating driver profile:",I),G.error("Error updating driver profile: "+I.message)}finally{P(!1)}},W=async I=>{I.preventDefault(),e&&e.profileCompleted?await J():await ee(I)},te=(I,D)=>{M(D),C(B=>({...B,[I]:!0}))},R=()=>{C({front:!1,back:!1}),M(null)},U=I=>{l(D=>({...D,[I]:null})),G.success(`${I==="front"?"Front":"Back"} license image removed`)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Driver Profile"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your personal information and address"})]}),e&&i.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Profile Status"}),i.jsx("p",{className:"text-sm text-gray-500",children:e.profileCompleted?"Profile Completed":"Profile Incomplete"})]}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${e.status==="Hired"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:e.status})})]})}),e&&!e.profileCompleted&&i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-6 w-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("h3",{className:"text-lg font-medium text-yellow-800",children:"Complete Your Profile"}),i.jsxs("div",{className:"mt-2 text-sm text-yellow-700",children:[i.jsx("p",{children:"Your profile is incomplete. Please fill out all the required information below to:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"Make yourself visible to businesses"}),i.jsx("li",{children:"Receive job offers"}),i.jsx("li",{children:"Complete your driver verification"})]})]})]})]})}),i.jsx("form",{onSubmit:W,className:"space-y-6",noValidate:!0,children:i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-primary-200 overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 px-6 py-8",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-20 w-20 bg-white rounded-full flex items-center justify-center overflow-hidden shadow-lg",children:w?i.jsx("img",{src:w,alt:"Profile",className:"h-full w-full object-cover"}):i.jsx("svg",{className:"h-10 w-10 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"ml-6 text-white",children:[i.jsx("h2",{className:"text-2xl font-bold",children:n.name||"Driver Name"}),i.jsx("p",{className:"text-primary-100 text-lg",children:n.dlNumber||"License Number"}),S.city&&i.jsxs("p",{className:"text-primary-200 text-sm mt-1",children:[S.city,", ",S.state]})]})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Icon"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"h-16 w-16 rounded-full bg-gray-200 flex items-center justify-center overflow-hidden",children:w?i.jsx("img",{src:w,alt:"Profile",className:"h-full w-full object-cover"}):i.jsx("svg",{className:"h-8 w-8 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),i.jsx("input",{ref:V,type:"file",accept:"image/*",onChange:O,className:"block text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100"})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[i.jsx("svg",{className:"h-5 w-5 mr-2 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Personal Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",value:n.name,onChange:I=>s(D=>({...D,name:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth"}),i.jsx("input",{type:"date",value:n.dateOfBirth,onChange:I=>s(D=>({...D,dateOfBirth:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blood Group"}),i.jsx("input",{type:"text",value:n.bloodGroup,onChange:I=>s(D=>({...D,bloodGroup:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Blood Group (e.g., A+, B-, O+)",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Classes"}),i.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50",children:n.vehicleClass.length>0?i.jsx("div",{className:"flex flex-wrap gap-2",children:n.vehicleClass.map((I,D)=>i.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:I},D))}):i.jsx("span",{className:"text-gray-500",children:"Vehicle classes will be extracted from license back"})})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[i.jsx("svg",{className:"h-5 w-5 mr-2 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Driving License Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driving License Front"}),i.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:o.front?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:o.front,alt:"License Front",className:"w-full h-32 object-cover rounded cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>te("front",o.front)}),i.jsx("button",{onClick:()=>U("front"),className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 transition-colors",title:"Remove image",children:i.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m&&i.jsx("div",{className:"text-center text-sm text-blue-600",children:"Extracting data automatically..."}),i.jsxs("div",{className:"text-center",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:I=>c("front",I.target.files[0]),className:"hidden",id:"front-upload-new"}),i.jsx("label",{htmlFor:"front-upload-new",className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800 underline",children:"Upload different image"})]})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:I=>c("front",I.target.files[0]),className:"hidden",id:"front-upload"}),i.jsxs("label",{htmlFor:"front-upload",className:"cursor-pointer text-gray-500 hover:text-gray-700",children:[i.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:i.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),i.jsx("p",{className:"mt-2 text-sm",children:"Click to upload front image"})]})]})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Driving License Back"}),i.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:o.back?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:o.back,alt:"License Back",className:"w-full h-32 object-cover rounded cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>te("back",o.back)}),i.jsx("button",{onClick:()=>U("back"),className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1 transition-colors",title:"Remove image",children:i.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m&&i.jsx("div",{className:"text-center text-sm text-blue-600",children:"Extracting vehicle class..."}),i.jsxs("div",{className:"text-center",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:I=>c("back",I.target.files[0]),className:"hidden",id:"back-upload-new"}),i.jsx("label",{htmlFor:"back-upload-new",className:"cursor-pointer text-sm text-blue-600 hover:text-blue-800 underline",children:"Upload different image"})]})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:I=>c("back",I.target.files[0]),className:"hidden",id:"back-upload"}),i.jsxs("label",{htmlFor:"back-upload",className:"cursor-pointer text-gray-500 hover:text-gray-700",children:[i.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:i.jsx("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})}),i.jsx("p",{className:"mt-2 text-sm",children:"Click to upload back image"})]})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driving License Number"}),i.jsx("input",{type:"text",value:n.dlNumber,onChange:I=>s(D=>({...D,dlNumber:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issue Date"}),i.jsx("input",{type:"date",value:n.dlIssueDate,onChange:I=>s(D=>({...D,dlIssueDate:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Validity Date"}),i.jsx("input",{type:"date",value:n.dlValidity,onChange:I=>s(D=>({...D,dlValidity:I.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Permanent Address"}),i.jsx("textarea",{value:n.permanentAddress,onChange:I=>s(D=>({...D,permanentAddress:I.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",required:!0})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[i.jsxs("svg",{className:"h-5 w-5 mr-2 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Current Address"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),i.jsx("input",{type:"text",name:"city",value:S.city,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"City"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),i.jsx("input",{type:"text",name:"state",value:S.state,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"State"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),i.jsx("input",{type:"text",name:"pincode",value:S.pincode,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"123456"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),i.jsx("input",{type:"text",name:"country",value:S.country,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Country"})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[i.jsx("button",{type:"button",onClick:()=>g(!1),className:"px-6 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:y,className:"px-6 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 rounded-md flex items-center",children:y?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Saving..."]}):"Save Profile"})]})]})]})}),(_.front||_.back)&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",onClick:R,children:i.jsxs("div",{className:"relative max-w-4xl max-h-full p-4",children:[i.jsx("button",{onClick:R,className:"absolute top-4 right-4 bg-white hover:bg-gray-100 text-gray-800 rounded-full p-2 z-10 transition-colors",children:i.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),i.jsx("img",{src:E,alt:"License Image",className:"max-w-full max-h-full object-contain rounded-lg",onClick:I=>I.stopPropagation()})]})})]})},yL=({jobOffers:e,offersLoading:t,respondToOffer:n})=>i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Job Offers"}),i.jsx("div",{className:"bg-white shadow rounded-lg p-6",children:t?i.jsxs("div",{className:"text-center py-6",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading job offers..."})]}):e.length===0?i.jsxs("div",{className:"text-center py-6",children:[i.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),i.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No job offers"}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"You haven't received any job offers yet."})]}):i.jsx("div",{className:"space-y-4",children:e.map(s=>{var o,l;return i.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"flex justify-between items-start",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:((o=s.business)==null?void 0:o.companyName)||((l=s.business)==null?void 0:l.email)||"Unknown Business"}),i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="pending"?"bg-yellow-100 text-yellow-800":s.status==="accepted"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.status})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.message}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-sm text-gray-500",children:[i.jsx("span",{className:"font-medium",children:"Salary:"})," ",s.salaryPerDay,"/day"]}),i.jsxs("div",{className:"text-sm text-gray-500",children:[i.jsx("span",{className:"font-medium",children:"Sent:"})," ",new Date(s.sentAt).toLocaleDateString()]})]})]})}),s.status==="pending"&&i.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[i.jsx("button",{onClick:()=>n(s.id,"rejected"),className:"px-4 py-2 text-sm font-medium text-red-700 bg-red-100 hover:bg-red-200 rounded-md",children:"Reject"}),i.jsx("button",{onClick:()=>n(s.id,"accepted"),className:"px-4 py-2 text-sm font-medium text-white bg-green-600 hover:bg-green-700 rounded-md",children:"Accept"})]})]},s.id)})})})]}),vL=({onLogout:e})=>{const[t,n]=b.useState("overview"),[s,o]=b.useState(null),[l,c]=b.useState(!1),[d,h]=b.useState({dlNumber:"",dlIssueDate:"",dlValidity:"",name:"",dateOfBirth:"",bloodGroup:"",permanentAddress:"",vehicleClass:[]}),[m,p]=b.useState({front:null,back:null}),[g,y]=b.useState([]),[P,w]=b.useState(!1),N=()=>{e()};b.useEffect(()=>{S()},[]),b.useEffect(()=>{t==="offers"&&k()},[t]);const S=async()=>{try{const V=localStorage.getItem("token"),O=await fetch("/api/drivers/profile",{headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(O.ok){const z=await O.json();o(z.driver),z.driver&&h({dlNumber:z.driver.dlNumber||"",dlIssueDate:z.driver.dlIssueDate?new Date(z.driver.dlIssueDate).toISOString().split("T")[0]:"",dlValidity:z.driver.dlValidity?new Date(z.driver.dlValidity).toISOString().split("T")[0]:"",name:z.driver.name||"",dateOfBirth:z.driver.dateOfBirth?new Date(z.driver.dateOfBirth).toISOString().split("T")[0]:"",bloodGroup:z.driver.bloodGroup||"",permanentAddress:z.driver.permanentAddress||"",vehicleClass:z.driver.vehicleClass||[]})}}catch(V){console.error("Error loading driver profile:",V)}},k=async()=>{try{w(!0);const V=localStorage.getItem("token"),O=await fetch("/api/job-offers/driver",{headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(O.ok){const z=await O.json();console.log("Job offers response:",z),console.log("Job offers data:",z.jobOffers),y(z.jobOffers||[])}else console.error("Failed to load job offers:",O.status),G.error("Failed to load job offers")}catch(V){console.error("Error loading job offers:",V),G.error("Error loading job offers")}finally{w(!1)}},_=async(V,O)=>{try{const z=localStorage.getItem("token"),ee=await fetch(`/api/job-offers/${V}/status`,{method:"PUT",headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"},body:JSON.stringify({status:O})});if(ee.ok)G.success(`Job offer ${O} successfully!`),k();else{const J=await ee.json();G.error(J.message||`Failed to ${O} offer`)}}catch(z){console.error(`Error ${O}ing offer:`,z),G.error(`Error ${O}ing offer`)}},C=(V,O)=>{const z=new FileReader;z.onload=async ee=>{const J=ee.target.result;p(W=>({...W,[V]:J})),await E(V,J)},z.readAsDataURL(O)},E=async(V,O=null)=>{const z=O||m[V];if(!z){alert("Please upload an image first");return}c(!0);try{const ee=localStorage.getItem("token"),J=z.split(",")[1],W=await fetch("/api/drivers/extract-license-info",{method:"POST",headers:{Authorization:`Bearer ${ee}`,"Content-Type":"application/json"},body:JSON.stringify({imageBase64:J,mimeType:"image/jpeg",side:V})});if(W.ok){const te=await W.json();if(te.success){const R=te.data;if(V==="front"){h(I=>({...I,dlNumber:R.dlNumber!=="Not Available"?R.dlNumber:I.dlNumber,dlIssueDate:R.dlIssueDate?R.dlIssueDate:I.dlIssueDate,dlValidity:R.dlValidity?R.dlValidity:I.dlValidity,name:R.name!=="Not Available"?R.name:I.name,dateOfBirth:R.dateOfBirth?R.dateOfBirth:I.dateOfBirth,bloodGroup:R.bloodGroup!=="Not Available"?R.bloodGroup:I.bloodGroup,permanentAddress:R.permanentAddress!=="Not Available"?R.permanentAddress:I.permanentAddress}));const U=[];R.dlNumber!=="Not Available"&&U.push("DL Number"),R.name!=="Not Available"&&U.push("Name"),R.dlIssueDate&&U.push("Issue Date"),R.dlValidity&&U.push("Validity"),R.dateOfBirth&&U.push("Date of Birth"),R.bloodGroup!=="Not Available"&&U.push("Blood Group"),R.permanentAddress!=="Not Available"&&U.push("Address"),console.log(`Front side extracted: ${U.join(", ")}`)}else{const I=(Array.isArray(R.vehicleClass)?R.vehicleClass:[R.vehicleClass]).filter(D=>D!=="Not Available");I.length>0&&(h(D=>({...D,vehicleClass:I})),console.log(`Back side extracted: Vehicle Classes - ${I.join(", ")}`))}}}else{const te=await W.json();console.error(`Failed to extract information: ${te.message||"Unknown error"}`)}}catch(ee){console.error("Error extracting license info:",ee),alert("Error extracting information from image")}finally{c(!1)}},M=async V=>{if(V.preventDefault(),!m.front||!m.back){alert("Please upload both front and back images of your driving license");return}c(!0);try{const O=localStorage.getItem("token"),z=m.front.split(",")[1],ee=m.back.split(",")[1],J=await fetch("/api/drivers/upload-license",{method:"POST",headers:{Authorization:`Bearer ${O}`,"Content-Type":"application/json"},body:JSON.stringify({...d,frontImageBase64:z,backImageBase64:ee})});if(J.ok){const W=await J.json();alert("Profile updated successfully!"),S()}else{const W=await J.json();alert(W.message||"Failed to update profile")}}catch(O){console.error("Error updating profile:",O),alert("Error updating profile")}finally{c(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[i.jsxs("div",{className:"w-64 bg-white shadow-lg flex flex-col sticky top-0 h-screen",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-8 w-8 bg-primary-400 rounded-lg flex items-center justify-center mr-3",children:i.jsxs("svg",{className:"h-5 w-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[i.jsx("path",{d:"M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"}),i.jsx("path",{d:"M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 14H17a1 1 0 001-1V8a1 1 0 00-1-1h-3z"})]})}),i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"MobiTrak Driver"})]})}),i.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2",children:[{id:"overview",name:"Overview",icon:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"},{id:"profile",name:"Profile",icon:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},{id:"offers",name:"Job Offers",icon:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"}].map(V=>i.jsxs("button",{onClick:()=>n(V.id),className:`w-full flex items-center px-4 py-3 text-sm font-medium rounded-lg transition-colors ${t===V.id?"bg-primary-100 text-primary-700 border-r-2 border-primary-500":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[i.jsx("svg",{className:"h-5 w-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:V.icon})}),i.jsx("span",{className:"flex-1 text-left",children:V.name}),V.id==="profile"&&s&&!s.profileCompleted&&i.jsx("div",{className:"flex items-center",children:i.jsxs("div",{className:"relative",children:[i.jsx("svg",{className:"h-4 w-4 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),i.jsx("div",{className:"absolute -top-1 -right-1 h-2 w-2 bg-red-500 rounded-full animate-pulse"})]})})]},V.id))}),i.jsxs("div",{className:"p-4 border-t border-gray-200",children:[i.jsxs("div",{className:"flex items-center mb-4",children:[i.jsx("div",{className:"h-12 w-12 bg-gray-300 rounded-full flex items-center justify-center mr-3 overflow-hidden",children:s!=null&&s.profileIcon?i.jsx("img",{src:s.profileIcon,alt:"Profile",className:"h-full w-full object-cover"}):i.jsx("svg",{className:"h-6 w-6 text-gray-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(s==null?void 0:s.name)||"Driver Name"}),i.jsx("p",{className:"text-xs text-gray-500 truncate",children:(s==null?void 0:s.dlNumber)||"License Number"}),(s==null?void 0:s.status)&&i.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 rounded-full text-xs font-medium ${s.status==="Hired"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:s.status})]})]}),s&&!s.profileCompleted&&i.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"h-4 w-4 text-yellow-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),i.jsx("p",{className:"text-xs text-yellow-800",children:"Complete your profile to receive job offers"})]})}),i.jsx("button",{onClick:N,className:"w-full bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors",children:"Logout"})]})]}),i.jsx("div",{className:"flex-1 flex flex-col min-h-screen",children:i.jsx("main",{className:"flex-1 py-8 px-6",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[t==="overview"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Driver Overview"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Profile Status"}),i.jsx("p",{className:"text-blue-700",children:s!=null&&s.profileCompleted?"Complete":"Incomplete"})]}),i.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Job Offers"}),i.jsxs("p",{className:"text-green-700",children:[g.length," available"]})]}),i.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Driver Status"}),i.jsx("p",{className:"text-purple-700",children:(s==null?void 0:s.status)||"Pending"})]})]})]})}),t==="profile"&&i.jsx(xL,{driverProfile:s,setDriverProfile:o,profileForm:d,setProfileForm:h,licenseImages:m,setLicenseImages:p,handleImageUpload:C,extractLicenseInfo:E,handleSubmitProfile:M,loading:l}),t==="offers"&&i.jsx(yL,{jobOffers:g,offersLoading:P,respondToOffer:_})]})})}),i.jsx(_f,{position:"top-right"})]})};function wL(){const[e,t]=b.useState(null),[n,s]=b.useState(!0);b.useEffect(()=>{const c=localStorage.getItem("token"),d=localStorage.getItem("user");c&&d&&t(JSON.parse(d)),s(!1)},[]);const o=(c,d)=>{t(c),localStorage.setItem("user",JSON.stringify(c)),localStorage.setItem("token",d)},l=()=>{t(null),localStorage.removeItem("user"),localStorage.removeItem("token")};return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500"})}):i.jsx(qj,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsxs($j,{children:[i.jsx(Wr,{path:"/login",element:e?i.jsx(bs,{to:`/${e.role}/dashboard`}):i.jsx(YT,{onLogin:o})}),i.jsx(Wr,{path:"/register",element:e?i.jsx(bs,{to:`/${e.role}/dashboard`}):i.jsx(XT,{onLogin:o})}),i.jsx(Wr,{path:"/business/dashboard",element:(e==null?void 0:e.role)==="business"?i.jsx(uL,{onLogout:l}):i.jsx(bs,{to:"/login"})}),i.jsx(Wr,{path:"/customer/dashboard",element:(e==null?void 0:e.role)==="customer"?i.jsx(gL,{onLogout:l}):i.jsx(bs,{to:"/login"})}),i.jsx(Wr,{path:"/driver/dashboard",element:(e==null?void 0:e.role)==="driver"?i.jsx(vL,{onLogout:l}):i.jsx(bs,{to:"/login"})}),i.jsx(Wr,{path:"/",element:i.jsx(bs,{to:"/login"})})]}),i.jsx(_f,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]})})}Ku.createRoot(document.getElementById("root")).render(i.jsx(J0.StrictMode,{children:i.jsx(wL,{})}));
